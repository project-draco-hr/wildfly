{
  if (!value.isDefined()) {
    return nullable ? null : "Parameter " + parameterName + " may not be null ";
  }
 else {
    boolean matched=false;
    if (strictType) {
      matched=validTypes.contains(value.getType());
    }
 else {
      for (      ModelType validType : validTypes) {
        if (matches(value,validType)) {
          matched=true;
          break;
        }
      }
    }
    return matched ? null : "Wrong type for " + parameterName + ". Expected "+ validTypes.toString()+ " but was "+ value.getType();
  }
}
