{
  DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final EjbJarDescription ejbModuleDescription=deploymentUnit.getAttachment(EjbDeploymentAttachmentKeys.EJB_JAR_DESCRIPTION);
  final EEModuleDescription moduleDescription=deploymentUnit.getAttachment(org.jboss.as.ee.component.Attachments.EE_MODULE_DESCRIPTION);
  final String applicationName=moduleDescription.getApplicationName();
  String ejbName=mdb.getEjbName();
  String ejbClassName=mdb.getEjbClass();
  MessageDrivenComponentDescription mdbDescription=new MessageDrivenComponentDescription(ejbName,ejbClassName,ejbModuleDescription,deploymentUnit.getServiceName());
  mdbDescription.setMessageListenerInterfaceName(mdb.getMessagingType());
  ejbModuleDescription.getEEModuleDescription().addComponent(mdbDescription);
}
