byte[] source
int pos
int limit
boolean wrap
