{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (!isWarDeployment(deploymentUnit)) {
    return;
  }
  final ModuleLoader moduleLoader=Module.getSystemModuleLoader();
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,JAVAX_SERVLET_API,false,false,false));
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,JAVAX_SERVLET_API,false,false,false));
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,JAVAX_SERVLET_JSP_API,false,false,false));
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,JBOSS_WEB,false,false,false));
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,SYSTEM,false,false,false));
  deploymentUnit.addToAttachmentList(Attachments.MODULE_DEPENDENCIES,new ModuleDependency(moduleLoader,LOG,false,false,false));
}
