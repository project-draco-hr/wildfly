{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
  if (!DeploymentTypeMarker.isType(DeploymentType.WAR,deploymentUnit)) {
    return;
  }
  final ModuleLoader moduleLoader=Module.getBootModuleLoader();
  moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JAVAX_EE_API,false,false,false));
  moduleSpecification.addDependency(new ModuleDependency(moduleLoader,APACHE_XERCES,false,false,true));
  ModuleDependency jsf=new ModuleDependency(moduleLoader,JSF_IMPL,false,false,false);
  jsf.addImportFilter(PathFilters.getMetaInfFilter(),true);
  moduleSpecification.addDependency(jsf);
  moduleSpecification.addDependency(new ModuleDependency(moduleLoader,BEAN_VALIDATION,false,false,true));
  moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WEB,false,false,true));
  moduleSpecification.addDependency(new ModuleDependency(moduleLoader,LOG,false,false,false));
}
