{
  return new ContentVerificationPolicy(){
    @Override public boolean ignoreContentValidation(    ContentItem item){
      final ContentType type=item.getContentType();
      if (type == ContentType.MODULE || type == ContentType.BUNDLE) {
        return ignoreModulesChanges;
      }
      final MiscContentItem misc=(MiscContentItem)item;
      final String path=misc.getRelativePath();
      if (override.contains(path)) {
        return true;
      }
      if (preserve.contains(path)) {
        return true;
      }
      return overrideAll;
    }
    @Override public boolean preserveExisting(    ContentItem item){
      final ContentType type=item.getContentType();
      if (type == ContentType.MISC) {
        final MiscContentItem misc=(MiscContentItem)item;
        final String path=misc.getRelativePath();
        return preserve.contains(path);
      }
      return false;
    }
  }
;
}
