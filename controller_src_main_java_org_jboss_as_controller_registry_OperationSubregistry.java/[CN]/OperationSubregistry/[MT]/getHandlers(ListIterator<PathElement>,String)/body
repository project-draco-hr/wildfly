{
  final Map<String,OperationRegistry> snapshot=childRegistriesUpdater.get(this);
  final OperationRegistry childRegistry=snapshot.get(child);
  final OperationRegistry wildcardRegistry=snapshot.get(this);
  if (wildcardRegistry == null) {
    if (childRegistry == null) {
      return Collections.emptyMap();
    }
 else {
      return childRegistry.getHandlers(iterator);
    }
  }
 else {
    if (childRegistry == null) {
      return wildcardRegistry.getHandlers(iterator);
    }
 else {
      final Map<String,OperationHandler> wildcardHandlers=wildcardRegistry.getHandlers(iterator);
      final Map<String,OperationHandler> childHandlers=childRegistry.getHandlers(iterator);
      final FastCopyHashMap<String,OperationHandler> combined=new FastCopyHashMap<String,OperationHandler>(childHandlers);
      combined.putAll(wildcardHandlers);
      return combined;
    }
  }
}
