{
  final File buildServerHome=getASHome();
  final File modulesRoot=new File(buildServerHome,"modules");
  System.setProperty("module.path",modulesRoot.getAbsolutePath());
  final File standalone=new File(buildServerHome,"standalone");
  if (!standalone.exists()) {
    throw new IOException(standalone.getAbsolutePath());
  }
  final File tempServerDir=createTarget(serverName);
  copyFiles("configuration",standalone,tempServerDir);
  copyFiles("data/system-content",standalone,tempServerDir);
  final Properties props=new Properties();
  props.put(ServerEnvironment.HOME_DIR,tempServerDir.getAbsolutePath());
  props.put(ServerEnvironment.SERVER_BASE_DIR,tempServerDir.getAbsolutePath());
  props.put(ServerEnvironment.MODULES_DIR,modulesRoot.getAbsolutePath());
  ServerEnvironment env=new ServerEnvironment(props,serverName,true);
  return StandaloneServerFactory.create(env);
}
