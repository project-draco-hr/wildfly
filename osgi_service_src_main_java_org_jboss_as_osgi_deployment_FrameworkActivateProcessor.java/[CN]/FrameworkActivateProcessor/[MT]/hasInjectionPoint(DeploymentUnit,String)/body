{
  boolean result=false;
  CompositeIndex compositeIndex=depUnit.getAttachment(Attachments.COMPOSITE_ANNOTATION_INDEX);
  List<AnnotationInstance> annotationList=compositeIndex.getAnnotations(DotName.createSimple(anName));
  for (  AnnotationInstance instance : annotationList) {
    AnnotationTarget target=instance.target();
    if (target instanceof FieldInfo) {
      FieldInfo fieldInfo=(FieldInfo)target;
      String typeName=fieldInfo.type().toString();
      if (typeName.startsWith("org.osgi.framework") || typeName.startsWith("org.osgi.service")) {
        LOGGER.debugf("OSGi injection point of type '%s' detected: %s",typeName,fieldInfo.declaringClass());
        result=true;
        break;
      }
    }
  }
  return result;
}
