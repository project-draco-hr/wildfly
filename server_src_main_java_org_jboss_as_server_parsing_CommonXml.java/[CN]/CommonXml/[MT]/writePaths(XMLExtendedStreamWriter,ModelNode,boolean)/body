{
  List<Property> paths=node.asPropertyList();
  for (Iterator<Property> it=paths.iterator(); it.hasNext(); ) {
    ModelNode path=it.next().getValue();
    if (!path.isDefined()) {
      it.remove();
    }
  }
  if (paths.size() > 0) {
    writer.writeStartElement(Element.PATHS.getLocalName());
    for (    final Property path : paths) {
      final ModelNode value=path.getValue();
      writer.writeEmptyElement(Element.PATH.getLocalName());
      writer.writeAttribute(Attribute.NAME.getLocalName(),path.getName());
      if (!namedPath || value.get(PATH).isDefined()) {
        writer.writeAttribute(Attribute.PATH.getLocalName(),value.get(PATH).asString());
      }
      if (value.has(RELATIVE_TO) && value.get(RELATIVE_TO).isDefined()) {
        writer.writeAttribute(Attribute.RELATIVE_TO.getLocalName(),value.get(RELATIVE_TO).asString());
      }
    }
    writer.writeEndElement();
  }
}
