{
  final IoFuture<Channel> future=connection.openChannel(DEFAULT_CHANNEL_SERVICE_TYPE,OptionMap.EMPTY);
  final Channel channel=future.get();
  channel.addCloseHandler(new CloseHandler<Channel>(){
    @Override public void handleClose(    final Channel old,    final IOException e){
synchronized (ChannelStrategy.this) {
        if (ChannelStrategy.this.channel == old) {
          ChannelStrategy.this.channel=null;
        }
      }
      handler.handleChannelClosed(old,e);
    }
  }
);
  return channel;
}
