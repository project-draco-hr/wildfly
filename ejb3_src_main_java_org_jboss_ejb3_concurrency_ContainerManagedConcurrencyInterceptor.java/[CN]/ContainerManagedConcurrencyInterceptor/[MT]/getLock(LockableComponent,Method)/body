{
  LockType lockType=lockableComponent.getLockType(method);
switch (lockType) {
case READ:
    return readWriteLock.readLock();
case WRITE:
  return readWriteLock.writeLock();
}
throw new IllegalStateException("Illegal lock type " + lockType + " on "+ method+ " for component "+ lockableComponent);
}
