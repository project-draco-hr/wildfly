{
  boolean loadRequired=properties == null || fileUpdated != propertiesFile.lastModified();
  if (loadRequired) {
synchronized (this) {
      long fileLastModified=propertiesFile.lastModified();
      boolean loadReallyRequired=properties == null || fileUpdated != fileLastModified;
      if (loadReallyRequired) {
        ROOT_LOGGER.debugf("Reloading properties file '%s'",propertiesFile.getAbsolutePath());
        Properties props=new Properties();
        InputStreamReader is=new InputStreamReader(new FileInputStream(propertiesFile),Charset.forName("UTF-8"));
        try {
          props.load(is);
        }
  finally {
          is.close();
        }
        verifyProperties(props);
        properties=props;
        fileUpdated=fileLastModified;
      }
    }
  }
  return properties;
}
