{
  executeDeployment(initializeDeployment("/test/serviceXmlDeployment.jar"));
  final ServiceController<?> testServiceController=serviceContainer.getService(TEST_SERVICE_NAME.append("createDestroy"));
  assertNotNull(testServiceController);
  assertEquals(ServiceController.State.UP,testServiceController.getState());
  final LegacyService legacyService=(LegacyService)testServiceController.getValue();
  assertNotNull(legacyService);
  assertEquals("Test Value",legacyService.getSomethingElse());
  final ServiceController<?> testServiceControllerTwo=serviceContainer.getService(TEST_TWO_SERVICE_NAME.append("createDestroy"));
  assertNotNull(testServiceControllerTwo);
  assertEquals(ServiceController.State.UP,testServiceControllerTwo.getState());
  final LegacyService legacyServiceTwo=(LegacyService)testServiceControllerTwo.getValue();
  assertNotNull(legacyServiceTwo);
  assertEquals(legacyService,legacyServiceTwo.getOther());
  assertEquals("Test Value - more value",legacyServiceTwo.getSomethingElse());
  final ServiceController<?> testServiceControllerThree=serviceContainer.getService(TEST_THREE_SERVICE_NAME.append("createDestroy"));
  assertNotNull(testServiceControllerThree);
  assertEquals(ServiceController.State.UP,testServiceControllerThree.getState());
  final LegacyService legacyServiceThree=(LegacyService)testServiceControllerThree.getValue();
  assertNotNull(legacyServiceThree);
  assertEquals(legacyService,legacyServiceThree.getOther());
  assertEquals("Another test value",legacyServiceThree.getSomethingElse());
}
