{
  context.startSubsystemElement(EeExtension.NAMESPACE,false);
  ModelNode eeSubSystem=context.getModelNode();
  if (eeSubSystem.hasDefined(CommonAttributes.EAR_SUBDEPLOYMENTS_ISOLATED)) {
    writer.writeAttribute(Attribute.EAR_SUBDEPLOYMENTS_ISOLATED.getLocalName(),eeSubSystem.get(CommonAttributes.EAR_SUBDEPLOYMENTS_ISOLATED).asString());
  }
  if (eeSubSystem.hasDefined(CommonAttributes.GLOBAL_MODULES)) {
    writer.writeStartElement(Element.GLOBAL_MODULES.getLocalName());
    final ModelNode globalModules=eeSubSystem.get(CommonAttributes.GLOBAL_MODULES);
    for (    ModelNode module : globalModules.asList()) {
      writer.writeStartElement(Element.MODULE.getLocalName());
      writer.writeAttribute(Attribute.NAME.getLocalName(),module.get(CommonAttributes.NAME).asString());
      writer.writeAttribute(Attribute.SLOT.getLocalName(),module.get(CommonAttributes.SLOT).asString());
      writer.writeEndElement();
    }
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
