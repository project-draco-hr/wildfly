{
  String transportClassName=null;
  String transportClassProviderName=(String)dep.getProperty(WSConstants.STACK_TRANSPORT_CLASS_PROVIDER);
  if (transportClassProviderName != null) {
    try {
      ServletClassProvider scp=(ServletClassProvider)(Class.forName(transportClassProviderName).newInstance());
      transportClassName=scp.getServletClassName();
    }
 catch (    Exception e) {
      log.warn("Cannot get transport class name from " + WSConstants.STACK_TRANSPORT_CLASS_PROVIDER,e);
    }
  }
  if (transportClassName == null) {
    transportClassName=(String)dep.getProperty(WSConstants.STACK_TRANSPORT_CLASS);
  }
  if (transportClassName == null) {
    throw new IllegalStateException("Cannot obtain deployment property : " + WSConstants.STACK_TRANSPORT_CLASS);
  }
  return transportClassName;
}
