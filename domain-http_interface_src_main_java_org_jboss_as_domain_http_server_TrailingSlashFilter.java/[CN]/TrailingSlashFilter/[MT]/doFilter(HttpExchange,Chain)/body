{
  URI requestURI=exchange.getRequestURI();
  String path=requestURI.getPath();
  if (path.endsWith("/") == false) {
    Headers responseHeaders=exchange.getResponseHeaders();
    responseHeaders.add(LOCATION,path + "/");
    exchange.sendResponseHeaders(MOVED_PERMENANTLY,0);
    exchange.close();
  }
 else {
    chain.doFilter(exchange);
  }
}
