{
  context.startSubsystemElement(Namespace.CURRENT.getUriString(),false);
  ModelNode node=context.getModelNode();
  writer.writeStartElement(Element.CORE_ENVIRONMENT.getLocalName());
  TransactionSubsystemAdd.NODE_IDENTIFIER.marshallAsAttribute(node,writer);
  TransactionSubsystemAdd.PATH.marshallAsAttribute(node,writer);
  TransactionSubsystemAdd.RELATIVE_TO.marshallAsAttribute(node,writer);
  writeProcessId(writer,node);
  writer.writeEndElement();
  if (TransactionSubsystemAdd.BINDING.isMarshallable(node) || TransactionSubsystemAdd.STATUS_BINDING.isMarshallable(node) || TransactionSubsystemAdd.RECOVERY_LISTENER.isMarshallable(node)) {
    writer.writeStartElement(Element.RECOVERY_ENVIRONMENT.getLocalName());
    TransactionSubsystemAdd.BINDING.marshallAsAttribute(node,writer);
    TransactionSubsystemAdd.STATUS_BINDING.marshallAsAttribute(node,writer);
    TransactionSubsystemAdd.RECOVERY_LISTENER.marshallAsAttribute(node,writer);
    writer.writeEndElement();
  }
  if (TransactionSubsystemAdd.ENABLE_STATISTICS.isMarshallable(node) || TransactionSubsystemAdd.ENABLE_TSM_STATUS.isMarshallable(node) || TransactionSubsystemAdd.DEFAULT_TIMEOUT.isMarshallable(node)) {
    writer.writeStartElement(Element.COORDINATOR_ENVIRONMENT.getLocalName());
    TransactionSubsystemAdd.ENABLE_STATISTICS.marshallAsAttribute(node,writer);
    TransactionSubsystemAdd.ENABLE_TSM_STATUS.marshallAsAttribute(node,writer);
    TransactionSubsystemAdd.DEFAULT_TIMEOUT.marshallAsAttribute(node,writer);
    writer.writeEndElement();
  }
  if (TransactionSubsystemAdd.OBJECT_STORE_RELATIVE_TO.isMarshallable(node) || TransactionSubsystemAdd.OBJECT_STORE_PATH.isMarshallable(node)) {
    writer.writeStartElement(Element.OBJECT_STORE.getLocalName());
    TransactionSubsystemAdd.OBJECT_STORE_PATH.marshallAsAttribute(node,writer);
    TransactionSubsystemAdd.OBJECT_STORE_RELATIVE_TO.marshallAsAttribute(node,writer);
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
