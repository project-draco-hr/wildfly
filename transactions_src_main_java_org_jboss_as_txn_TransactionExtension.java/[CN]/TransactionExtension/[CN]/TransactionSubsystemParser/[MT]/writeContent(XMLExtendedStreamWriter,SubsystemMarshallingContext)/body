{
  context.startSubsystemElement(Namespace.CURRENT.getUriString(),false);
  ModelNode node=context.getModelNode();
  if (hasDefined(node,CORE_ENVIRONMENT) && node.get(CORE_ENVIRONMENT).asPropertyList().size() != 0) {
    writer.writeStartElement(Element.CORE_ENVIRONMENT.getLocalName());
    final ModelNode core=node.get(CORE_ENVIRONMENT).asPropertyList().get(0).getValue();
    if (hasDefined(core,NODE_IDENTIFIER)) {
      writeAttribute(writer,Attribute.NODE_IDENTIFIER,core.get(NODE_IDENTIFIER));
    }
    if (hasDefined(core,PROCESS_ID)) {
      writeProcessId(writer,core.get(PROCESS_ID));
    }
    writer.writeEndElement();
  }
  if (hasDefined(node,RECOVERY_ENVIRONMENT) && node.get(RECOVERY_ENVIRONMENT).asPropertyList().size() != 0) {
    writer.writeStartElement(Element.RECOVERY_ENVIRONMENT.getLocalName());
    final ModelNode env=node.get(RECOVERY_ENVIRONMENT).asPropertyList().get(0).getValue();
    if (hasDefined(env,BINDING)) {
      writeAttribute(writer,Attribute.BINDING,env.get(BINDING));
    }
    if (hasDefined(env,STATUS_BINDING)) {
      writeAttribute(writer,Attribute.STATUS_BINDING,env.get(STATUS_BINDING));
    }
    if (hasDefined(env,RECOVERY_LISTENER)) {
      writeAttribute(writer,Attribute.RECOVERY_LISTENER,env.get(RECOVERY_LISTENER));
    }
    writer.writeEndElement();
  }
  if (hasDefined(node,COORDINATOR_ENVIRONMENT) && node.get(COORDINATOR_ENVIRONMENT).asPropertyList().size() != 0) {
    writer.writeStartElement(Element.COORDINATOR_ENVIRONMENT.getLocalName());
    final ModelNode env=node.get(COORDINATOR_ENVIRONMENT).asPropertyList().get(0).getValue();
    if (hasDefined(env,ENABLE_STATISTICS)) {
      writeAttribute(writer,Attribute.ENABLE_STATISTICS,env.get(ENABLE_STATISTICS));
    }
    if (hasDefined(env,ENABLE_TSM_STATUS)) {
      writeAttribute(writer,Attribute.ENABLE_TSM_STATUS,env.get(ENABLE_TSM_STATUS));
    }
    if (hasDefined(env,DEFAULT_TIMEOUT)) {
      writeAttribute(writer,Attribute.DEFAULT_TIMEOUT,env.get(DEFAULT_TIMEOUT));
    }
    writer.writeEndElement();
  }
  if (hasDefined(node,OBJECT_STORE) && node.get(OBJECT_STORE).asPropertyList().size() != 0) {
    writer.writeStartElement(Element.OBJECT_STORE.getLocalName());
    final ModelNode env=node.get(OBJECT_STORE).asPropertyList().get(0).getValue();
    if (hasDefined(env,RELATIVE_TO)) {
      writeAttribute(writer,Attribute.RELATIVE_TO,env.get(RELATIVE_TO));
    }
    if (hasDefined(env,PATH)) {
      writeAttribute(writer,Attribute.PATH,env.get(PATH));
    }
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
