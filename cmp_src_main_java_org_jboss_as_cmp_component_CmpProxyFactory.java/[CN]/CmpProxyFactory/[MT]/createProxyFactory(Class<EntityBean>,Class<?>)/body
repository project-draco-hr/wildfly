{
  final ProxyConfiguration<EntityBean> proxyConfiguration=new ProxyConfiguration<EntityBean>();
  proxyConfiguration.setProxyName(beanClass.getName() + "$$$cmp" + PROXY_ID.incrementAndGet());
  proxyConfiguration.setClassLoader(beanClass.getClassLoader());
  proxyConfiguration.setProtectionDomain(beanClass.getProtectionDomain());
  proxyConfiguration.setSuperClass(beanClass);
  if (viewClasses != null) {
    for (    final Class<?> viewClass : viewClasses) {
      if (viewClass != null) {
        proxyConfiguration.addAdditionalInterface(viewClass);
      }
    }
  }
  proxyConfiguration.addAdditionalInterface(CmpProxy.class);
  return new CmpProxyFactory(beanClass,proxyConfiguration);
}
