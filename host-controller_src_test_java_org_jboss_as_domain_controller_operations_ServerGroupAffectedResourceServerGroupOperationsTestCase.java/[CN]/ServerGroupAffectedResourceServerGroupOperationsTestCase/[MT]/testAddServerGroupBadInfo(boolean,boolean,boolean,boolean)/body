{
  PathAddress pa=PathAddress.pathAddress(PathElement.pathElement(SERVER_GROUP,"group-three"));
  final MockOperationContext operationContext=getOperationContext(rollback,pa);
  String profileName=badProfile ? "bad-profile" : "profile-two";
  String socketBindingGroupName=badSocketBindingGroup ? "bad-group" : "binding-two";
  final ModelNode operation=new ModelNode();
  operation.get(OP_ADDR).set(pa.toModelNode());
  operation.get(OP).set(ADD);
  operation.get(PROFILE).set(profileName);
  operation.get(SOCKET_BINDING_GROUP).set(socketBindingGroupName);
  new ServerGroupAddHandler(master).execute(operationContext,operation);
  if (master && (badProfile || badSocketBindingGroup)) {
    Assert.fail();
  }
  if (rollback) {
    Assert.assertFalse(operationContext.isReloadRequired());
  }
 else {
    if (badProfile || badSocketBindingGroup) {
      Assert.assertTrue(operationContext.isReloadRequired());
    }
 else {
      Assert.assertFalse(operationContext.isReloadRequired());
    }
  }
}
