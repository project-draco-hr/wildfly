{
  if ("file".equals(url.getProtocol())) {
    try {
      File f=new File(url.toURI());
      return f.getName();
    }
 catch (    URISyntaxException e) {
      throw new IllegalArgumentException(url + " is not a valid URI",e);
    }
  }
  String path=url.getPath();
  int idx=path.lastIndexOf('/');
  while (idx == path.length() - 1) {
    path=path.substring(0,idx);
    idx=path.lastIndexOf('/');
  }
  if (idx == -1) {
    throw new IllegalArgumentException("Cannot derive a deployment name from " + url + " -- use an overloaded method variant that takes a 'name' parameter");
  }
  return path.substring(idx + 1);
}
