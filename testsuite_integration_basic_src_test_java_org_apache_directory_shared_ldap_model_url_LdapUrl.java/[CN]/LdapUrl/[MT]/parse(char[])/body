{
  scheme=LDAP_SCHEME;
  host=null;
  port=-1;
  dn=null;
  attributes=new ArrayList<String>();
  scope=SearchScope.OBJECT;
  filter=null;
  extensionList=new ArrayList<Extension>(2);
  if ((chars == null) || (chars.length == 0)) {
    host="";
    return;
  }
  int pos=0;
  if (((pos=Strings.areEquals(chars,0,LDAP_SCHEME)) == StringConstants.NOT_EQUAL) && ((pos=Strings.areEquals(chars,0,LDAPS_SCHEME)) == StringConstants.NOT_EQUAL)) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04398));
  }
 else {
    scheme=new String(chars,0,pos);
  }
  if ((pos=parseHostPort(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04399));
  }
  if (pos == chars.length) {
    return;
  }
  if (!Chars.isCharASCII(chars,pos,'/')) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04400,pos,chars[pos]));
  }
  pos++;
  if (pos == chars.length) {
    return;
  }
  if ((pos=parseDN(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04401));
  }
  if (pos == chars.length) {
    return;
  }
  if (!Chars.isCharASCII(chars,pos,'?')) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04402,pos,chars[pos]));
  }
  pos++;
  if ((pos=parseAttributes(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04403));
  }
  if (pos == chars.length) {
    return;
  }
  if (!Chars.isCharASCII(chars,pos,'?')) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04402,pos,chars[pos]));
  }
  pos++;
  if ((pos=parseScope(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04404));
  }
  if (pos == chars.length) {
    return;
  }
  if (!Chars.isCharASCII(chars,pos,'?')) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04402,pos,chars[pos]));
  }
  pos++;
  if (pos == chars.length) {
    return;
  }
  if ((pos=parseFilter(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04405));
  }
  if (pos == chars.length) {
    return;
  }
  if (!Chars.isCharASCII(chars,pos,'?')) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04402,pos,chars[pos]));
  }
  pos++;
  if ((pos=parseExtensions(chars,pos)) == -1) {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04406));
  }
  if (pos == chars.length) {
    return;
  }
 else {
    throw new LdapURLEncodingException(I18n.err(I18n.ERR_04407));
  }
}
