{
  List<File> inactiveDirs=null;
  for (  Layer layer : manager.getLayers()) {
    final File overlaysDir=new File(layer.getDirectoryStructure().getModuleRoot(),OVERLAYS);
    final File[] inactiveLayerDirs=overlaysDir.listFiles(new FileFilter(){
      @Override public boolean accept(      File pathname){
        return pathname.isDirectory() && !activeOverlays.contains(pathname);
      }
    }
);
    if (inactiveLayerDirs != null && inactiveLayerDirs.length > 0) {
      if (inactiveDirs == null) {
        inactiveDirs=new ArrayList<File>();
      }
      inactiveDirs.addAll(Arrays.asList(inactiveLayerDirs));
    }
  }
  return inactiveDirs == null ? Collections.<File>emptyList() : inactiveDirs;
}
