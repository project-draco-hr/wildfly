{
  final ServiceReferencesMetaData serviceRefsMD=environment.getEnvironment().getServiceReferences();
  if (serviceRefsMD == null) {
    return Collections.<BindingConfiguration>emptyList();
  }
  final List<BindingConfiguration> bindingDescriptions=new LinkedList<BindingConfiguration>();
  for (  final ServiceReferenceMetaData serviceRefMD : serviceRefsMD) {
    final String serviceRefTypeName=serviceRefMD.getServiceRefType();
    final Class<?> serviceRefType=getClass(classLoader,serviceRefTypeName);
    final UnifiedServiceRefMetaData serviceRefUMDM=new UnifiedServiceRefMetaData(getUnifiedVirtualFile(unit));
    translate(serviceRefMD,serviceRefUMDM);
    final WSReferences wsRefRegistry=getWSRefRegistry(unit);
    wsRefRegistry.add(serviceRefMD.getName(),serviceRefUMDM);
    final WSRefValueSource valueSource=new WSRefValueSource(serviceRefUMDM);
    final BindingConfiguration bindingConfiguration=new BindingConfiguration(serviceRefMD.getName(),valueSource);
    bindingDescriptions.add(bindingConfiguration);
    this.processInjectionTargets(moduleDescription,applicationClasses,valueSource,classLoader,deploymentReflectionIndex,serviceRefMD,serviceRefType);
  }
  return bindingDescriptions;
}
