{
  final UnifiedServiceRefMetaData serviceRefUMDM=new UnifiedServiceRefMetaData(getUnifiedVirtualFile(unit));
  serviceRefUMDM.setServiceRefName(serviceRefMD.getName());
  serviceRefUMDM.setServiceQName(serviceRefMD.getServiceQname());
  serviceRefUMDM.setServiceInterface(serviceRefMD.getServiceInterface());
  serviceRefUMDM.setServiceRefType(serviceRefMD.getServiceRefType());
  serviceRefUMDM.setWsdlFile(serviceRefMD.getWsdlFile());
  serviceRefUMDM.setMappingFile(serviceRefMD.getJaxrpcMappingFile());
  final Collection<? extends PortComponentRef> portComponentsMD=serviceRefMD.getPortComponentRef();
  if (portComponentsMD != null) {
    for (    final PortComponentRef portComponentMD : portComponentsMD) {
      final UnifiedPortComponentRefMetaData portComponentUMDM=getUnifiedPortComponentRefMetaData(serviceRefUMDM,portComponentMD);
      if (portComponentUMDM.getServiceEndpointInterface() != null || portComponentUMDM.getPortQName() != null) {
        serviceRefUMDM.addPortComponentRef(portComponentUMDM);
      }
 else {
      }
    }
  }
  if (serviceRefMD instanceof JBossServiceReferenceMetaData) {
    processUnifiedJBossServiceRefMetaData(serviceRefUMDM,serviceRefMD);
  }
  final boolean isJAXRPC=serviceRefUMDM.getMappingFile() != null || "javax.xml.rpc.Service".equals(serviceRefUMDM.getServiceInterface());
  serviceRefUMDM.setType(isJAXRPC ? ServiceRefHandler.Type.JAXRPC : ServiceRefHandler.Type.JAXWS);
  System.out.println("---------------------------");
  System.out.println("---------------------------");
  System.out.println(serviceRefUMDM);
  System.out.println("---------------------------");
  System.out.println("---------------------------");
  return serviceRefUMDM;
}
