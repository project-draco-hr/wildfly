{
  if (serviceRefMD.getJaxrpcMappingFile() != null || "javax.xml.rpc.Service".equals(serviceRefMD.getServiceInterface())) {
    throw MESSAGES.jaxRpcNotSupported();
  }
  final UnifiedServiceRefMetaData serviceRefUMDM=new UnifiedServiceRefMetaData(getUnifiedVirtualFile(unit));
  translate(serviceRefMD,serviceRefUMDM);
  processWSFeatures(unit,serviceRefMD.getInjectionTargets(),serviceRefUMDM);
  final WSReferences wsRefRegistry=getWSRefRegistry(unit);
  final String cacheKey=getCacheKey(componentDescription,serviceRefUMDM);
  wsRefRegistry.add(cacheKey,serviceRefUMDM);
  return serviceRefUMDM;
}
