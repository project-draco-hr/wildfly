{
  final int c1=moduleSpec.lastIndexOf(':');
  final String name;
  final String slot;
  if (c1 != -1) {
    name=moduleSpec.substring(0,c1);
    slot=moduleSpec.substring(c1 + 1);
  }
 else {
    name=moduleSpec;
    slot="main";
  }
  StringBuilder content=new StringBuilder("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");
  content.append(format("<module xmlns=\"urn:jboss:module:1.2\" name=\"%s\" slot=\"%s\">\n",name,slot));
  content.append("  <resources>\n");
  content.append("    <resource-root path=\".\"/>\n");
  for (  String resource : resources) {
    content.append(format("    <resource-root path=\"%s\"/>\n",resource));
  }
  content.append("  </resources>\n");
  content.append("</module>\n");
  ROOT_LOGGER.trace(content);
  File moduleXMLFile=touch(mainDir,"module.xml");
  dump(moduleXMLFile,content.toString());
  return moduleXMLFile;
}
