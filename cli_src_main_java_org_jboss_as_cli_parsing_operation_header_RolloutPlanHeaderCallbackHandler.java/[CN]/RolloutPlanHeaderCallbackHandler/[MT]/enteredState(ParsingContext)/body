{
  final String id=ctx.getState().getId();
  if (HeaderValueState.ID.equals(id)) {
    ctx.enterState(RolloutPlanState.INSTANCE);
  }
 else   if (ServerGroupState.ID.equals(id)) {
    group=new SingleRolloutPlanGroup();
  }
 else   if (ConcurrentSignState.ID.equals(id)) {
    concurrent=true;
  }
 else   if ("NAME_VALUE_SEPARATOR".equals(id)) {
    name=buffer.length() == 0 ? null : buffer.toString().trim();
    if (name == null || name.isEmpty()) {
      throw new CommandFormatException("Property is missing name at index " + ctx.getLocation());
    }
    if (name.equals(Util.IN_SERIES)) {
      ctx.enterState(ServerGroupListState.INSTANCE);
    }
  }
  buffer.setLength(0);
}
