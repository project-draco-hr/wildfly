{
  final ModelNode subsystemAdd=new ModelNode();
  final ModelNode subModel=context.getSubModel();
  PathAddress rootAddress=PathAddress.pathAddress(PathAddress.pathAddress(operation.require(OP_ADDR)).getLastElement());
  subsystemAdd.get(OP).set(ADD);
  subsystemAdd.get(OP_ADDR).set(rootAddress.toModelNode());
  for (  final String attribute : NewMessagingSubsystemProviders.MESSAGING_ROOT_ATTRIBUTES) {
    if (subModel.hasDefined(attribute)) {
      subsystemAdd.get(attribute).set(subModel.get(attribute));
    }
  }
  final ModelNode result=new ModelNode();
  result.add(subsystemAdd);
  resultHandler.handleResultFragment(Util.NO_LOCATION,result);
  resultHandler.handleResultComplete(new ModelNode());
  return Cancellable.NULL;
}
