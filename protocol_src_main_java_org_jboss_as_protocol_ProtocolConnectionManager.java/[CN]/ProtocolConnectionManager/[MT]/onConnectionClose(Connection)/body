{
synchronized (this) {
    if (connection == closed) {
      connection=null;
      if (shutdown) {
        connectTask=DISCONNECTED;
        return;
      }
      final ConnectTask previous=connectTask;
      connectTask=previous.connectionClosed();
    }
  }
}
