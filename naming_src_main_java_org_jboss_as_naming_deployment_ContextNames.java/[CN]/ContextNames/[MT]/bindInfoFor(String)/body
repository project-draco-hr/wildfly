{
  String bindName;
  if (jndiName.startsWith("java:")) {
    bindName=jndiName.substring(5);
  }
 else   if (!jndiName.startsWith("/")) {
    bindName="/" + jndiName;
  }
 else {
    bindName=jndiName;
  }
  final ServiceName parentContextName;
  if (bindName.startsWith("jboss/")) {
    parentContextName=JBOSS_CONTEXT_SERVICE_NAME;
    bindName=bindName.substring(6);
  }
 else   if (bindName.startsWith("global/")) {
    parentContextName=GLOBAL_CONTEXT_SERVICE_NAME;
    bindName=bindName.substring(6);
  }
 else   if (bindName.startsWith("/")) {
    parentContextName=JAVA_CONTEXT_SERVICE_NAME;
    bindName=bindName.substring(1);
  }
 else {
    throw new RuntimeException("Illegal context in name: " + jndiName);
  }
  return new BindInfo(parentContextName,bindName);
}
