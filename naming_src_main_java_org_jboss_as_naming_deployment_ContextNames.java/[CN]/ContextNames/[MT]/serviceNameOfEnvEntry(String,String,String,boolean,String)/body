{
  if (envEntryName.startsWith("java:")) {
    if (useCompNamespace) {
      return serviceNameOfContext(app,module,comp,envEntryName);
    }
 else {
      if (envEntryName.startsWith("java:comp")) {
        return serviceNameOfContext(app,module,module,"java:module" + envEntryName.substring("java:comp".length()));
      }
 else {
        return serviceNameOfContext(app,module,module,envEntryName);
      }
    }
  }
 else {
    if (useCompNamespace) {
      return serviceNameOfContext(app,module,comp,"java:comp/env/" + envEntryName);
    }
 else {
      return serviceNameOfContext(app,module,module,"java:module/env/" + envEntryName);
    }
  }
}
