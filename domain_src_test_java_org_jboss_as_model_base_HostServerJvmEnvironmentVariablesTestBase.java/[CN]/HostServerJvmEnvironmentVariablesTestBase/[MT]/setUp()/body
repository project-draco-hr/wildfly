{
  super.setUp();
  delegate=new JvmEnvironmentVariablesTestCommon(new JvmEnvironmentVariablesTestCommon.ContentAndPropertiesGetter(getXMLMapper(),getTargetNamespace(),getTargetNamespaceLocation()){
    @Override PropertiesElement getTestProperties(    String fullcontent) throws XMLStreamException, FactoryConfigurationError, UpdateFailedException {
      HostModel root=ModelParsingSupport.parseHostModel(getXMLMapper(),fullcontent);
      ServerElement server=root.getServer("test");
      assertNotNull(server);
      JvmElement jvm=server.getJvm();
      assertNotNull(jvm);
      PropertiesElement testee=jvm.getEnvironmentVariables();
      assertNotNull(testee);
      return testee;
    }
    @Override String getFullContent(    String testContent){
      testContent=ModelParsingSupport.wrapJvm(testContent);
      testContent=ModelParsingSupport.wrapServer(testContent);
      String fullcontent=ModelParsingSupport.getXmlContent(Element.HOST.getLocalName(),getTargetNamespace(),getTargetNamespaceLocation(),testContent);
      return fullcontent;
    }
  }
);
}
