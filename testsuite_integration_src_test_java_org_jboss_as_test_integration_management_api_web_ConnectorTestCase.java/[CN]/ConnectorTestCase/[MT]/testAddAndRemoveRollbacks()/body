{
  ModelNode addSocketOp=getAddSocketBindingOp(Connector.HTTP);
  ModelNode ret=executeAndRollbackOperation(addSocketOp);
  assertTrue("failed".equals(ret.get("outcome").asString()));
  executeOperation(addSocketOp);
  ModelNode addConnectorOp=getAddConnectorOp(Connector.HTTP);
  ret=executeAndRollbackOperation(addConnectorOp);
  assertTrue("failed".equals(ret.get("outcome").asString()));
  executeOperation(addConnectorOp);
  assertTrue(getConnectorList().contains("test-" + Connector.HTTP.getName() + "-connector"));
  ModelNode removeConnOp=getRemoveConnectorOp(Connector.HTTP);
  ret=executeAndRollbackOperation(removeConnOp);
  assertTrue("failed".equals(ret.get("outcome").asString()));
  executeOperation(removeConnOp);
  Thread.sleep(5000);
  String cURL=Connector.HTTP.getScheme() + "://" + url.getHost()+ ":8181";
  assertTrue("Connector not removed.",testRequestFail(cURL));
  ModelNode removeSocketOp=getRemoveSocketBindingOp(Connector.HTTP);
  ret=executeAndRollbackOperation(removeSocketOp);
  assertTrue("failed".equals(ret.get("outcome").asString()));
  executeOperation(removeSocketOp);
}
