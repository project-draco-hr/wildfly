{
  String name=operation.require(ModelDescriptionConstants.NAME).asString();
  Long id=Long.parseLong(PathAddress.pathAddress(operation.require(ModelDescriptionConstants.OP_ADDR)).getLastElement().getValue());
  BundleContext systemContext=getSystemContext(context);
  Bundle bundle=systemContext.getBundle(id);
  if (ModelConstants.ID.equals(name)) {
    context.getResult().set(id);
  }
 else   if (ModelConstants.STARTLEVEL.equals(name)) {
    StartLevel startLevel=getStartLevel(context);
    Integer level=startLevel != null ? startLevel.getBundleStartLevel(bundle) : null;
    if (level != null) {
      context.getResult().set(level);
    }
 else {
      ModelNode failureDescription=context.getFailureDescription();
      failureDescription.set(OSGiMessages.MESSAGES.startLevelSrviceNotAvailable());
    }
  }
 else   if (ModelConstants.STATE.equals(name)) {
    context.getResult().set(getBundleState(bundle));
  }
 else   if (ModelConstants.SYMBOLIC_NAME.equals(name)) {
    context.getResult().set(bundle.getSymbolicName());
  }
 else   if (ModelConstants.TYPE.equals(name)) {
    if (bundle.getHeaders().get(Constants.FRAGMENT_HOST) != null) {
      context.getResult().set(ModelConstants.FRAGMENT);
    }
 else {
      context.getResult().set(ModelConstants.BUNDLE);
    }
  }
 else   if (ModelConstants.VERSION.equals(name)) {
    context.getResult().set(bundle.getVersion().toString());
  }
  context.completeStep();
}
