{
  if (deploymentElement != null) {
    startStopHandler.undeploy(toReplace,updateContext.getServiceContainer(),resultHandler,param);
    startStopHandler.deploy(newDeployment,deploymentElement.getRuntimeName(),deploymentElement.getSha1Hash(),updateContext.getBatchBuilder(),updateContext.getServiceContainer(),resultHandler,param);
  }
 else   if (resultHandler != null) {
    throw new IllegalStateException("Unknown deployment " + newDeployment);
  }
}
