{
  final String webContext=operation.require(CONTEXT).asString();
  final String endpointName=operation.require(ENDPOINT).asString();
  ObjectName endpointObjectName=null;
  try {
    endpointObjectName=new ObjectName("jboss.ws:context=" + webContext + ",endpoint="+ endpointName);
  }
 catch (  final MalformedObjectNameException e) {
    throw new OperationFailedException(new ModelNode().set(e.getMessage()));
  }
  final String metricName=operation.require(NAME).asString();
  final EndpointRegistry registry=(EndpointRegistry)controller.getValue();
  final Endpoint endpoint=registry.getEndpoint(endpointObjectName);
  final ModelNode result=new ModelNode();
  if (endpoint != null && endpoint.getEndpointMetrics() != null) {
    final EndpointMetrics endpointMetrics=endpoint.getEndpointMetrics();
    if (START_TIME.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getStartTime()));
    }
 else     if (STOP_TIME.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getStopTime()));
    }
 else     if (MIN_PROCESSING_TIME.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getMinProcessingTime()));
    }
 else     if (MAX_PROCESSING_TIME.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getMaxProcessingTime()));
    }
 else     if (TOTAL_PROCESSING_TIME.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getTotalProcessingTime()));
    }
 else     if (REQUEST_COUNT.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getRequestCount()));
    }
 else     if (RESPONSE_COUNT.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getResponseCount()));
    }
 else     if (FAULT_COUNT.equals(metricName)) {
      result.set(String.valueOf(endpointMetrics.getFaultCount()));
    }
  }
 else {
    result.set(getFallbackMessage());
  }
  return result;
}
