{
  if (manifest == null) {
    String manifestString=sw.toString();
    if (log.isTraceEnabled())     log.trace(manifestString);
    try {
      manifest=new Manifest(new ByteArrayInputStream(manifestString.getBytes()));
    }
 catch (    IOException ex) {
      throw new IllegalStateException("Cannot create manifest",ex);
    }
  }
  return manifest;
}
