{
  try {
    String archive=raxml.getArchive();
    Connector cmd=mdr.getValue().getResourceAdapter(deployment);
    IronJacamar ijmd=mdr.getValue().getIronJacamar(deployment);
    File root=mdr.getValue().getRoot(deployment);
    cmd=(new Merger()).mergeConnectorWithCommonIronJacamar(raxml,cmd);
    String deploymentName=archive.substring(0,archive.indexOf(".rar"));
    final ServiceContainer container=context.getController().getServiceContainer();
    final AS7RaXmlDeployer raDeployer=new AS7RaXmlDeployer(context.getChildTarget(),connectorXmlDescriptor.getUrl(),deploymentName,root,module.getClassLoader(),cmd,raxml,ijmd);
    raDeployer.setConfiguration(config.getValue());
    CommonDeployment raxmlDeployment=null;
    try {
      raxmlDeployment=raDeployer.doDeploy();
    }
 catch (    Throwable t) {
      throw new StartException("Failed to start RA deployment [" + deploymentName + "]",t);
    }
    value=new ResourceAdapterDeployment(raxmlDeployment);
    managementRepository.getValue().getConnectors().add(value.getDeployment().getConnector());
    if (raxmlDeployment.getResourceAdapter() != null) {
      registry.getValue().registerResourceAdapterDeployment(value);
      ServiceName serviceName=ConnectorServices.getNextValidResourceAdapterServiceName(this.value.getDeployment().getDeploymentName());
      log.infof("Starting sevice %s",serviceName);
      context.getChildTarget().addService(serviceName,new ResourceAdapterService(value.getDeployment().getResourceAdapter())).setInitialMode(ServiceController.Mode.ACTIVE).install();
    }
  }
 catch (  Exception e) {
    throw new StartException(e);
  }
}
