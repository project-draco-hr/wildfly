{
  LOGGER.debugf("Add listener: %s",listener);
synchronized (configurations) {
    listeners.add(listener);
    Set<String> pids=listener.getPIDs();
    if (pids != null) {
      for (      String pid : pids) {
        Dictionary<String,String> props=configurations.get(pid);
        listener.configurationModified(pid,props);
      }
    }
 else {
      Set<String> configpids=configurations.keySet();
      for (      String pid : configpids) {
        Dictionary<String,String> props=configurations.get(pid);
        listener.configurationModified(pid,props);
      }
    }
  }
}
