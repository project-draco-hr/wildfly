{
  LOGGER.debugf("Remove configuration: %s",pid);
synchronized (configurations) {
    final Dictionary<String,String> previous=configurations.get(pid);
    if (previous != null) {
      ModelNode address=getSubsystemAddress();
      address.add(new ModelNode().set(ModelConstants.CONFIGURATION,pid));
      ModelNode op=Util.getEmptyOperation(ModelDescriptionConstants.REMOVE,address);
      configurations.remove(pid);
      Callable<Object> errorHandler=new Callable<Object>(){
        @Override public Object call() throws Exception {
          return configurations.put(pid,previous,true);
        }
      }
;
      new ConfigAdminOperationTask(pid,op,errorHandler).submit();
    }
    return previous;
  }
}
