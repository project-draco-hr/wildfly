{
  path=ValveUtil.readASPath(managementClient.getControllerClient());
  File file=new File(path);
  if (file.exists()) {
    file=new File(path + baseModulePath);
    file.mkdirs();
    file=new File(path + baseModulePath + "/valves.jar");
    if (file.exists())     file.delete();
    createJar(file);
    file=new File(path + baseModulePath + "/module.xml");
    if (file.exists())     file.delete();
    FileWriter fstream=new FileWriter(path + baseModulePath + "/module.xml");
    BufferedWriter out=new BufferedWriter(fstream);
    out.write("<module xmlns=\"urn:jboss:module:1.1\" name=\"org.my.valve\">\n");
    out.write("    <properties>\n");
    out.write("        <property name=\"jboss.api\" value=\"private\"/>\n");
    out.write("    </properties>\n");
    out.write("    <resources>\n");
    out.write("        <resource-root path=\"valves.jar\"/>\n");
    out.write("    </resources>\n");
    out.write("    <dependencies>\n");
    out.write("        <module name=\"sun.jdk\"/>\n");
    out.write("        <module name=\"javax.servlet.api\"/>\n");
    out.write("        <module name=\"org.jboss.as.web\"/>\n");
    out.write("    </dependencies>\n");
    out.write("</module>");
    out.close();
  }
  ValveUtil.createValveModule(managementClient.getControllerClient(),"myvalve",modulename,classname);
}
