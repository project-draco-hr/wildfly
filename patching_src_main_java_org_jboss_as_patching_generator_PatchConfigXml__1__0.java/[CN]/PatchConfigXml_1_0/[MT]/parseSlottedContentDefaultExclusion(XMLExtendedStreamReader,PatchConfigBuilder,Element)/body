{
  PatchConfigBuilder.AffectsType affectsType=null;
  final int count=reader.getAttributeCount();
  for (int i=0; i < count; i++) {
    final String value=reader.getAttributeValue(i);
    final Attribute attribute=Attribute.forName(reader.getAttributeLocalName(i));
    if (attribute == Attribute.AFFECTS_TYPE) {
      try {
        affectsType=Enum.valueOf(PatchConfigBuilder.AffectsType.class,value.toUpperCase());
      }
 catch (      RuntimeException e) {
        throw PatchMessages.MESSAGES.illegalAffectsType(value,reader.getLocation());
      }
    }
 else {
      throw unexpectedAttribute(reader,i);
    }
  }
  requireNoContent(reader);
  if (affectsType == null) {
    throw missingRequired(reader,EnumSet.of(Attribute.AFFECTS_TYPE));
  }
  if (type == Element.MODULE_SEARCH_PATH) {
    patchConfigBuilder.setDefaultModuleSearchPathExclusion(affectsType);
  }
 else {
    patchConfigBuilder.setDefaultBundleSearchPathExclusion(affectsType);
  }
}
