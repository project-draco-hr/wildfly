{
  final DeploymentUnit unit=phaseContext.getDeploymentUnit();
  final CompositeIndex compositeIndex=unit.getAttachment(Attachments.COMPOSITE_ANNOTATION_INDEX);
  if (compositeIndex == null) {
    return;
  }
  final List<AnnotationInstance> transactionalAnnotations=compositeIndex.getAnnotations(DotName.createSimple(Transactional.class.getName()));
  final List<AnnotationInstance> transactionScopedAnnotations=compositeIndex.getAnnotations(DotName.createSimple(TransactionScoped.class.getName()));
  if (transactionalAnnotations.size() > 0 || transactionScopedAnnotations.size() > 0) {
    addJTSModuleDependencyToDeployment(unit);
  }
}
