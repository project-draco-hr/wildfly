{
synchronized (receivedMessages) {
    List<String> list=new ArrayList<String>(receivedMessages);
    receivedMessages.clear();
    return list;
  }
}
