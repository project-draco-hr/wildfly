{
  this.clientContext=context;
  interceptor=new Interceptor(){
    @Override public Object processInvocation(    final InterceptorContext context) throws Exception {
      final EJBClientContext oldContext=EJBClientContext.getAndSetCurrent(clientContext);
      try {
        return context.proceed();
      }
  finally {
        if (oldContext == null) {
          EJBClientContext.suspendCurrent();
        }
 else {
          EJBClientContext.getAndSetCurrent(oldContext);
        }
      }
    }
  }
;
}
