{
  if (!iterator.hasNext()) {
    if (providersUpdater.compareAndSet(this,null,provider)) {
      throw new IllegalArgumentException("A provider is already registered at location '" + getLocationString() + "'");
    }
  }
  final PathElement element=iterator.next();
  getSubregistry(element.getKey()).register(element.getValue(),iterator,provider);
}
