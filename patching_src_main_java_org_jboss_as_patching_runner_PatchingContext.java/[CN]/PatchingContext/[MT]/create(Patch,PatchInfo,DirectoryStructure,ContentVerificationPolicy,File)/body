{
  final File backup=structure.getHistoryDir(patch.getPatchId());
  if (!backup.mkdirs()) {
    PatchMessages.MESSAGES.cannotCreateDirectory(backup.getAbsolutePath());
  }
  final PatchContentLoader loader=PatchContentLoader.create(workDir);
  return new PatchingContext(patch,info,structure,backup,policy,loader);
}
