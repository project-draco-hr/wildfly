{
  rollbackOnly=true;
  final PatchContentLoader loader=new PatchContentLoader(miscBackup,null,null);
  final File backup=null;
  final PatchingContext undoContext=new PatchingContext(patch,info,structure,backup,ContentVerificationPolicy.OVERRIDE_ALL);
  for (  final ContentModification modification : rollbackActions) {
    final ContentType type=modification.getItem().getContentType();
    if (type == ContentType.MODULE || type == ContentType.BUNDLE) {
      continue;
    }
    final PatchingTaskDescription description=new PatchingTaskDescription(patch.getPatchId(),modification,loader,false,false);
    final PatchingTask task=PatchingTask.Factory.create(description,undoContext);
    try {
      task.execute(undoContext);
    }
 catch (    Exception e) {
      PatchLogger.ROOT_LOGGER.warnf(e,"failed to undo change (%s)",modification);
    }
  }
  try {
    persist(info);
  }
 catch (  Exception e) {
    PatchLogger.ROOT_LOGGER.warnf(e,"failed to persist info (%s)",info);
  }
}
