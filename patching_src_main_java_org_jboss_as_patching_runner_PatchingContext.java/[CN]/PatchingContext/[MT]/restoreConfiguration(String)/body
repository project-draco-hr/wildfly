{
  final DirectoryStructure.InstalledImage image=structure.getInstalledImage();
  final String configuration=DirectoryStructure.CONFIGURATION;
  File backupConfigurationDir=new File(structure.getHistoryDir(rollingBackPatchID),configuration);
  final File ba=new File(backupConfigurationDir,DirectoryStructure.APP_CLIENT);
  final File bd=new File(backupConfigurationDir,DirectoryStructure.DOMAIN);
  final File bs=new File(backupConfigurationDir,DirectoryStructure.STANDALONE);
  if (ba.exists()) {
    final File a=new File(image.getAppClientDir(),configuration);
    backupDirectory(ba,a);
  }
  if (bd.exists()) {
    final File d=new File(image.getDomainDir(),configuration);
    backupDirectory(bd,d);
  }
  if (bs.exists()) {
    final File s=new File(image.getStandaloneDir(),configuration);
    backupDirectory(bs,s);
  }
}
