{
  MBeanServerConnection connection=jmx.getConnection();
  ObjectName domain=new ObjectName("jboss.test:service=testdeployments");
  try {
    connection.invoke(domain,operationName,ArrayUtils.EMPTY_OBJECT_ARRAY,ArrayUtils.EMPTY_STRING_ARRAY);
    assertTrue("Failure was expected but success happened",successExpected);
  }
 catch (  JMRuntimeException e) {
    if (e.getMessage().contains("WFLYJMX0037")) {
      assertFalse("Success was expected but failure happened: " + e,successExpected);
    }
 else {
      throw e;
    }
  }
}
