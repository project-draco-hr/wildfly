{
  boolean successExpected=isReadAllowed(userName);
  MBeanServerConnection connection=jmx.getConnection();
  ObjectName domain=new ObjectName("java.lang:type=OperatingSystem");
  try {
    Object attribute=connection.getAttribute(domain,"Name");
    assertTrue("Failure was expected",successExpected);
    assertEquals(System.getProperty("os.name"),attribute.toString());
  }
 catch (  JMRuntimeException e) {
    if (e.getMessage().contains("11360")) {
      assertFalse("Success was expected but failure happened: " + e,successExpected);
    }
 else {
      throw e;
    }
  }
}
