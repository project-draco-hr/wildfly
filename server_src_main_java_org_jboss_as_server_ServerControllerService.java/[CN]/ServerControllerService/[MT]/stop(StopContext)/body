{
  serverController=null;
  final ServiceContainer container=context.getController().getServiceContainer();
  context.asynchronous();
  final MultipleRemoveListener<Runnable> removeListener=MultipleRemoveListener.create(new Runnable(){
    public void run(){
      context.complete();
      Logger.getLogger("org.jboss.as").infof("Stopped JBoss AS in %dms",Integer.valueOf((int)(context.getElapsedTime() / 1000000L)));
    }
  }
);
  for (  ServiceName serviceName : bootServices) {
    final ServiceController<?> controller=container.getService(serviceName);
    if (controller != null) {
      controller.setMode(ServiceController.Mode.REMOVE);
      controller.addListener(removeListener);
    }
  }
  removeListener.serviceRemoved(null);
}
