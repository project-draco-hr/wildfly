{
  final String targetDistro=distribution.getValue(args);
  if (targetDistro != null) {
    return targetDistro;
  }
  String resolved=getSecurityManager() == null ? getenv(HOME) : doPrivileged(new ReadEnvironmentPropertyAction(HOME));
  if (resolved == null) {
    resolved=getSecurityManager() == null ? getProperty(HOME_DIR) : doPrivileged(new ReadPropertyAction(HOME_DIR));
  }
  if (resolved == null) {
    throw PatchLogger.ROOT_LOGGER.cliFailedToResolveDistribution();
  }
  return resolved;
}
