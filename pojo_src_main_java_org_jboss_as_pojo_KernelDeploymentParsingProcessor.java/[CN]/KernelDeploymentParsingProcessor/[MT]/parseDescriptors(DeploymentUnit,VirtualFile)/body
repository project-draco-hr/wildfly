{
  if (root == null || root.exists() == false)   return;
  Collection<VirtualFile> beans=Collections.emptySet();
  final String name=root.getName();
  if (name.endsWith("jboss-beans.xml")) {
    beans=Collections.singleton(root);
  }
 else {
    VirtualFile metainf=root.getChild("META-INF");
    if (metainf.exists())     try {
      beans=metainf.getChildren(new SuffixMatchFilter("jboss-beans.xml"));
    }
 catch (    IOException e) {
      throw new DeploymentUnitProcessingException(e);
    }
  }
  for (  VirtualFile beansXmlFile : beans)   parseDescriptor(unit,beansXmlFile);
}
