{
  log.info("Activating WebServices Extension");
  ModuleClassLoaderProvider.register();
  final boolean appclient;
  if (model.has(APPCLIENT)) {
    appclient=model.get(APPCLIENT).asBoolean(false);
  }
 else {
    appclient=false;
  }
  context.addStep(new AbstractDeploymentChainStep(){
    protected void execute(    DeploymentProcessorTarget processorTarget){
      WSDeploymentActivator.activate(processorTarget,appclient);
    }
  }
,OperationContext.Stage.RUNTIME);
  if (!appclient) {
    WSServices.saveContainerRegistry(context.getServiceRegistry(false));
    ServiceTarget serviceTarget=context.getServiceTarget();
    ServerConfigImpl serverConfig=createServerConfig(model);
    newControllers.add(ServerConfigService.install(serviceTarget,serverConfig,verificationHandler));
    newControllers.add(EndpointRegistryService.install(serviceTarget,verificationHandler));
  }
}
