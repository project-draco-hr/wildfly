{
  final boolean appclient=context.getProcessType() == ProcessType.APPLICATION_CLIENT;
  final ModelNode submodel=resource.getModel();
  if (operation.hasDefined(WSDL_PORT)) {
    submodel.get(WSDL_PORT).set(operation.require(WSDL_PORT));
  }
  if (operation.hasDefined(WSDL_SECURE_PORT)) {
    submodel.get(WSDL_SECURE_PORT).set(operation.require(WSDL_SECURE_PORT));
  }
  if (appclient && operation.hasDefined(WSDL_HOST)) {
    submodel.get(WSDL_HOST).setExpression(operation.require(WSDL_HOST).asString());
  }
  if (!appclient) {
    submodel.get(WSDL_HOST).setExpression(operation.require(WSDL_HOST).asString());
    configValidator.validate(operation);
    submodel.get(MODIFY_WSDL_ADDRESS).set(operation.require(MODIFY_WSDL_ADDRESS));
    submodel.get(ENDPOINT_CONFIG).setEmptyObject();
    submodel.get(CLIENT_CONFIG).setEmptyObject();
    submodel.get(ENDPOINT).setEmptyObject();
  }
}
