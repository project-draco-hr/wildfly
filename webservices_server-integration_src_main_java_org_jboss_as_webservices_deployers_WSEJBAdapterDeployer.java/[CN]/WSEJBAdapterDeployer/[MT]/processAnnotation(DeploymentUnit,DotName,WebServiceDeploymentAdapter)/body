{
  final List<AnnotationInstance> webServiceAnnotations=getAnnotations(unit,annotation);
  final List<WebServiceDeclaration> endpoints=wsDeploymentAdapter.getServiceEndpoints();
  if (webServiceAnnotations != null && !webServiceAnnotations.isEmpty()) {
    final EEModuleDescription moduleDescription=unit.getAttachment(EE_MODULE_DESCRIPTION);
    for (    AnnotationInstance webServiceAnnotation : webServiceAnnotations) {
      final AnnotationTarget target=webServiceAnnotation.target();
      final ClassInfo webServiceClassInfo=(ClassInfo)target;
      final String beanClassName=webServiceClassInfo.name().toString();
      ComponentDescription absCD=moduleDescription.getComponentByClassName(beanClassName);
      final String componentName=beanClassName.substring(beanClassName.lastIndexOf(".") + 1);
      final ServiceName baseName=unit.getServiceName().append("component").append(componentName).append("START");
      if (absCD instanceof StatelessComponentDescription || absCD instanceof SingletonComponentDescription) {
        final String ejbContainerName=newEJBContainerName(unit,absCD);
        endpoints.add(new WebServiceDeclarationAdapter((SessionBeanComponentDescription)absCD,webServiceClassInfo,ejbContainerName));
      }
    }
  }
}
