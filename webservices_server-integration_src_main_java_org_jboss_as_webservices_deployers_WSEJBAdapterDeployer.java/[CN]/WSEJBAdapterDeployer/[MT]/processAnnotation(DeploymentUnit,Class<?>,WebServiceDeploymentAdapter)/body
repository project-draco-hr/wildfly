{
  final List<AnnotationInstance> webServiceAnnotations=getAnnotations(unit,annClass);
  final List<WebServiceDeclaration> endpoints=wsDeploymentAdapter.getServiceEndpoints();
  if (webServiceAnnotations != null && !webServiceAnnotations.isEmpty()) {
    final EEModuleDescription moduleDescription=unit.getAttachment(EE_MODULE_DESCRIPTION);
    for (    AnnotationInstance webServiceAnnotation : webServiceAnnotations) {
      final AnnotationTarget target=webServiceAnnotation.target();
      final ClassInfo webServiceClassInfo=(ClassInfo)target;
      final String beanClassName=webServiceClassInfo.name().toString();
      AbstractComponentDescription absCD=moduleDescription.getComponentByClassName(beanClassName);
      if (absCD instanceof StatelessComponentDescription || absCD instanceof SingletonComponentDescription) {
        endpoints.add(new WebServiceDeclarationAdapter((SessionBeanComponentDescription)absCD,webServiceClassInfo));
      }
    }
  }
}
