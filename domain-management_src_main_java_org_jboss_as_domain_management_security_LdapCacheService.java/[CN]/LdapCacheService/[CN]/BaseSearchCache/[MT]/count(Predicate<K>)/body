{
  int count=0;
synchronized (theCache) {
    Iterator<K> it=theCache.keySet().iterator();
    while (it.hasNext()) {
      K current=it.next();
      if (predicate.matches(current)) {
        count++;
      }
    }
  }
  return count;
}
