{
  log.debugf("Activating WebServices Extension");
  final SubsystemRegistration subsystem=context.registerSubsystem(SUBSYSTEM_NAME);
  subsystem.registerXMLElementWriter(WebservicesSubsystemParser.getInstance());
  final ModelNodeRegistration registration=subsystem.registerSubsystemModel(WSSubsystemProviders.SUBSYSTEM);
  registration.registerOperationHandler(ADD,WSSubsystemAdd.INSTANCE,WSSubsystemProviders.SUBSYSTEM_ADD,false);
  registration.registerOperationHandler(DESCRIBE,WSSubsystemDescribe.INSTANCE,WSSubsystemProviders.SUBSYSTEM_DESCRIBE,false,PRIVATE);
  final ModelNodeRegistration epConfigs=registration.registerSubModel(PathElement.pathElement(ENDPOINT_CONFIG),WSSubsystemProviders.ENDPOINTCONFIG_DESCRIPTION);
  epConfigs.registerOperationHandler(ADD,EndpointConfigAdd.INSTANCE,WSSubsystemProviders.ENDPOINTCONFIG_ADD_DESCRIPTION,false);
  epConfigs.registerOperationHandler(REMOVE,EndpointConfigRemove.INSTANCE,WSSubsystemProviders.ENDPOINTCONFIG_REMOVE_DESCRIPTION,false);
  final ModelNodeRegistration deployments=subsystem.registerDeploymentModel(new DescriptionProvider(){
    @Override public ModelNode getModelDescription(    Locale locale){
      return new ModelNode();
    }
  }
);
  final ModelNodeRegistration endpoints=deployments.registerSubModel(PathElement.pathElement(ENDPOINT),WSSubsystemProviders.ENDPOINT_DESCRIPTION);
  for (  final String attributeName : WSEndpointMetrics.ATTRIBUTES) {
    endpoints.registerMetric(attributeName,WSEndpointMetrics.INSTANCE);
  }
}
