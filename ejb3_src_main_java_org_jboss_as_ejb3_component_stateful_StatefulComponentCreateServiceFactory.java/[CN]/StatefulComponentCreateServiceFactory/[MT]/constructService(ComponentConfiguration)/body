{
  if (this.ejbJarConfiguration == null) {
    throw new IllegalStateException("EjbJarConfiguration hasn't been set in " + this + " .Cannot create component create service for EJB "+ configuration.getComponentName());
  }
  configuration.getCreateDependencies().add(new DependencyConfigurator<StatefulSessionComponentCreateService>(){
    @Override public void configureDependency(    ServiceBuilder<?> serviceBuilder,    StatefulSessionComponentCreateService componentCreateService) throws DeploymentUnitProcessingException {
      serviceBuilder.addDependency(DefaultAccessTimeoutService.STATEFUL_SERVICE_NAME,DefaultAccessTimeoutService.class,componentCreateService.getDefaultAccessTimeoutInjector());
    }
  }
);
  return new StatefulSessionComponentCreateService(configuration,this.ejbJarConfiguration);
}
