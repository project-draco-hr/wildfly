{
  final URL url=new URL(spec);
  Callable<String> task=new Callable<String>(){
    @Override public String call() throws Exception {
      final long startTime=System.currentTimeMillis();
      HttpURLConnection conn=(HttpURLConnection)url.openConnection();
      conn.setDoInput(true);
      while (conn.getResponseCode() == HttpURLConnection.HTTP_NOT_FOUND) {
        if (System.currentTimeMillis() - startTime >= waitUntilAvailableMs) {
          break;
        }
        try {
          Thread.sleep(500);
        }
 catch (        InterruptedException e) {
          break;
        }
 finally {
          conn=(HttpURLConnection)url.openConnection();
          conn.setDoInput(true);
        }
      }
      return processResponse(conn);
    }
  }
;
  return execute(task,responseTimeout,responseTimeoutUnit);
}
