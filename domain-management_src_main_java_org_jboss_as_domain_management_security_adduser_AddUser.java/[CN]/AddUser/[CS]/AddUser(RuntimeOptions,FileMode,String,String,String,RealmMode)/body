{
  StateValues stateValues=new StateValues(options);
  final Interactiveness howInteractive;
  boolean silent=Boolean.valueOf(argsCliProps.getProperty(CommandLineArgument.SILENT.key()));
  if (silent) {
    howInteractive=Interactiveness.SILENT;
  }
 else {
    howInteractive=Interactiveness.NON_INTERACTIVE;
  }
  stateValues.setHowInteractive(howInteractive);
  theConsole=options.getConsoleWrapper();
  if (theConsole.getConsole() == null && !howInteractive.equals(Interactiveness.SILENT)) {
    throw MESSAGES.noConsoleAvailable();
  }
  if (user == null || user.isEmpty()) {
    nextState=new ErrorState(theConsole,MESSAGES.noUsernameExiting(),null,stateValues);
    return;
  }
  stateValues.setUserName(user);
  if (!options.isEnableDisableMode() && (password == null || password.isEmpty())) {
    nextState=new ErrorState(theConsole,MESSAGES.noPasswordExiting(),null,stateValues);
    return;
  }
  if (password == null) {
    stateValues.setPassword(new char[0]);
  }
 else {
    stateValues.setPassword(password.toCharArray());
  }
  stateValues.setRealm(realm);
  stateValues.setRealmMode(realmMode);
  stateValues.setFileMode(fileMode);
  String groups=argsCliProps.getProperty(CommandLineArgument.GROUPS.key());
  if (groups == null) {
    groups=argsCliProps.getProperty(CommandLineArgument.ROLE.key());
  }
  stateValues.setGroups(groups);
  nextState=new PropertyFileFinder(theConsole,stateValues);
}
