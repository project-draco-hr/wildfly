{
  A a1=aHome.create(new Integer(1));
  A a2=aHome.create(new Integer(2));
  Collection b1=a1.getB();
  Collection b2=a2.getB();
  B[] b1x=new B[20];
  B[] b2x=new B[30];
  for (int i=0; i < b1x.length; i++) {
    b1x[i]=bHome.create(new Integer(10000 + i));
    b1.add(b1x[i]);
  }
  for (int i=0; i < b2x.length; i++) {
    b2x[i]=bHome.create(new Integer(20000 + i));
    b2.add(b2x[i]);
  }
  for (int i=0; i < b1x.length; i++) {
    assertTrue(b1.contains(b1x[i]));
  }
  for (int i=0; i < b2x.length; i++) {
    assertTrue(b2.contains(b2x[i]));
  }
  a1.getB().remove(b1x[b1x.length - 1]);
  assertTrue(b1x[b1x.length - 1].getA() == null);
  assertTrue(b1 == a1.getB());
  for (int i=0; i < b1x.length - 1; i++) {
    assertTrue(b1.contains(b1x[i]));
  }
  assertTrue(!(b1.contains(b1x[b1x.length - 1])));
}
