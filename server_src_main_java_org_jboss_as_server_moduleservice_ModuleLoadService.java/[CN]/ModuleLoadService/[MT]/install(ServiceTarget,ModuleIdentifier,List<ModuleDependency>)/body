{
  final Map<ModuleIdentifier,ServiceBuilder.DependencyType> deps=new HashMap<ModuleIdentifier,ServiceBuilder.DependencyType>();
  for (  final ModuleDependency i : dependencies) {
    deps.put(i.getIdentifier(),i.isOptional() ? ServiceBuilder.DependencyType.OPTIONAL : ServiceBuilder.DependencyType.REQUIRED);
  }
  return installService(target,identifier,deps);
}
