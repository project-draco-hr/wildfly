{
  final ModelNode address=new ModelNode();
  address.add("toto","testSubsystem");
  final ModelNode operation=new ModelNode();
  operation.get(ModelDescriptionConstants.OP).set("rename-operation");
  operation.get(ModelDescriptionConstants.OP_ADDR).set(address);
  operation.get("param").set("test");
  OperationTransformer.TransformedOperation op=transformOperation(operation);
  final ModelNode transformed=op.getTransformedOperation();
  Assert.assertEquals("new-name-op",transformed.get(OP).asString());
  Assert.assertEquals("test",transformed.get("param").asString());
  Assert.assertTrue(transformed.get("operation-test").asBoolean());
  Assert.assertFalse(transformed.hasDefined("othertest"));
  Assert.assertFalse(op.rejectOperation(success()));
}
