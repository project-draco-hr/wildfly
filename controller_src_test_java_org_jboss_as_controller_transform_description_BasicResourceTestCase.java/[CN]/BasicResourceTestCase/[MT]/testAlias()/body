{
  final ModelNode address=new ModelNode();
  address.add("toto","testSubsystem");
  address.add("configuration","test");
  final ModelNode node=new ModelNode();
  node.get(ModelDescriptionConstants.OP).set("add");
  node.get(ModelDescriptionConstants.OP_ADDR).set(address);
  node.get("test-config").set("${one:two}");
  OperationTransformer.TransformedOperation op=transformOperation(node);
  Assert.assertTrue(op.rejectOperation(success()));
  final PathAddress transformed=PathAddress.pathAddress(op.getTransformedOperation().require(OP_ADDR));
  Assert.assertEquals(transformed.getLastElement().getKey(),"test");
  Assert.assertEquals(transformed.getLastElement().getValue(),"configuration");
  node.get("test-config").set("concrete");
  op=transformOperation(node);
  Assert.assertFalse(op.rejectOperation(success()));
}
