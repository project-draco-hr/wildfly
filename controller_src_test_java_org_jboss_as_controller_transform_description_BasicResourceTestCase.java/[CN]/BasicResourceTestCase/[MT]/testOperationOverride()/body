{
  final ModelNode address=new ModelNode();
  address.add("toto","testSubsystem");
  final ModelNode operation=new ModelNode();
  operation.get(ModelDescriptionConstants.OP).set("test-operation");
  operation.get(ModelDescriptionConstants.OP_ADDR).set(address);
  operation.get("test").set("${one:two}");
  OperationTransformer.TransformedOperation op=transformOperation(operation);
  final ModelNode transformed=op.getTransformedOperation();
  Assert.assertTrue(transformed.get("operation-test").asBoolean());
  Assert.assertTrue(transformed.get("othertest").asBoolean());
  Assert.assertTrue(op.rejectOperation(success()));
}
