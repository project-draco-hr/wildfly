{
  final Reference reference=asReference(obj);
  final ClassRefAddr viewClassAddr=(ClassRefAddr)reference.get("view-class");
  if (viewClassAddr == null) {
    throw new NamingException("Invalid context reference.  No 'view-class' reference.");
  }
  final Class<?> viewClass=(Class<?>)viewClassAddr.getContent();
  final Component component=(Component)serviceValue;
  final Interceptor clientInterceptor=component.createClientInterceptor(viewClass);
  return component.createLocalProxy(viewClass,clientInterceptor);
}
