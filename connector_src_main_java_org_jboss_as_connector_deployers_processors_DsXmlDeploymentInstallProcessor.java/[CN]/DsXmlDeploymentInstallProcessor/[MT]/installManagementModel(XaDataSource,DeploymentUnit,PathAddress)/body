{
  XMLXaDataSourceRuntimeHandler.INSTANCE.registerDataSource(addr,ds);
  deploymentUnit.createDeploymentSubModel(DataSourcesExtension.SUBSYSTEM_NAME,addr.getLastElement());
  if (ds.getXaDataSourceProperty() != null) {
    for (    final Map.Entry<String,String> prop : ds.getXaDataSourceProperty().entrySet()) {
      PathAddress registration=PathAddress.pathAddress(addr.getLastElement(),PathElement.pathElement(XA_CONNECTION_PROPERTIES,prop.getKey()));
      createDeploymentSubModel(registration,deploymentUnit);
    }
  }
}
