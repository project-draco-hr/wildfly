{
  final Asset newManifest=new Asset(){
    @Override public InputStream openStream(){
      return new ByteArrayInputStream(ProductInfo.createVersionString(targetVersion).getBytes());
    }
  }
;
  final JavaArchive versionModuleJar=ShrinkWrap.create(JavaArchive.class);
  if (!ProductInfo.isProduct) {
    versionModuleJar.addPackage("org.jboss.as.version");
  }
  versionModuleJar.addAsManifestResource(newManifest,"MANIFEST.MF");
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  versionModuleJar.as(ZipExporter.class).exportTo(baos);
  return new ResourceItem("as-version.jar",baos.toByteArray());
}
