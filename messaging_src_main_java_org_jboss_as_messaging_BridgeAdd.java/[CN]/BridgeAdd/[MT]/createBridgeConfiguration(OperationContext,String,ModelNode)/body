{
  final String queueName=BridgeDefinition.QUEUE_NAME.resolveModelAttribute(context,model).asString();
  final ModelNode forwardingNode=BridgeDefinition.FORWARDING_ADDRESS.resolveModelAttribute(context,model);
  final String forwardingAddress=forwardingNode.isDefined() ? forwardingNode.asString() : null;
  final ModelNode filterNode=CommonAttributes.FILTER.resolveModelAttribute(context,model);
  final String filterString=filterNode.isDefined() ? filterNode.asString() : null;
  final ModelNode transformerNode=CommonAttributes.TRANSFORMER_CLASS_NAME.resolveModelAttribute(context,model);
  final String transformerClassName=transformerNode.isDefined() ? transformerNode.asString() : null;
  final int minLargeMessageSize=CommonAttributes.MIN_LARGE_MESSAGE_SIZE.resolveModelAttribute(context,model).asInt();
  final long retryInterval=CommonAttributes.RETRY_INTERVAL.resolveModelAttribute(context,model).asLong();
  final double retryIntervalMultiplier=CommonAttributes.RETRY_INTERVAL_MULTIPLIER.resolveModelAttribute(context,model).asDouble();
  final long maxRetryInterval=CommonAttributes.MAX_RETRY_INTERVAL.resolveModelAttribute(context,model).asLong();
  final int reconnectAttempts=BridgeDefinition.RECONNECT_ATTEMPTS.resolveModelAttribute(context,model).asInt();
  final int reconnectAttemptsOnSameNode=BridgeDefinition.RECONNECT_ATTEMPTS_ON_SAME_NODE.resolveModelAttribute(context,model).asInt();
  final boolean useDuplicateDetection=BridgeDefinition.USE_DUPLICATE_DETECTION.resolveModelAttribute(context,model).asBoolean();
  final int confirmationWindowSize=CommonAttributes.BRIDGE_CONFIRMATION_WINDOW_SIZE.resolveModelAttribute(context,model).asInt();
  final long clientFailureCheckPeriod=CommonAttributes.CHECK_PERIOD.resolveModelAttribute(context,model).asLong();
  final long connectionTTL=CommonAttributes.CONNECTION_TTL.resolveModelAttribute(context,model).asLong();
  final ModelNode discoveryNode=BridgeDefinition.DISCOVERY_GROUP_NAME.resolveModelAttribute(context,model);
  final String discoveryGroupName=discoveryNode.isDefined() ? discoveryNode.asString() : null;
  List<String> staticConnectors=discoveryGroupName == null ? getStaticConnectors(model) : null;
  final boolean ha=CommonAttributes.HA.resolveModelAttribute(context,model).asBoolean();
  final String user=BridgeDefinition.USER.resolveModelAttribute(context,model).asString();
  final String password=BridgeDefinition.PASSWORD.resolveModelAttribute(context,model).asString();
  if (discoveryGroupName != null) {
    return new BridgeConfiguration(name,queueName,forwardingAddress,filterString,transformerClassName,minLargeMessageSize,clientFailureCheckPeriod,connectionTTL,retryInterval,maxRetryInterval,retryIntervalMultiplier,reconnectAttempts,reconnectAttemptsOnSameNode,useDuplicateDetection,confirmationWindowSize,discoveryGroupName,ha,user,password);
  }
 else {
    return new BridgeConfiguration(name,queueName,forwardingAddress,filterString,transformerClassName,minLargeMessageSize,clientFailureCheckPeriod,connectionTTL,retryInterval,maxRetryInterval,retryIntervalMultiplier,reconnectAttempts,reconnectAttemptsOnSameNode,useDuplicateDetection,confirmationWindowSize,staticConnectors,ha,user,password);
  }
}
