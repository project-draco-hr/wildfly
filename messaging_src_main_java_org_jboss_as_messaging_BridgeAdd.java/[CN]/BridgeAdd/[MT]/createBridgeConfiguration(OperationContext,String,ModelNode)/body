{
  final String queueName=CommonAttributes.QUEUE_NAME.resolveModelAttribute(context,model).asString();
  final ModelNode forwardingNode=CommonAttributes.BRIDGE_FORWARDING_ADDRESS.resolveModelAttribute(context,model);
  final String forwardingAddress=forwardingNode.isDefined() ? forwardingNode.asString() : null;
  final ModelNode filterNode=CommonAttributes.FILTER.resolveModelAttribute(context,model);
  final String filterString=filterNode.isDefined() ? filterNode.asString() : null;
  final ModelNode transformerNode=CommonAttributes.TRANSFORMER_CLASS_NAME.resolveModelAttribute(context,model);
  final String transformerClassName=transformerNode.isDefined() ? transformerNode.asString() : null;
  final long retryInterval=CommonAttributes.RETRY_INTERVAL.resolveModelAttribute(context,model).asLong();
  final double retryIntervalMultiplier=CommonAttributes.RETRY_INTERVAL_MULTIPLIER.resolveModelAttribute(context,model).asDouble();
  final int reconnectAttempts=CommonAttributes.BRIDGE_RECONNECT_ATTEMPTS.resolveModelAttribute(context,model).asInt();
  final boolean useDuplicateDetection=CommonAttributes.BRIDGE_USE_DUPLICATE_DETECTION.resolveModelAttribute(context,model).asBoolean();
  final int confirmationWindowSize=CommonAttributes.CONFIRMATION_WINDOW_SIZE.resolveModelAttribute(context,model).asInt();
  final long clientFailureCheckPeriod=HornetQClient.DEFAULT_CLIENT_FAILURE_CHECK_PERIOD;
  final ModelNode discoveryNode=CommonAttributes.DISCOVERY_GROUP_NAME.resolveModelAttribute(context,model);
  final String discoveryGroupName=discoveryNode.isDefined() ? discoveryNode.asString() : null;
  List<String> staticConnectors=discoveryGroupName == null ? getStaticConnectors(model) : null;
  final boolean ha=CommonAttributes.HA.resolveModelAttribute(context,model).asBoolean();
  final String user=CommonAttributes.USER.resolveModelAttribute(context,model).asString();
  final String password=CommonAttributes.PASSWORD.resolveModelAttribute(context,model).asString();
  if (discoveryGroupName != null) {
    return new BridgeConfiguration(name,queueName,forwardingAddress,filterString,transformerClassName,retryInterval,retryIntervalMultiplier,reconnectAttempts,useDuplicateDetection,confirmationWindowSize,clientFailureCheckPeriod,discoveryGroupName,ha,user,password);
  }
 else {
    return new BridgeConfiguration(name,queueName,forwardingAddress,filterString,transformerClassName,retryInterval,retryIntervalMultiplier,reconnectAttempts,useDuplicateDetection,confirmationWindowSize,clientFailureCheckPeriod,staticConnectors,ha,user,password);
  }
}
