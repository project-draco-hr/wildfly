{
  if (context.getAttachment(ServiceActivatorMarker.ATTACHMENT_KEY) == null)   return;
  final Module module=context.getAttachment(ModuleDeploymentProcessor.MODULE_ATTACHMENT_KEY);
  if (module == null)   return;
  final ServiceActivatorContext serviceActivatorContext=new ServiceActivatorContextImpl(context.getBatchBuilder(),null);
  for (  ServiceActivator serviceActivator : module.loadService(ServiceActivator.class)) {
    try {
      serviceActivator.activate(serviceActivatorContext);
    }
 catch (    ServiceRegistryException e) {
      throw new DeploymentUnitProcessingException(e);
    }
  }
}
