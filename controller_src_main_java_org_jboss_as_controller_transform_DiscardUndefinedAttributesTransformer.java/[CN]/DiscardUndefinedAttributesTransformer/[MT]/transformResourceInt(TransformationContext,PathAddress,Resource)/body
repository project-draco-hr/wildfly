{
  Set<String> problems=checkModelNode(resource.getModel());
  if (problems != null) {
    if (context.getTarget().isIgnoredResourceListAvailableAtRegistration()) {
      List<String> msg=Collections.singletonList(context.getLogger().getAttributeWarning(address,null,problems));
      final TransformationTarget tgt=context.getTarget();
      final String legacyHostName=tgt.getHostName();
      final ModelVersion coreVersion=tgt.getVersion();
      final String subsystemName=findSubsystemName(address);
      final ModelVersion usedVersion=subsystemName == null ? coreVersion : tgt.getSubsystemVersion(subsystemName);
      if (subsystemName != null) {
        throw ControllerMessages.MESSAGES.rejectAttributesSubsystemModelResourceTransformer(address,legacyHostName,subsystemName,usedVersion,msg);
      }
      throw ControllerMessages.MESSAGES.rejectAttributesCoreModelResourceTransformer(address,legacyHostName,usedVersion,msg);
    }
 else {
      context.getLogger().logAttributeWarning(address,problems);
    }
  }
}
