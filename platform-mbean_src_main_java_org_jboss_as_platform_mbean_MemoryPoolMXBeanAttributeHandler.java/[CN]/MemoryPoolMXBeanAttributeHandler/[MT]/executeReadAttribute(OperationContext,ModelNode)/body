{
  final String memPoolName=PathAddress.pathAddress(operation.require(ModelDescriptionConstants.OP_ADDR)).getLastElement().getValue();
  final String name=operation.require(ModelDescriptionConstants.NAME).asString();
  try {
    if ((PlatformMBeanUtil.JVM_MAJOR_VERSION > 6 && PlatformMBeanConstants.OBJECT_NAME.equals(name)) || PlatformMBeanConstants.MEMORY_POOL_READ_ATTRIBUTES.contains(name) || PlatformMBeanConstants.MEMORY_POOL_READ_WRITE_ATTRIBUTES.contains(name)|| PlatformMBeanConstants.MEMORY_POOL_METRICS.contains(name)) {
      MemoryPoolMXBean memoryPoolMXBean=getMemoryPoolMXBean(memPoolName);
      storeResult(name,context.getResult(),memoryPoolMXBean,memPoolName);
    }
 else {
      throw unknownAttribute(operation);
    }
  }
 catch (  UnsupportedOperationException e) {
    throw new OperationFailedException(new ModelNode().set(e.toString()));
  }
}
