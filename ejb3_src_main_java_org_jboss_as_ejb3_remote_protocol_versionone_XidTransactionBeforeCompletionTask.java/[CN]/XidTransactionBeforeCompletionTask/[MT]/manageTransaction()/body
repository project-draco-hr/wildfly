{
  final Transaction transaction=this.transactionsRepository.removeTransaction(this.xidTransactionID);
  this.resumeTransaction(transaction);
  try {
    final Xid xid=this.xidTransactionID.getXid();
    final SubordinateTransaction subordinateTransaction=SubordinationManager.getTransactionImporter().getImportedTransaction(xid);
    if (subordinateTransaction == null) {
      throw new RuntimeException("No subordinate transaction present with xid " + xid);
    }
    subordinateTransaction.doBeforeCompletion();
  }
  finally {
    this.transactionsRepository.getTransactionManager().suspend();
  }
}
