{
  JarOutputStream jos=null;
  DeploymentMetaData metaData=new DeploymentMetaData("WRONG.war");
  try {
    jos=new JarOutputStream(stream);
  }
 catch (  Exception e) {
    return;
  }
  if (jos == null)   return;
  Iterator setIterator=configBeans.keySet().iterator();
  while (setIterator.hasNext()) {
    String key=(String)setIterator.next();
    JBossConfigBeanProxy val=(JBossConfigBeanProxy)configBeans.get(key);
    val.save(jos,metaData);
  }
  try {
    String metaStr=metaData.toXMLString();
    JarUtils.addJarEntry(jos,DeploymentMetaData.ENTRY_NAME,new ByteArrayInputStream(metaStr.getBytes()));
    jos.flush();
    jos.close();
  }
 catch (  Exception e) {
    System.out.println("config IO exception error: " + e.getMessage());
  }
}
