{
  Console console=System.console();
  if (console == null) {
    System.err.println(VaultMessages.MESSAGES.noConsole());
    System.exit(1);
  }
  while (encDir == null || encDir.length() == 0) {
    encDir=console.readLine(VaultMessages.MESSAGES.enterEncryptionDirectory());
  }
  while (keystoreURL == null || keystoreURL.length() == 0) {
    keystoreURL=console.readLine(VaultMessages.MESSAGES.enterKeyStoreURL());
  }
  char[] keystorePasswd=getSensitiveValue(VaultMessages.MESSAGES.enterKeyStorePassword());
  try {
    while (salt == null || salt.length() != 8) {
      salt=console.readLine(VaultMessages.MESSAGES.enterSalt());
    }
    String ic=console.readLine(VaultMessages.MESSAGES.enterIterationCount());
    iterationCount=Integer.parseInt(ic);
    vaultNISession=new VaultSession(keystoreURL,new String(keystorePasswd),encDir,salt,iterationCount);
    while (keystoreAlias == null || keystoreAlias.length() == 0) {
      keystoreAlias=console.readLine(VaultMessages.MESSAGES.enterKeyStoreAlias());
    }
    System.out.println(VaultMessages.MESSAGES.initializingVault());
    vaultNISession.startVaultSession(keystoreAlias);
    vaultNISession.vaultConfigurationDisplay();
    System.out.println(VaultMessages.MESSAGES.vaultInitialized());
    System.out.println(VaultMessages.MESSAGES.handshakeComplete());
    VaultInteraction vaultInteraction=new VaultInteraction(vaultNISession);
    vaultInteraction.start();
  }
 catch (  Exception e) {
    System.out.println(VaultMessages.MESSAGES.exceptionEncountered() + e.getLocalizedMessage());
  }
}
