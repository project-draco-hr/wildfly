{
  final ModelNode composite=Util.getEmptyOperation(COMPOSITE,new ModelNode());
  final ModelNode steps=composite.get(STEPS);
  ModelNode op=createOpNode("subsystem=web/connector=test-" + conn.getName() + "-connector","add");
  op.get("socket-binding").set("test-" + conn.getName());
  op.get("scheme").set(conn.getScheme());
  op.get("protocol").set(conn.getProtocol());
  op.get("secure").set(conn.isSecure());
  op.get("enabled").set(true);
  steps.add(op);
  if (conn.isSecure()) {
    ModelNode ssl=createOpNode("subsystem=web/connector=test-" + conn.getName() + "-connector/ssl=configuration","add");
    if (conn.equals(Connector.HTTPSNATIVE)) {
      ssl.get("certificate-key-file").set(keyPEMFile);
      ssl.get("certificate-file").set(certPEMFile);
    }
 else {
      ssl.get("certificate-key-file").set(keyStoreFile);
    }
    ssl.get("password").set(password);
    steps.add(ssl);
  }
  return composite;
}
