{
  Archive<?> procArchive=provider.getClientDeployment("interceptor-processor");
  String procName=deployer.deploy(procArchive);
  try {
    Archive<?> httpArchive=provider.getClientDeployment("interceptor-endpoint");
    String httpName=deployer.deploy(httpArchive);
    try {
      String line=getHttpResponse("/servlet",5000);
      assertEquals("Hello from Servlet",line);
    }
  finally {
      deployer.undeploy(httpName);
    }
  }
  finally {
    deployer.undeploy(procName);
  }
}
