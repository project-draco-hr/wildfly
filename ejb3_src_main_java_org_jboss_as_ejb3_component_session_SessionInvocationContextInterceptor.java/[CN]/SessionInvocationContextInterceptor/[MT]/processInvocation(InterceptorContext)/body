{
  final Method invokedMethod=context.getMethod();
  final ComponentView componentView=context.getPrivateData(ComponentView.class);
  final Class<?> invokedBusinessInterface=componentView == null ? null : componentView.getViewClass();
  Object[] parameters=context.getParameters();
  SessionInvocationContext sessionInvocationContext=new CustomSessionInvocationContext(lifecycleCallback,context,invokedBusinessInterface,invokedMethod,parameters);
  context.putPrivateData(InvocationContext.class,sessionInvocationContext);
  CurrentInvocationContext.push(sessionInvocationContext);
  try {
    return context.proceed();
  }
  finally {
    CurrentInvocationContext.pop();
    context.putPrivateData(InvocationContext.class,null);
  }
}
