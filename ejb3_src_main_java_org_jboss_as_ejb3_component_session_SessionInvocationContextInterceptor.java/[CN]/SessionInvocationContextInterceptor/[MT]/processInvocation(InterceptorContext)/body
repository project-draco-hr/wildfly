{
  final Method invokedMethod=context.getMethod();
  final ComponentViewInstance componentViewInstance=context.getPrivateData(ComponentViewInstance.class);
  final Class<?> invokedBusinessInterface=componentViewInstance == null ? null : componentViewInstance.getViewClass();
  Object[] parameters=context.getParameters();
  SessionInvocationContext sessionInvocationContext=new CustomSessionInvocationContext(context,invokedBusinessInterface,invokedMethod,parameters);
  context.putPrivateData(InvocationContext.class,sessionInvocationContext);
  CurrentInvocationContext.push(sessionInvocationContext);
  try {
    return context.proceed();
  }
  finally {
    CurrentInvocationContext.pop();
    context.putPrivateData(InvocationContext.class,null);
  }
}
