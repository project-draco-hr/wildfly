{
  if (lifecycleCallback && !(component instanceof StatefulSessionComponent)) {
    throw new IllegalStateException("Cannot invoke getCallerPrincipal() in a session bean lifecycle method");
  }
  return getComponent().getCallerPrincipal();
}
