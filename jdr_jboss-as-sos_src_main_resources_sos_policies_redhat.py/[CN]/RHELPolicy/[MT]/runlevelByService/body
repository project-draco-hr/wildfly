def runlevelByService(self, name):
    from subprocess import Popen, PIPE
    ret = []
    p = Popen(('LC_ALL=C /sbin/chkconfig --list %s' % name), shell=True, stdout=PIPE, stderr=PIPE, bufsize=(-1))
    (out, err) = p.communicate()
    if err:
        return ret
    for tabs in out.split()[1:]:
        try:
            (runlevel, onoff) = tabs.split(':', 1)
        except:
            pass
        else:
            if (onoff == 'on'):
                ret.append(int(runlevel))
    return ret
