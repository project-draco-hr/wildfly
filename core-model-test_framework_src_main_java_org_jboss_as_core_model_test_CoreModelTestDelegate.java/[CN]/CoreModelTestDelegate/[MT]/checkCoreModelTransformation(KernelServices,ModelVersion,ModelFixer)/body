{
  KernelServices legacy=kernelServices.getLegacyServices(modelVersion);
  ModelNode op=new ModelNode();
  op.get(OP_ADDR).setEmptyList();
  op.get(OP).set("read-resource");
  op.get("recursive").set(true);
  op.get("include-defaults").set(false);
  ModelNode legacyModel;
  try {
    legacyModel=legacy.executeForResult(op);
  }
 catch (  OperationFailedException e) {
    throw new RuntimeException(e);
  }
  System.out.println(legacyModel);
  if (legacyModelFixer != null) {
    legacyModel=legacyModelFixer.fixModel(legacyModel);
  }
  ModelNode transformed=kernelServices.readTransformedModel(modelVersion);
  temporaryHack(transformed,legacyModel);
  ModelTestUtils.compare(legacyModel,transformed,true);
  return legacyModel;
}
