{
  final ManagementChannelHandler handler=this.handler;
  if (handler != null) {
    handler.shutdown();
    try {
      if (!handler.awaitCompletion(100,TimeUnit.MILLISECONDS)) {
        ControllerLogger.ROOT_LOGGER.debugf("HostController server client did not complete shutdown within timeout");
      }
    }
 catch (    Exception e) {
      ControllerLogger.ROOT_LOGGER.warnf(e,"service shutdown did not complete");
    }
 finally {
      handler.shutdownNow();
    }
  }
}
