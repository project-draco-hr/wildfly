{
  final CmpEntityBeanComponent component=(CmpEntityBeanComponent)context.getPrivateData(Component.class);
  final CmpEntityBeanComponentInstance instance=(CmpEntityBeanComponentInstance)context.getPrivateData(ComponentInstance.class);
  if (instance.getPrimaryKey() == null) {
    return context.proceed();
  }
  final CmpEntityBeanContext entityContext=instance.getEjbContext();
  if (instance.isReloadRequired()) {
synchronized (instance) {
      if (instance.isReloadRequired()) {
        instance.reload();
      }
    }
  }
  final Transaction transaction=component.getTransactionManager().getTransaction();
  if (TxUtils.isActive(transaction)) {
    entityContext.getTxAssociation().scheduleSync(transaction,instance.getEjbContext());
  }
  return super.processInvocation(context);
}
