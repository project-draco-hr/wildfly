{
  if (this.destroyed)   throw new CannotProceed();
  if (nc == null || nc.length == 0)   throw new InvalidName();
  Name n=new Name(nc);
  Name ctx=n.ctxName();
  NameComponent nb=n.baseNameComponent();
  if (ctx == null) {
    if (this.names.containsKey(n)) {
      org.omg.CORBA.Object ref=(org.omg.CORBA.Object)this.names.remove(n);
      ref._release();
      log.debugf("Unbound: " + n.toString());
    }
 else     if (this.contexts.containsKey(n)) {
      org.omg.CORBA.Object ref=(org.omg.CORBA.Object)this.contexts.remove(n);
      ref._release();
      String oid=this.getObjectOID(ref);
      if (oid != null)       contextImpls.remove(oid);
      log.debugf("Unbound: " + n.toString());
    }
 else {
      if (log.isEnabled(Level.WARN))       log.warnf("Unbind failed for " + n.toString());
      throw new NotFound(NotFoundReason.not_context,n.components());
    }
  }
 else {
    NameComponent[] ncx=new NameComponent[]{nb};
    org.omg.CORBA.Object context=this.resolve(ctx.components());
    String contextOID=this.getObjectOID(context);
    JBossNamingContext jbossContext=(contextOID == null ? null : contextImpls.get(contextOID));
    if (jbossContext != null)     jbossContext.unbind(ncx);
 else     NamingContextExtHelper.narrow(context).unbind(ncx);
  }
}
