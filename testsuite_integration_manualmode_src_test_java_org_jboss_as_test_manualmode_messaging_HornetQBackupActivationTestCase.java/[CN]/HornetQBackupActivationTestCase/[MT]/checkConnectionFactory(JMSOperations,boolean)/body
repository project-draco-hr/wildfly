{
  ModelNode operation=new ModelNode();
  ModelNode address=operations.getServerAddress().add("connection-factory","RemoteConnectionFactory");
  operation.get(OP_ADDR).set(address);
  operation.get(OP).set(READ_RESOURCE_OPERATION);
  operation.get(INCLUDE_RUNTIME).set(true);
  ModelNode result=execute(operations.getControllerClient(),operation);
  assertEquals(result.toJSONString(true),active,result.get(RESULT,"initial-message-packet-size").isDefined());
  operation.get(OP).set("add-jndi");
  operation.get("jndi-binding").set("java:jboss/exported/jms/" + randomUUID().toString());
  if (active) {
    execute(operations.getControllerClient(),operation);
  }
 else {
    executeWithFailure(operations.getControllerClient(),operation);
  }
}
