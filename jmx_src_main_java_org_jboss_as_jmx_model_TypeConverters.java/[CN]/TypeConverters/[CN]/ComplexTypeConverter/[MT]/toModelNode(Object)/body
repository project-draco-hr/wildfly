{
  if (o == null) {
    return new ModelNode();
  }
  if (o instanceof CompositeData) {
    final ModelNode node=new ModelNode();
    final CompositeData composite=(CompositeData)o;
    for (    String key : composite.getCompositeType().keySet()) {
      if (!typeNode.hasDefined(key)) {
        throw JmxLogger.ROOT_LOGGER.unknownValue(key);
      }
      TypeConverter converter=getConverter(typeNode.get(key,TYPE),typeNode.get(key,VALUE_TYPE));
      node.get(key).set(converter.toModelNode(composite.get(key)));
    }
    return node;
  }
 else {
    return ModelNode.fromJSONString((String)o);
  }
}
