{
  final String oldLevel=this.level;
  final String resolvedLevel=PropertyHelper.resolveValue(level);
  this.level=resolvedLevel;
  final LogContextConfigurationImpl configuration=getConfiguration();
  configuration.addAction(new ConfigAction<Level>(){
    public Level validate() throws IllegalArgumentException {
      return resolvedLevel == null ? null : configuration.getLogContext().getLevelForName(resolvedLevel);
    }
    public void applyPreCreate(    final Level param){
    }
    public void applyPostCreate(    final Level param){
      configuration.getHandlerRefs().get(getName()).setLevel(param);
    }
    public void rollback(){
      HandlerConfigurationImpl.this.level=oldLevel;
    }
  }
);
}
