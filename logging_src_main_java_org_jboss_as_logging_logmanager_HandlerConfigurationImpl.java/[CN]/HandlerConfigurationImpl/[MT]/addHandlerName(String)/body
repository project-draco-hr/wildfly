{
  final LogContextConfigurationImpl configuration=getConfiguration();
  if (!ExtHandler.class.isAssignableFrom(getActualClass())) {
    throw LoggingMessages.MESSAGES.nestedHandlersNotSupported(getActualClass());
  }
  if (handlerNames.contains(name)) {
    return false;
  }
  configuration.addAction(new ConfigAction<Void>(){
    public Void validate() throws IllegalArgumentException {
      if (configuration.getHandlerConfiguration(name) == null) {
        throw LoggingMessages.MESSAGES.handlerNotFound(name);
      }
      return null;
    }
    public void applyPreCreate(    final Void param){
    }
    public void applyPostCreate(    final Void param){
      final Map<String,Handler> handlerRefs=configuration.getHandlerRefs();
      final ExtHandler handler=(ExtHandler)handlerRefs.get(getName());
      handler.addHandler(handlerRefs.get(name));
    }
    public void rollback(){
      handlerNames.remove(name);
    }
  }
);
  return true;
}
