{
  if (!ignoreUnaffectedServerGroups) {
    return model;
  }
  model.get(IGNORE_UNUSED_CONFIG).set(ignoreUnaffectedServerGroups);
  ModelNode initialServerGroups=new ModelNode();
  initialServerGroups.setEmptyObject();
  for (  ResourceEntry entry : hostModel.getChildren(SERVER_CONFIG)) {
    ModelNode serverNode=new ModelNode();
    serverNode.get(GROUP).set(entry.getModel().get(GROUP));
    if (entry.getModel().hasDefined(SOCKET_BINDING_GROUP)) {
      serverNode.get(SOCKET_BINDING_GROUP).set(entry.getModel().get(SOCKET_BINDING_GROUP).asString());
    }
    initialServerGroups.get(entry.getName()).set(serverNode);
  }
  model.get(ModelDescriptionConstants.INITIAL_SERVER_GROUPS).set(initialServerGroups);
  return model;
}
