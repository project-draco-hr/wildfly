{
  if (closed) {
    throw MESSAGES.objectIsClosed(ModelControllerClient.class.getSimpleName());
  }
  if (strategy == null) {
    try {
      final ProtocolChannelClient.Configuration configuration=ProtocolConfigurationFactory.create(clientConfiguration);
      endpoint=Remoting.createEndpoint("management-client",OptionMap.EMPTY);
      endpoint.addConnectionProvider("remote",new RemoteConnectionProviderFactory(),OptionMap.EMPTY);
      endpoint.addConnectionProvider("http-remoting",new HttpUpgradeConnectionProviderFactory(),OptionMap.create(Options.SSL_ENABLED,Boolean.FALSE));
      endpoint.addConnectionProvider("https-remoting",new HttpUpgradeConnectionProviderFactory(),OptionMap.create(Options.SSL_ENABLED,Boolean.TRUE));
      configuration.setEndpoint(endpoint);
      final ProtocolChannelClient setup=ProtocolChannelClient.create(configuration);
      strategy=ManagementClientChannelStrategy.create(setup,channelAssociation,clientConfiguration.getCallbackHandler(),clientConfiguration.getSaslOptions(),clientConfiguration.getSSLContext(),new CloseHandler<Channel>(){
        @Override public void handleClose(        final Channel closed,        final IOException exception){
          channelAssociation.handleChannelClosed(closed,exception);
        }
      }
);
    }
 catch (    IOException e) {
      throw e;
    }
catch (    RuntimeException e) {
      throw e;
    }
catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  return strategy.getChannel();
}
