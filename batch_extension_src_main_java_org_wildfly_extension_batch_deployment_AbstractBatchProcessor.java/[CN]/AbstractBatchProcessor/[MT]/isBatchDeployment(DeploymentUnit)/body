{
  if (DeploymentTypeMarker.isType(DeploymentType.EAR,deploymentUnit) || !deploymentUnit.hasAttachment(Attachments.DEPLOYMENT_ROOT)) {
    return false;
  }
  final ResourceRoot root=deploymentUnit.getAttachment(Attachments.DEPLOYMENT_ROOT);
  final VirtualFile metaInf;
  if (DeploymentTypeMarker.isType(DeploymentType.WAR,deploymentUnit)) {
    metaInf=root.getRoot().getChild("WEB-INF/classes/META-INF");
  }
 else {
    metaInf=root.getRoot().getChild("META-INF");
  }
  final VirtualFile jobXmlFile=metaInf.getChild("batch.xml");
  final VirtualFile batchJobsDir=metaInf.getChild("batch-jobs");
  return (jobXmlFile.exists() || (batchJobsDir.exists() && !batchJobsDir.getChildren().isEmpty()));
}
