{
  MarshallerFactory marshallerFactory=mock(MarshallerFactory.class);
  LocalDistributableSessionManager manager=mock(LocalDistributableSessionManager.class);
  SessionAttributeMarshallerFactory factory=new SessionAttributeMarshallerFactoryImpl(marshallerFactory);
  ClassResolver resolver=mock(ClassResolver.class);
  when(manager.getApplicationClassResolver()).thenReturn(resolver);
  SessionAttributeMarshaller marshaller=factory.createMarshaller(manager);
  assertNotNull(marshaller);
  assertTrue(marshaller instanceof SessionAttributeMarshallerImpl);
}
