{
  ModelVersion version=InfinispanModel.VERSION_2_0_0.getVersion();
  KernelServices services=this.buildKernelServices(controllerVersion,version,mavenResourceURLs);
  checkSubsystemModelTransformation(services,version);
  ModelNode model=services.readTransformedModel(version);
  ModelNode cache=model.get(InfinispanSubsystemResourceDefinition.PATH.getKeyValuePair()).get(CacheContainerResourceDefinition.pathElement("maximal").getKeyValuePair()).get(DistributedCacheResourceDefinition.pathElement("dist").getKeyValuePair());
  Assert.assertTrue(cache.hasDefined(CacheResourceDefinition.BATCHING.getName()));
  Assert.assertTrue(cache.get(CacheResourceDefinition.BATCHING.getName()).asBoolean());
  ModelNode transaction=model.get(TransactionResourceDefinition.PATH.getKeyValuePair());
  if (transaction.hasDefined(TransactionResourceDefinition.MODE.getName())) {
    Assert.assertEquals(TransactionMode.NONE.name(),transaction.get(TransactionResourceDefinition.MODE.getName()));
  }
}
