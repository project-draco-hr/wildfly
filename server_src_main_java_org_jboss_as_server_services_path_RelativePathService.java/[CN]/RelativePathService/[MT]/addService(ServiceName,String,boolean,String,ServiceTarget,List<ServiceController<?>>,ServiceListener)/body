{
  if (possiblyAbsolute && isAbsoluteUnixOrWindowsPath(path)) {
    return AbsolutePathService.addService(name,path,serviceTarget,newControllers,listeners);
  }
  RelativePathService service=new RelativePathService(path);
  ServiceBuilder<String> builder=serviceTarget.addService(name,service).addDependency(pathNameOf(relativeTo),String.class,service.injectedPath);
  if (listeners != null) {
    for (    ServiceListener listener : listeners) {
      builder.addListener(listener);
    }
  }
  ServiceController<String> svc=builder.install();
  if (newControllers != null) {
    newControllers.add(svc);
  }
  return svc;
}
