{
  final EndpointRegistry registry=(EndpointRegistry)controller.getValue();
  final ModelNode result=new ModelNode();
  Endpoint endpoint;
  String endpointName;
  result.get(ENDPOINTS_COUNT).set(registry.getEndpoints().size());
  for (  final ObjectName obj : registry.getEndpoints()) {
    endpoint=registry.getEndpoint(obj);
    endpointName=obj.toString();
    result.get(endpointName).add(NAME,endpoint.getShortName());
    result.get(endpointName).add(CLASS,endpoint.getTargetBeanName());
    result.get(endpointName).add(WSDL,endpoint.getAddress() + "?wsdl");
  }
  return result;
}
