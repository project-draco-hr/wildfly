{
  final URI uri=http.getRequestURI();
  final String requestMethod=http.getRequestMethod();
  if (!"GET".equals(requestMethod)) {
    http.sendResponseHeaders(405,-1);
    return;
  }
  String path=uri.getPath();
  String resource=path.substring(CONTEXT.length(),path.length());
  if (resource.startsWith("/"))   resource=resource.substring(1);
  if (resource.equals(""))   respond404(http);
  InputStream inputStream=getLoader().getResourceAsStream(resource);
  if (inputStream != null) {
    Headers responseHeaders=http.getResponseHeaders();
    responseHeaders.set("Content-Type","text/plain");
    http.sendResponseHeaders(200,0);
    OutputStream outputStream=http.getResponseBody();
    int nextChar;
    while ((nextChar=inputStream.read()) != -1) {
      outputStream.write(nextChar);
    }
    outputStream.close();
  }
 else {
    respond404(http);
  }
}
