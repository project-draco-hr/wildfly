{
  final URI uri=http.getRequestURI();
  final String requestMethod=http.getRequestMethod();
  if (!"GET".equals(requestMethod)) {
    http.sendResponseHeaders(405,-1);
    return;
  }
  String path=uri.getPath();
  String resource=path.substring(CONTEXT.length(),path.length());
  if (resource.startsWith("/"))   resource=resource.substring(1);
  if (resource.equals("")) {
    InetSocketAddress address=http.getHttpContext().getServer().getAddress();
    String hostName=address.getHostName();
    int port=address.getPort();
    final Headers responseHeaders=http.getResponseHeaders();
    responseHeaders.add("Content-Type","text/html");
    responseHeaders.add("Location","http://" + hostName + ":"+ port+ "/console/index.html");
    http.sendResponseHeaders(302,0);
    OutputStream outputStream=http.getResponseBody();
    outputStream.flush();
    safeClose(outputStream);
    return;
  }
 else   if (resource.indexOf(".") == -1) {
    respond404(http);
  }
  InputStream inputStream=getLoader().getResourceAsStream(resource);
  if (inputStream != null) {
    final Headers responseHeaders=http.getResponseHeaders();
    responseHeaders.add("Content-Type",resolveContentType(path));
    responseHeaders.add("Access-Control-Allow-Origin","*");
    http.sendResponseHeaders(200,0);
    OutputStream outputStream=http.getResponseBody();
    int nextChar;
    while ((nextChar=inputStream.read()) != -1) {
      outputStream.write(nextChar);
    }
    outputStream.flush();
    safeClose(outputStream);
    safeClose(inputStream);
  }
 else {
    respond404(http);
  }
}
