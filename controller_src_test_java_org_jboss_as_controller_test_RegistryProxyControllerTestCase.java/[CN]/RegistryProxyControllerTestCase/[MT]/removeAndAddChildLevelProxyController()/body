{
  assertNotNull(root.getProxyController(PathAddress.pathAddress(profileB,proxyA)));
  profileBReg.unregisterProxyController(proxyA);
  assertNull(profileBReg.getProxyController(PathAddress.pathAddress(proxyA)));
  Set<PathAddress> addresses=getProxyAddresses(PathAddress.EMPTY_ADDRESS);
  assertEquals(3,addresses.size());
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyB)));
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyB)));
  profileBReg.registerProxyController(proxyA,new TestProxyController(profileB,proxyA));
  addresses=getProxyAddresses(PathAddress.EMPTY_ADDRESS);
  assertEquals(4,addresses.size());
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyB)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyB)));
}
