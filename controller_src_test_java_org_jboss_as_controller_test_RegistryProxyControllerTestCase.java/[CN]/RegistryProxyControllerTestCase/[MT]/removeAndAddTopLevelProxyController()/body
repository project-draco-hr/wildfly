{
  assertNotNull(root.getProxyController(PathAddress.pathAddress(proxyB)));
  root.unregisterProxyController(proxyB);
  assertNull(root.getProxyController(PathAddress.pathAddress(proxyB)));
  Set<PathAddress> addresses=getProxyAddresses(PathAddress.EMPTY_ADDRESS);
  assertEquals(3,addresses.size());
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyB)));
  root.registerProxyController(proxyB,new TestProxyController(proxyB));
  addresses=getProxyAddresses(PathAddress.EMPTY_ADDRESS);
  assertEquals(4,addresses.size());
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(proxyB)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyA)));
  assertTrue(addresses.contains(PathAddress.pathAddress(profileB,proxyB)));
}
