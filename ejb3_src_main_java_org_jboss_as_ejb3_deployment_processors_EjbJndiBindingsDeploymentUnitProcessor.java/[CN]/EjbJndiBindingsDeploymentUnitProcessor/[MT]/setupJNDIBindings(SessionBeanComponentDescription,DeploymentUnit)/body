{
  List<ViewDescription> views=sessionBean.getViews();
  if (views == null || views.isEmpty()) {
    logger.info("No jndi bindings will be created for EJB: " + sessionBean.getEJBName() + " since no views are exposed");
    return;
  }
  String applicationName=this.getEarName(deploymentUnit);
  String globalJNDIBaseName="java:global/" + (applicationName != null ? applicationName + "/" : "") + sessionBean.getModuleName()+ "/"+ sessionBean.getEJBName();
  String appJNDIBaseName="java:app/" + sessionBean.getModuleName() + "/"+ sessionBean.getEJBName();
  String moduleJNDIBaseName="java:module/" + sessionBean.getEJBName();
  ServiceName baseServiceName=deploymentUnit.getServiceName().append("component").append(sessionBean.getComponentName());
  StringBuilder jndiBindingsLogMessage=new StringBuilder();
  jndiBindingsLogMessage.append("JNDI bindings for session bean named " + sessionBean.getEJBName() + " in deployment unit "+ deploymentUnit+ " are as follows:\n\n");
  for (  ViewDescription viewDescription : views) {
    String viewClassName=viewDescription.getViewClassName();
    String globalJNDIName=globalJNDIBaseName + "!" + viewClassName;
    final InjectionSource globalBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration globalBinding=new BindingConfiguration(globalJNDIName,globalBindingSource);
    this.addBindingConfiguration(viewDescription,globalBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(globalJNDIName);
    jndiBindingsLogMessage.append("\n");
    String appJNDIName=appJNDIBaseName + "!" + viewClassName;
    final InjectionSource appBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration appBinding=new BindingConfiguration(appJNDIName,appBindingSource);
    this.addBindingConfiguration(viewDescription,appBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(appJNDIName);
    jndiBindingsLogMessage.append("\n");
    String moduleJNDIName=moduleJNDIBaseName + "!" + viewClassName;
    final InjectionSource moduleBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration moduleBinding=new BindingConfiguration(moduleJNDIName,moduleBindingSource);
    this.addBindingConfiguration(viewDescription,moduleBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(moduleJNDIName);
    jndiBindingsLogMessage.append("\n");
  }
  if (views.size() == 1) {
    final ViewDescription viewDescription=views.get(0);
    final String viewClassName=viewDescription.getViewClassName();
    final InjectionSource globalBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration globalBinding=new BindingConfiguration(globalJNDIBaseName,globalBindingSource);
    this.addBindingConfiguration(viewDescription,globalBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(globalJNDIBaseName);
    jndiBindingsLogMessage.append("\n");
    final InjectionSource appBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration appBinding=new BindingConfiguration(appJNDIBaseName,appBindingSource);
    this.addBindingConfiguration(viewDescription,appBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(appJNDIBaseName);
    jndiBindingsLogMessage.append("\n");
    final InjectionSource moduleBindingSource=new ViewBindingInjectionSource(baseServiceName.append("VIEW").append(viewClassName));
    final BindingConfiguration moduleBinding=new BindingConfiguration(moduleJNDIBaseName,moduleBindingSource);
    this.addBindingConfiguration(viewDescription,moduleBinding);
    jndiBindingsLogMessage.append("\t\t");
    jndiBindingsLogMessage.append(moduleJNDIBaseName);
    jndiBindingsLogMessage.append("\n");
  }
  logger.info(jndiBindingsLogMessage);
}
