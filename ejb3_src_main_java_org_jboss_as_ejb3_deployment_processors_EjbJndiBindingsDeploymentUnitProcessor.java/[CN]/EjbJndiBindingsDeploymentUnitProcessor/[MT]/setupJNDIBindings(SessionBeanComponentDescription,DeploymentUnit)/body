{
  final List<ViewDescription> views=sessionBean.getViews();
  if (views == null || views.isEmpty()) {
    logger.info("No jndi bindings will be created for EJB: " + sessionBean.getEJBName() + " since no views are exposed");
    return;
  }
  final String applicationName=this.getEarName(deploymentUnit);
  final String globalJNDIBaseName="java:global/" + (applicationName != null ? applicationName + "/" : "") + sessionBean.getModuleName()+ "/"+ sessionBean.getEJBName();
  final String appJNDIBaseName="java:app/" + sessionBean.getModuleName() + "/"+ sessionBean.getEJBName();
  final String moduleJNDIBaseName="java:module/" + sessionBean.getEJBName();
  final StringBuilder jndiBindingsLogMessage=new StringBuilder();
  jndiBindingsLogMessage.append("JNDI bindings for session bean named " + sessionBean.getEJBName() + " in deployment unit "+ deploymentUnit+ " are as follows:\n\n");
  EJBViewDescription ejbViewDescription=null;
  for (  ViewDescription viewDescription : views) {
    ejbViewDescription=(EJBViewDescription)viewDescription;
    if (ejbViewDescription.getMethodIntf() == MethodIntf.SERVICE_ENDPOINT) {
      continue;
    }
    final String viewClassName=ejbViewDescription.getViewClassName();
    final String globalJNDIName=globalJNDIBaseName + "!" + viewClassName;
    registerBinding(viewDescription,globalJNDIName);
    logBinding(jndiBindingsLogMessage,globalJNDIName);
    final String appJNDIName=appJNDIBaseName + "!" + viewClassName;
    registerBinding(viewDescription,appJNDIName);
    logBinding(jndiBindingsLogMessage,appJNDIName);
    final String moduleJNDIName=moduleJNDIBaseName + "!" + viewClassName;
    registerBinding(viewDescription,moduleJNDIName);
    logBinding(jndiBindingsLogMessage,moduleJNDIName);
  }
  if (views.size() == 1) {
    final ViewDescription viewDescription=views.get(0);
    registerBinding(viewDescription,globalJNDIBaseName);
    logBinding(jndiBindingsLogMessage,globalJNDIBaseName);
    registerBinding(viewDescription,appJNDIBaseName);
    logBinding(jndiBindingsLogMessage,appJNDIBaseName);
    registerBinding(viewDescription,moduleJNDIBaseName);
    logBinding(jndiBindingsLogMessage,moduleJNDIBaseName);
  }
  logger.info(jndiBindingsLogMessage);
}
