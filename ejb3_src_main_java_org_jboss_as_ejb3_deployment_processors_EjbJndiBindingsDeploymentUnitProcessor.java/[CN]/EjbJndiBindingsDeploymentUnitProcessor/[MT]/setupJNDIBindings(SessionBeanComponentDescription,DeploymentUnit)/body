{
  Set<String> views=sessionBean.getViewClassNames();
  if (views == null || views.isEmpty()) {
    logger.info("No jndi bindings will be created for EJB: " + sessionBean.getEJBName() + " since no views are exposed");
    return;
  }
  String applicationName=this.getEarName(deploymentUnit);
  String globalJNDIBaseName="java:global/" + (applicationName != null ? applicationName + "/" : "") + sessionBean.getModuleName()+ "/"+ sessionBean.getEJBName();
  String appJNDIBaseName="java:app/" + sessionBean.getModuleName() + "/"+ sessionBean.getEJBName();
  String moduleJNDIBaseName="java:module/" + sessionBean.getEJBName();
  ServiceName baseServiceName=deploymentUnit.getServiceName().append("component").append(sessionBean.getComponentName());
  for (  String viewClassName : views) {
    final BindingDescription globalBinding=new BindingDescription();
    globalBinding.setAbsoluteBinding(true);
    String globalJNDIName=globalJNDIBaseName + "!" + viewClassName;
    globalBinding.setBindingName(globalJNDIName);
    globalBinding.setBindingType(viewClassName);
    globalBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(globalBinding);
    logger.debug("Added java:global jndi binding at " + globalJNDIName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
    final BindingDescription appBinding=new BindingDescription();
    appBinding.setAbsoluteBinding(true);
    String appJNDIName=appJNDIBaseName + "!" + viewClassName;
    appBinding.setBindingName(appJNDIName);
    appBinding.setBindingType(viewClassName);
    appBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(appBinding);
    logger.debug("Added java:app jndi binding at " + appJNDIName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
    final BindingDescription moduleBinding=new BindingDescription();
    moduleBinding.setAbsoluteBinding(true);
    String moduleJNDIName=moduleJNDIBaseName + "!" + viewClassName;
    moduleBinding.setBindingName(moduleJNDIName);
    moduleBinding.setBindingType(viewClassName);
    moduleBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(moduleBinding);
    logger.debug("Added java:module jndi binding at " + moduleJNDIName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
  }
  if (views.size() == 1) {
    final BindingDescription globalBinding=new BindingDescription();
    globalBinding.setAbsoluteBinding(true);
    globalBinding.setBindingName(globalJNDIBaseName);
    String viewClassName=views.iterator().next();
    globalBinding.setBindingType(viewClassName);
    globalBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(globalBinding);
    logger.debug("Added java:global jndi binding at " + globalJNDIBaseName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
    final BindingDescription appBinding=new BindingDescription();
    appBinding.setAbsoluteBinding(true);
    appBinding.setBindingName(appJNDIBaseName);
    appBinding.setBindingType(viewClassName);
    appBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(appBinding);
    logger.debug("Added java:app jndi binding at " + appJNDIBaseName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
    final BindingDescription moduleBinding=new BindingDescription();
    moduleBinding.setAbsoluteBinding(true);
    moduleBinding.setBindingName(moduleJNDIBaseName);
    moduleBinding.setBindingType(viewClassName);
    moduleBinding.setReferenceSourceDescription(new ServiceBindingSourceDescription(baseServiceName.append("VIEW").append(viewClassName)));
    sessionBean.getBindings().add(moduleBinding);
    logger.debug("Added java:module jndi binding at " + moduleJNDIBaseName + " for view: "+ viewClassName+ " of session bean: "+ sessionBean.getEJBName());
  }
}
