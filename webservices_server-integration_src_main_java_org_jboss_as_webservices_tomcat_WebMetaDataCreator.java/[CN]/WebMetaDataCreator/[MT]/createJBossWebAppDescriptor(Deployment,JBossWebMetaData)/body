{
  this.log.debug("Creating jboss web descriptor");
  final SecurityMetaDataAccessorEJB ejbMDAccessor=this.getEjbSecurityMetaDataAccessor(dep);
  if (ejbMDAccessor != null) {
    final String securityDomain=ejbMDAccessor.getSecurityDomain(dep);
    final boolean hasSecurityDomain=securityDomain != null;
    if (hasSecurityDomain) {
      this.log.debug("Setting security domain: " + securityDomain);
      jbossWebMD.setSecurityDomain(securityDomain);
    }
    final List<String> virtualHosts=dep.getService().getVirtualHosts();
    this.log.debug("Setting virtual hosts: " + virtualHosts);
    jbossWebMD.setVirtualHosts(virtualHosts);
  }
}
