{
  log.debug("Creating jboss web descriptor");
  final SecurityMetaDataAccessorEJB ejbMDAccessor=getEjbSecurityMetaDataAccessor(dep);
  final String securityDomain=ejbMDAccessor.getSecurityDomain(dep);
  final boolean hasSecurityDomain=securityDomain != null;
  if (hasSecurityDomain) {
    log.debug("Setting security domain: " + securityDomain);
    jbossWebMD.setSecurityDomain(securityDomain);
  }
  final String virtualHost=dep.getService().getVirtualHost();
  if (virtualHost != null) {
    log.debug("Setting virtual host: " + virtualHost);
    jbossWebMD.setVirtualHosts(Arrays.asList(virtualHost));
  }
}
