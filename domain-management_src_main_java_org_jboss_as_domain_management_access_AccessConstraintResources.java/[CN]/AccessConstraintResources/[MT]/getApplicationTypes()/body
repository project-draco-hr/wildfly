{
  Collection<ApplicationTypeConfig> current=ApplicationTypeConstraint.FACTORY.getApplicationTypeConfigs();
  if (applicationTypes == null || applicationTypes.size() != current.size()) {
    Map<String,Map<String,ApplicationTypeConfig>> applicationTypeConfigMap=new HashMap<String,Map<String,ApplicationTypeConfig>>();
    for (    ApplicationTypeConfig applicationType : current) {
      Map<String,ApplicationTypeConfig> byType=applicationTypeConfigMap.get(applicationType.getName());
      if (byType == null) {
        byType=new HashMap<String,ApplicationTypeConfig>();
        applicationTypeConfigMap.put(applicationType.getName(),byType);
      }
      String type=applicationType.isCore() ? CORE : applicationType.getSubsystem();
      byType.put(type,applicationType);
    }
    applicationTypes=applicationTypeConfigMap;
  }
  return applicationTypes;
}
