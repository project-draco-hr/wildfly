{
  Collection<ApplicationTypeConfig> current=ApplicationTypeConstraint.FACTORY.getApplicationTypeConfigs();
  if (applicationTypes == null || applicationTypes.size() != current.size()) {
    Map<String,Map<String,ApplicationTypeConfig>> classificationsMap=new TreeMap<String,Map<String,ApplicationTypeConfig>>();
    for (    ApplicationTypeConfig classification : current) {
      final String type=classification.isCore() ? CORE : classification.getSubsystem();
      Map<String,ApplicationTypeConfig> byName=classificationsMap.get(type);
      if (byName == null) {
        byName=new TreeMap<String,ApplicationTypeConfig>();
        classificationsMap.put(type,byName);
      }
      byName.put(classification.getName(),classification);
    }
    applicationTypes=classificationsMap;
  }
  return applicationTypes;
}
