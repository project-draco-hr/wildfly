{
  ModelNode description=getDescription();
  removeSubsystems(description);
  ValidationConfiguration config=new ValidationConfiguration();
  description.get(CHILDREN,DEPLOYMENT,MODEL_DESCRIPTION,"*",CHILDREN,"subdeployment",MODEL_DESCRIPTION,"*",CHILDREN).remove("subdeployment");
  System.out.println(description);
  final ModelNode ROOT_ADDR=new ModelNode().setEmptyList();
  config.allowNullValueTypeForOperationParameter(ROOT_ADDR,VALIDATE_OPERATION,VALUE);
  config.allowNullValueTypeForOperationParameter(ROOT_ADDR,"check-address",VALUE);
  config.allowNullValueTypeForOperationReplyProperties(ROOT_ADDR,READ_OPERATION_DESCRIPTION_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(ROOT_ADDR,READ_RESOURCE_DESCRIPTION_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(ROOT_ADDR,READ_RESOURCE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(ROOT_ADDR,READ_ATTRIBUTE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(createPlatformMBeanAddress(PlatformMBeanConstants.COMPILATION),READ_RESOURCE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(createPlatformMBeanAddress(PlatformMBeanConstants.THREADING),READ_RESOURCE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(createPlatformMBeanAddress(PlatformMBeanConstants.OPERATING_SYSTEM),READ_RESOURCE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(createPlatformMBeanAddress(PlatformMBeanConstants.MEMORY_POOL),READ_RESOURCE_OPERATION);
  config.allowNullValueTypeForOperationReplyProperties(createPlatformMBeanAddress(PlatformMBeanConstants.RUNTIME),READ_RESOURCE_OPERATION);
  final ModelNode MEMORY_POOL_CHILDREN_ADDR=createPlatformMBeanAddress(PlatformMBeanConstants.MEMORY_POOL);
  MEMORY_POOL_CHILDREN_ADDR.add(NAME,"*");
  config.allowNullValueTypeForOperationReplyProperties(MEMORY_POOL_CHILDREN_ADDR,READ_RESOURCE_OPERATION);
  ModelDescriptionValidator validator=new ModelDescriptionValidator(new ModelNode().setEmptyList(),description,config);
  List<ValidationFailure> failures=validator.validateResource();
  if (failures.size() > 0) {
    System.out.println("==== VALIDATION FAILURES: " + failures.size());
    for (    ValidationFailure failure : failures) {
      System.out.println(failure);
      System.out.println();
    }
    Assert.fail("The model failed validation");
  }
}
