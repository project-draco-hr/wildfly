{
  Console cons=System.console();
  String username=null;
  String password=null;
  if (host == null) {
    host="localhost";
  }
  if (port == null) {
    port="9990";
  }
  boolean must_auth=false;
  try {
    URL managementApi=new URL("http://" + host + ":"+ port+ "/management");
    HttpURLConnection conn=(HttpURLConnection)managementApi.openConnection();
    int code=conn.getResponseCode();
    if (code != 200) {
      must_auth=true;
    }
  }
 catch (  Exception e) {
  }
  if (must_auth) {
    if (cons != null) {
      username=cons.readLine("Management username: ");
      password=String.valueOf(cons.readPassword("Management password: "));
    }
  }
  SosInterpreter interpreter=new SosInterpreter();
  return interpreter.collect(username,password,host,port);
}
