{
  if (moduleDescription == null) {
    return;
  }
  final ServiceTarget serviceTarget=phaseContext.getServiceTarget();
  if (DeploymentTypeMarker.isType(DeploymentType.WAR,deploymentUnit)) {
    final ServiceName moduleContextServiceName=ContextNames.contextServiceNameOfModule(moduleDescription.getAppName(),moduleDescription.getModuleName());
    bindServices(factory,deploymentUnit,serviceTarget,moduleDescription,moduleDescription.getModuleName(),moduleContextServiceName);
  }
  for (  AbstractComponentDescription component : moduleDescription.getComponentDescriptions()) {
    if (component.getNamingMode() == ComponentNamingMode.CREATE) {
      final ServiceName compContextServiceName=ContextNames.contextServiceNameOfComponent(moduleDescription.getAppName(),moduleDescription.getModuleName(),component.getComponentName());
      bindServices(factory,deploymentUnit,serviceTarget,moduleDescription,component.getComponentName(),compContextServiceName);
    }
  }
}
