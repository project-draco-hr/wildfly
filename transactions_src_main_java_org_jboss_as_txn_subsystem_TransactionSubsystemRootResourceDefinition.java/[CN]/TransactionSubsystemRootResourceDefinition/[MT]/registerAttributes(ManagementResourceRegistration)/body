{
  Set<AttributeDefinition> attributesWithoutMutuals=new HashSet<>(Arrays.asList(attributes));
  attributesWithoutMutuals.remove(USEHORNETQSTORE);
  attributesWithoutMutuals.remove(USE_JDBC_STORE);
  OperationStepHandler writeHandler=new ReloadRequiredWriteAttributeHandler(attributesWithoutMutuals);
  for (  final AttributeDefinition def : attributesWithoutMutuals) {
    resourceRegistration.registerReadWriteAttribute(def,null,writeHandler);
  }
  OperationStepHandler mutualWriteHandler=new ObjectStoreMutualWriteHandler(USEHORNETQSTORE,USE_JDBC_STORE);
  resourceRegistration.registerReadWriteAttribute(USEHORNETQSTORE,null,mutualWriteHandler);
  resourceRegistration.registerReadWriteAttribute(USE_JDBC_STORE,null,mutualWriteHandler);
  EnableStatisticsHandler esh=new EnableStatisticsHandler();
  resourceRegistration.registerReadWriteAttribute(ENABLE_STATISTICS,esh,esh);
  if (registerRuntimeOnly) {
    TxStatsHandler.INSTANCE.registerMetrics(resourceRegistration);
  }
}
