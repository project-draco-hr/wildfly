{
  Status status=currentStatus;
  if (status == Status.MORE) {
    status=StreamUtils.readWord(inputStream,b);
    final String sourceProcess=b.toString();
    if (status == Status.MORE) {
      try {
        handler.handleMessage(sourceProcess,StreamUtils.readBytesWithLength(inputStream));
      }
 catch (      Throwable t) {
        log.error("Caught exception handling message from " + sourceProcess,t);
      }
      status=StreamUtils.readStatus(inputStream);
    }
  }
  return status;
}
