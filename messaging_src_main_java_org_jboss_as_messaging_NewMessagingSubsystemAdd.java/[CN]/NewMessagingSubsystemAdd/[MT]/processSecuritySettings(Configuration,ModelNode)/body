{
  if (params.get(SECURITY_SETTING).isDefined()) {
    for (    final Property property : params.get(SECURITY_SETTING).asPropertyList()) {
      final String match=property.getName();
      final ModelNode config=property.getValue();
      if (config.getType() != ModelType.UNDEFINED) {
        final Set<Role> roles=new HashSet<Role>();
        for (        final Property role : config.asPropertyList()) {
          final String name=role.getName();
          final ModelNode value=role.getValue();
          roles.add(new Role(name,value.get(SEND_NAME).asBoolean(false),value.get(CONSUME_NAME).asBoolean(false),value.get(CREATEDURABLEQUEUE_NAME).asBoolean(false),value.get(DELETEDURABLEQUEUE_NAME).asBoolean(false),value.get(CREATE_NON_DURABLE_QUEUE_NAME).asBoolean(false),value.get(DELETE_NON_DURABLE_QUEUE_NAME).asBoolean(false),value.get(MANAGE_NAME).asBoolean(false)));
        }
        configuration.getSecurityRoles().put(match,roles);
      }
    }
  }
}
