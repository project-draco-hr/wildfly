{
  final Configuration configuration=new ConfigurationImpl();
  configuration.setBackup(params.get(BACKUP).asBoolean(ConfigurationImpl.DEFAULT_BACKUP));
  if (params.has(BACKUP_CONNECTOR_REF)) {
    configuration.setBackupConnectorName(params.get(BACKUP_CONNECTOR_REF).asString());
  }
  configuration.setClustered(params.get(CLUSTERED).asBoolean(ConfigurationImpl.DEFAULT_CLUSTERED));
  configuration.setClusterPassword(params.get(CLUSTER_PASSWORD).asString());
  configuration.setClusterUser(params.get(CLUSTER_USER).asString());
  configuration.setConnectionTTLOverride(params.get(CONNECTION_TTL_OVERRIDE).asInt((int)ConfigurationImpl.DEFAULT_CONNECTION_TTL_OVERRIDE));
  configuration.setCreateBindingsDir(params.get(CREATE_BINDINGS_DIR).asBoolean(ConfigurationImpl.DEFAULT_CREATE_BINDINGS_DIR));
  configuration.setCreateJournalDir(params.get(CREATE_JOURNAL_DIR).asBoolean(ConfigurationImpl.DEFAULT_CREATE_JOURNAL_DIR));
  return configuration;
}
