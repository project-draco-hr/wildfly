{
  if (resourceModel.hasDefined(getName()) && resourceModel.asInt() > 0) {
    final ModelNode modules=resourceModel.get(getName());
    for (    ModelNode module : modules.asList()) {
      writer.writeStartElement(getXmlName());
      writer.writeAttribute(Attribute.CODE.getLocalName(),module.get(CODE).asString());
      writer.writeAttribute(Attribute.TYPE.getLocalName(),module.get(Constants.TYPE).asString().toLowerCase());
      if (module.hasDefined(Constants.MODULE_OPTIONS)) {
        for (        ModelNode option : module.get(Constants.MODULE_OPTIONS).asList()) {
          writer.writeEmptyElement(Element.MODULE_OPTION.getLocalName());
          writer.writeAttribute(Attribute.NAME.getLocalName(),option.asProperty().getName());
          writer.writeAttribute(Attribute.VALUE.getLocalName(),option.asProperty().getValue().asString());
        }
      }
      writer.writeEndElement();
    }
  }
}
