{
  ModelNode model=new ModelNode();
  transformModulesToAttributes(address,resourceName,oldName,context,model);
  ModelNode modules=model.get(oldName);
  if (modules.asList().size() == 1) {
    operation=model.clone();
    operation.get(ModelDescriptionConstants.OP).set(ADD);
  }
 else {
    operation.clear();
    operation.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.WRITE_ATTRIBUTE_OPERATION);
    operation.get(ModelDescriptionConstants.NAME).set(oldName);
    operation.get(ModelDescriptionConstants.VALUE).set(model.get(oldName));
  }
  operation.get(ModelDescriptionConstants.OP_ADDR).set(address.toModelNode());
  return new TransformedOperation(operation,OperationResultTransformer.ORIGINAL_RESULT);
}
