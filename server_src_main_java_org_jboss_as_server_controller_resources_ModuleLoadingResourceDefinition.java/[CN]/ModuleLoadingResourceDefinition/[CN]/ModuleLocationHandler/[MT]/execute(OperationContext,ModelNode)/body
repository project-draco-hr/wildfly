{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      final String moduleName=MODULE_NAME.resolveModelAttribute(context,operation).asString();
      try {
        List<String> paths=AccessController.doPrivileged(new PrivilegedExceptionAction<List<String>>(){
          @Override public List<String> run() throws Exception {
            return findResourcePaths(moduleName);
          }
        }
);
        ModelNode list=context.getResult().setEmptyList();
        for (        String path : paths) {
          list.add(path);
        }
      }
 catch (      PrivilegedActionException e) {
        throw new OperationFailedException(e.getCause());
      }
      context.stepCompleted();
    }
  }
,OperationContext.Stage.RUNTIME);
  context.stepCompleted();
}
