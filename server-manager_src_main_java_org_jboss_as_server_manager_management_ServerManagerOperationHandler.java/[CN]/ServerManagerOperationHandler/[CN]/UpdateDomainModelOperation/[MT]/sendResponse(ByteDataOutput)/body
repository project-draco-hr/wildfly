{
  List<ModelUpdateResponse<?>> responses=new ArrayList<ModelUpdateResponse<?>>(updates.size());
  for (  AbstractDomainModelUpdate<?> update : updates) {
    responses.add(processUpdate(update));
  }
  try {
    output.writeByte(ManagementProtocol.PARAM_MODEL_UPDATE_RESPONSE_COUNT);
    output.writeInt(responses.size());
    for (    ModelUpdateResponse<?> response : responses) {
      output.writeByte(ManagementProtocol.PARAM_MODEL_UPDATE_RESPONSE);
      marshal(output,response);
    }
  }
 catch (  Exception e) {
    throw new ManagementException("Unable to send domain model update response.",e);
  }
}
