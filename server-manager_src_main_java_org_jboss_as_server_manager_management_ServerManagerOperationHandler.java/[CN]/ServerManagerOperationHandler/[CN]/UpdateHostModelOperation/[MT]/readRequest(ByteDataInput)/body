{
  try {
    final Unmarshaller unmarshaller=getUnmarshaller();
    unmarshaller.start(input);
    expectHeader(unmarshaller,ManagementProtocol.PARAM_HOST_MODEL_UPDATE_COUNT);
    int count=unmarshaller.readInt();
    updates=new ArrayList<AbstractHostModelUpdate<?>>(count);
    for (int i=0; i < count; i++) {
      expectHeader(unmarshaller,ManagementProtocol.PARAM_HOST_MODEL_UPDATE);
      final AbstractHostModelUpdate<?> update=unmarshaller.readObject(AbstractHostModelUpdate.class);
      updates.add(update);
    }
    unmarshaller.finish();
    log.infof("Received host model updates %s",updates);
  }
 catch (  Exception e) {
    throw new ManagementException("Unable to read host model updates from request.",e);
  }
}
