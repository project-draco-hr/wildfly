{
  if (!response.has(FAILURE_DESCRIPTION)) {
    final ModelNode domainModel=context.readModel(PathAddress.EMPTY_ADDRESS);
    final ModelNodeRegistration rootRegistration=context.getModelNodeRegistration();
    ParsedOp.ServerOperationProvider provider=new ParsedOp.ServerOperationProvider(){
      @Override public Map<Set<ServerIdentity>,ModelNode> getServerOperations(      ModelNode domainOp,      PathAddress address){
        return ServerOperationsResolverHandler.this.getServerOperations(domainOp,address,domainModel,domainModel.get(HOST).get(localHostName),rootRegistration);
      }
    }
;
    Map<Set<ServerIdentity>,ModelNode> serverOps=parsedOp.getServerOps(provider);
    createOverallResult(serverOps);
    if (recordResponse) {
      if (response.has(RESULT)) {
        context.getResult().set(response.get(RESULT));
      }
      if (response.has(FAILURE_DESCRIPTION)) {
        context.getFailureDescription().set(response.get(FAILURE_DESCRIPTION));
      }
    }
  }
 else   if (recordResponse) {
    context.getFailureDescription().set(response.get(FAILURE_DESCRIPTION));
  }
  context.completeStep();
}
