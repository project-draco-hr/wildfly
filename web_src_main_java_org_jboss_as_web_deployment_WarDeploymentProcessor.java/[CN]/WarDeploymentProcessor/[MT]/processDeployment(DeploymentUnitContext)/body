{
  final WarMetaData metaData=context.getAttachment(WarMetaData.ATTACHMENT_KEY);
  if (metaData == null) {
    return;
  }
  Collection<String> hostNames=metaData.getMergedJBossWebMetaData().getVirtualHosts();
  if (hostNames == null || hostNames.isEmpty()) {
    hostNames=Collections.singleton(defaultHost);
  }
  for (  final String hostName : hostNames) {
    if (hostName == null) {
      throw new IllegalStateException("null host name");
    }
    processDeployment(hostName,metaData,context);
  }
}
