{
  if (hasRegisteredLogContext(context) && context.hasAttachment(Attachments.MODULE)) {
    final ResourceRoot root=context.getAttachment(Attachments.DEPLOYMENT_ROOT);
    if (SubDeploymentMarker.isSubDeployment(root))     return;
    final Module module=context.getAttachment(Attachments.MODULE);
    unregisterLogContext(context,module);
    final List<DeploymentUnit> subDeployments=getSubDeployments(context);
    for (    DeploymentUnit subDeployment : subDeployments) {
      final Module subDeploymentModule=subDeployment.getAttachment(Attachments.MODULE);
      unregisterLogContext(subDeployment,subDeploymentModule);
    }
  }
}
