{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (!hasRegisteredLogContext(deploymentUnit)) {
    if (deploymentUnit.hasAttachment(Attachments.MODULE) && deploymentUnit.hasAttachment(Attachments.DEPLOYMENT_ROOT)) {
      final ResourceRoot root=deploymentUnit.getAttachment(Attachments.DEPLOYMENT_ROOT);
      if (SubDeploymentMarker.isSubDeployment(root))       return;
      processDeployment(phaseContext,deploymentUnit,root);
    }
  }
}
