{
  final List<ModelNode> updates=new ArrayList<ModelNode>();
  ModelNode op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add("socket-binding-group","standard-sockets");
  op.get(OP_ADDR).add("socket-binding","https-test");
  op.get("interface").set("default");
  op.get("port").set(8380);
  updates.add(op);
  final ModelNode composite=Util.getEmptyOperation(COMPOSITE,new ModelNode());
  final ModelNode steps=composite.get(STEPS);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"web");
  op.get(OP_ADDR).add("connector","testConnector");
  op.get("socket-binding").set("https-test");
  op.get("enabled").set(true);
  op.get("protocol").set("HTTP/1.1");
  op.get("scheme").set("https");
  op.get("secure").set(true);
  steps.add(op);
  ModelNode ssl=createOpNode("subsystem=web/connector=testConnector/configuration=ssl","add");
  ssl.get("name").set("https-test");
  ssl.get("key-alias").set("test");
  ssl.get("password").set("changeit");
  ClassLoader tccl=Thread.currentThread().getContextClassLoader();
  URL keystore=tccl.getResource("security/server.keystore");
  ssl.get("certificate-key-file").set(keystore.getPath());
  ssl.get("protocol").set("TLS");
  ssl.get("verify-client").set(true);
  steps.add(ssl);
  updates.add(composite);
  applyUpdates(updates,client);
}
