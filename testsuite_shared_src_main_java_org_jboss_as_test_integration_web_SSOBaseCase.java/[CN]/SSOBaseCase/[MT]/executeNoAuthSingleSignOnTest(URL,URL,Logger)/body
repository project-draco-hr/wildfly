{
  URL warA1=new URL(serverA,"/war1/");
  URL warB2=new URL(serverB + "/war2/");
  URL warB6=new URL(serverB + "/war6/");
  DefaultHttpClient httpclient=new DefaultHttpClient();
  checkAccessDenied(httpclient,warA1 + "index.html");
  CookieStore store=httpclient.getCookieStore();
  log.debug("Saw JSESSIONID=" + getSessionIdValueFromState(store));
  executeFormLogin(httpclient,warA1);
  String ssoID=processSSOCookie(store,serverA.toString(),serverB.toString());
  log.debug("Saw JSESSIONIDSSO=" + ssoID);
  if (!serverA.equals(serverB)) {
    Thread.sleep(500);
  }
  log.debug("Prepare /war2/index.html get");
  checkAccessAllowed(httpclient,warB2 + "index.html");
  checkAccessAllowed(httpclient,warB2 + "EJBServlet");
  checkAccessAllowed(httpclient,warB6 + "index.html");
  checkAccessAllowed(httpclient,warB2 + "EJBServlet");
}
