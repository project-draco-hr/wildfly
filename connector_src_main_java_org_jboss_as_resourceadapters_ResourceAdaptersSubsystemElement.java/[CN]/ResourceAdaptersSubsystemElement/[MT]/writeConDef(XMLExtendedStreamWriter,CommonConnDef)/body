{
  streamWriter.writeStartElement(ResourceAdapter.Tag.CONNECTION_DEFINITION.getLocalName());
  streamWriter.writeAttribute(CommonConnDef.Attribute.CLASS_NAME.getLocalName(),conDef.getClassName());
  streamWriter.writeAttribute(CommonConnDef.Attribute.JNDINAME.getLocalName(),conDef.getJndiName());
  if (conDef.isEnabled() != null)   streamWriter.writeAttribute(CommonConnDef.Attribute.ENABLED.getLocalName(),conDef.isEnabled().toString());
  if (conDef.isUseJavaContext() != null)   streamWriter.writeAttribute(CommonConnDef.Attribute.USEJAVACONTEXT.getLocalName(),conDef.isUseJavaContext().toString());
  if (conDef.getPoolName() != null)   streamWriter.writeAttribute(CommonConnDef.Attribute.POOL_NAME.getLocalName(),conDef.getPoolName());
  if (conDef.getConfigProperties() != null) {
    for (    Entry<String,String> entry : conDef.getConfigProperties().entrySet()) {
      writeConfigProperty(streamWriter,entry);
    }
  }
  if (conDef.getPool() != null) {
    if (conDef.getPool() instanceof CommonPoolImpl) {
      streamWriter.writeStartElement(CommonConnDef.Tag.POOL.getLocalName());
      CommonPoolImpl pool=(CommonPoolImpl)conDef.getPool();
      writeCommonPool(streamWriter,pool);
      streamWriter.writeEndElement();
    }
 else     if (conDef.getPool() instanceof CommonXaPoolImpl) {
      streamWriter.writeStartElement(CommonConnDef.Tag.XA_POOL.getLocalName());
      CommonXaPoolImpl pool=(CommonXaPoolImpl)conDef.getPool();
      writeCommonPool(streamWriter,pool);
      if (pool.isSameRmOverride() != null) {
        streamWriter.writeStartElement(CommonXaPool.Tag.ISSAMERMOVERRIDEVALUE.getLocalName());
        streamWriter.writeCharacters(pool.isSameRmOverride().toString());
        streamWriter.writeEndElement();
      }
      if (pool.isInterleaving() != null) {
        streamWriter.writeStartElement(CommonXaPool.Tag.INTERLEAVING.getLocalName());
        streamWriter.writeCharacters(pool.isInterleaving().toString());
        streamWriter.writeEndElement();
      }
      if (pool.isNoTxSeparatePool() != null) {
        streamWriter.writeStartElement(CommonXaPool.Tag.NO_TX_SEPARATE_POOLS.getLocalName());
        streamWriter.writeCharacters(pool.isNoTxSeparatePool().toString());
        streamWriter.writeEndElement();
      }
      if (pool.isPadXid() != null) {
        streamWriter.writeStartElement(CommonXaPool.Tag.PAD_XID.getLocalName());
        streamWriter.writeCharacters(pool.isPadXid().toString());
        streamWriter.writeEndElement();
      }
      if (pool.isWrapXaDataSource() != null) {
        streamWriter.writeStartElement(CommonXaPool.Tag.WRAP_XA_RESOURCE.getLocalName());
        streamWriter.writeCharacters(pool.isWrapXaDataSource().toString());
        streamWriter.writeEndElement();
      }
      streamWriter.writeEndElement();
    }
  }
  if (conDef.getSecurity() != null) {
    streamWriter.writeStartElement(CommonConnDef.Tag.SECURITY.getLocalName());
    writeSecurity(streamWriter,conDef.getSecurity());
    streamWriter.writeEndElement();
  }
  if (conDef.getTimeOut() != null) {
    streamWriter.writeStartElement(CommonConnDef.Tag.TIMEOUT.getLocalName());
    writeTimeOut(streamWriter,conDef.getTimeOut());
    streamWriter.writeEndElement();
  }
  if (conDef.getValidation() != null) {
    streamWriter.writeStartElement(CommonConnDef.Tag.VALIDATION.getLocalName());
    writeValidation(streamWriter,conDef.getValidation());
    streamWriter.writeEndElement();
  }
  streamWriter.writeEndElement();
}
