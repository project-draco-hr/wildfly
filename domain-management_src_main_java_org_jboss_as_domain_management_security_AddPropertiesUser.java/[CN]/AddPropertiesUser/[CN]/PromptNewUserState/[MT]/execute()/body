{
  if (values.nonInteractive == false) {
    theConsole.printf("\nEnter details of new user to add.\n");
    values.password=null;
    String temp=theConsole.readLine("Realm (%s) : ",values.realm);
    if (temp == null) {
      theConsole.printf("\n");
      return null;
    }
    if (temp.length() > 0) {
      values.realm=temp;
    }
    if (values.userName == null) {
      temp=theConsole.readLine("Username : ");
      if (temp == null || temp.length() == 0) {
        return new ErrorState("No Username entered, exiting.");
      }
      values.userName=temp;
    }
 else {
      temp=theConsole.readLine("Username (%s): ",values.userName);
      if (temp == null) {
        return new ErrorState("No Username entered, exiting.");
      }
      if (temp.length() > 0) {
        values.userName=temp;
      }
    }
    char[] tempChar=theConsole.readPassword("Password : ");
    if (tempChar == null || tempChar.length == 0) {
      return new ErrorState("No Password entered, exiting.");
    }
    char[] secondTempChar=theConsole.readPassword("Re-enter Password : ");
    if (secondTempChar == null) {
      secondTempChar=new char[0];
    }
    if (Arrays.equals(tempChar,secondTempChar) == false) {
      return new ErrorState("Passwords to not match",this);
    }
    values.password=tempChar;
  }
  return new WeakCheckState(values);
}
