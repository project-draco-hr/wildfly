{
  File file=new File(findDomainConfigsDir(cfgDir));
  DomainModel domain=ConfigParser.parseDomain(file);
  HostModel host=ConfigParser.parseHost(file);
  ServerElement el=host.getServer(serverName);
  Assert.assertNotNull(el);
  final List<AbstractServerModelUpdate<?>> list=new ArrayList<AbstractServerModelUpdate<?>>();
  ServerFactory.combine(domain,host,serverName,list);
  final ServerModel model=new ServerModel(serverName,0);
  for (  AbstractServerModelUpdate<?> update : list) {
    model.update(update);
  }
  return model;
}
