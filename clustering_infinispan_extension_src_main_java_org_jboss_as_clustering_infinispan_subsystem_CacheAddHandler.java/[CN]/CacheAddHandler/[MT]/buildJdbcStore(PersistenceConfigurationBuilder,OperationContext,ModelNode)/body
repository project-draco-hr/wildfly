{
  boolean useStringKeyedTable=store.hasDefined(JDBCStoreResourceDefinition.STRING_KEYED_TABLE.getName());
  boolean useBinaryKeyedTable=store.hasDefined(JDBCStoreResourceDefinition.BINARY_KEYED_TABLE.getName());
  if (useStringKeyedTable && !useBinaryKeyedTable) {
    JdbcStringBasedStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcStringBasedStoreConfigurationBuilder.class);
    buildStringKeyedTable(builder.table(),context,store.get(JDBCStoreResourceDefinition.STRING_KEYED_TABLE.getName()));
    return builder;
  }
 else   if (useBinaryKeyedTable && !useStringKeyedTable) {
    JdbcBinaryStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcBinaryStoreConfigurationBuilder.class);
    buildBinaryKeyedTable(builder.table(),context,store.get(JDBCStoreResourceDefinition.BINARY_KEYED_TABLE.getName()));
    return builder;
  }
  JdbcMixedStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcMixedStoreConfigurationBuilder.class);
  buildStringKeyedTable(builder.stringTable(),context,store.get(JDBCStoreResourceDefinition.STRING_KEYED_TABLE.getName()));
  buildBinaryKeyedTable(builder.binaryTable(),context,store.get(JDBCStoreResourceDefinition.BINARY_KEYED_TABLE.getName()));
  return builder;
}
