{
  final Name absoluteName=getAbsoluteName(name);
  object=NamingManager.getStateToBind(object,absoluteName,this,environment);
  if (object instanceof Referenceable) {
    object=Referenceable.class.cast(object).getReference();
  }
  String className=object.getClass().getName();
  if (object instanceof Reference) {
    className=Reference.class.cast(object).getClassName();
  }
  try {
    namingStore.rebind(absoluteName,object,className);
  }
 catch (  CannotProceedException cpe) {
    final Context continuationContext=NamingManager.getContinuationContext(cpe);
    continuationContext.rebind(cpe.getRemainingName(),object);
  }
}
