{
  final Object linkResult;
  try {
    final LinkRef linkRef=LinkRef.class.cast(result);
    String referenceName=linkRef.getLinkName();
    if (referenceName.startsWith("./"))     linkResult=lookup(referenceName.substring(2));
 else     linkResult=new InitialContext().lookup(referenceName);
  }
 catch (  Exception e) {
    NamingException ex=new NamingException("Could not dereference object");
    ex.setRootCause(e);
    throw ex;
  }
  return linkResult;
}
