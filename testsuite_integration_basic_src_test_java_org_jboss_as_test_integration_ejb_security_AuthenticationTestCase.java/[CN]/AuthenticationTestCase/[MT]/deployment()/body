{
  final WebArchive war=ShrinkWrap.create(WebArchive.class,"ejb3security.war").addPackage(WhoAmIBean.class.getPackage()).addPackage(EntryBean.class.getPackage()).addPackage(HttpRequest.class.getPackage()).addClass(WhoAmI.class).addClass(Util.class).addClass(Entry.class).addClasses(WhoAmIServlet.class,AuthenticationTestCase.class,Base64.class).addClasses(AbstractSecurityDomainSetup.class,EjbSecurityDomainSetup.class).addAsResource(AnnotationAuthorizationTestCase.class.getPackage(),"users.properties","users.properties").addAsResource(AnnotationAuthorizationTestCase.class.getPackage(),"roles.properties","roles.properties").addAsWebInfResource(AnnotationAuthorizationTestCase.class.getPackage(),"web.xml","web.xml").addAsWebInfResource(AnnotationAuthorizationTestCase.class.getPackage(),"jboss-web.xml","jboss-web.xml").addAsWebInfResource(AuthenticationTestCase.class.getPackage(),"jboss-ejb3.xml","jboss-ejb3.xml").addAsManifestResource(new StringAsset("Manifest-Version: 1.0\nDependencies: org.jboss.as.controller-client,org.jboss.dmr\n"),"MANIFEST.MF");
  war.addPackage(CommonCriteria.class.getPackage());
  log.info(war.toString(true));
  return war;
}
