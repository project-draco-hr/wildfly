{
synchronized (persistenceProviderPerClassLoader) {
    for (    ClassLoader deploymentClassLoader : deploymentClassLoaders) {
      List<Class> list=persistenceProviderPerClassLoader.get(deploymentClassLoader);
      if (list == null) {
        list=new ArrayList<Class>();
        persistenceProviderPerClassLoader.put(deploymentClassLoader,list);
      }
      list.add(persistenceProvider.getClass());
    }
  }
}
