{
  final AbstractResourceRegistration newRegistry=new ConcreteResourceRegistration(elementValue,this,provider,constraintUtilizationRegistry,runtimeOnly);
  final AbstractResourceRegistration existingRegistry=childRegistriesUpdater.putIfAbsent(this,elementValue,newRegistry);
  if (existingRegistry != null) {
    throw ControllerLogger.ROOT_LOGGER.nodeAlreadyRegistered(getLocationString(),elementValue);
  }
  return newRegistry;
}
