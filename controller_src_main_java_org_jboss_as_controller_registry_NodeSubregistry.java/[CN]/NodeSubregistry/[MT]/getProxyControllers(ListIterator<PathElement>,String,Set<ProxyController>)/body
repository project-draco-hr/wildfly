{
  if (child != null) {
    final RegistrySearchControl searchControl=new RegistrySearchControl(iterator,child);
    if (searchControl.getWildCardRegistry() != null) {
      searchControl.getWildCardRegistry().getProxyControllers(searchControl.getIterator(),controllers);
    }
    if (searchControl.getSpecifiedRegistry() != null) {
      searchControl.getSpecifiedRegistry().getProxyControllers(searchControl.getIterator(),controllers);
    }
  }
 else {
    final Map<String,AbstractResourceRegistration> snapshot=childRegistriesUpdater.get(NodeSubregistry.this);
    for (    AbstractResourceRegistration childRegistry : snapshot.values()) {
      childRegistry.getProxyControllers(iterator,controllers);
    }
  }
}
