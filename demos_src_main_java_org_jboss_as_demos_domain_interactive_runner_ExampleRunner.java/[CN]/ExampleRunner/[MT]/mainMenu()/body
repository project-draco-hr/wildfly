{
  do {
    writeMenu(MainMenu.ALL);
    String choice=readStdIn();
    MainMenu cmd=mainMenuByCmd.get(choice.toUpperCase());
    if (cmd == null) {
      stdout.println(choice + " is not a valid selection.\n");
    }
 else {
      boolean quit=false;
switch (cmd) {
case DOMAIN_CFG:
{
          quit=dumpDomainConfig();
          break;
        }
case LIST_SMS:
{
        quit=listServerManagers();
        break;
      }
case SM_CFG:
{
      quit=dumpServerManager();
      break;
    }
case LIST_SERVERS:
{
    quit=listServers();
    break;
  }
case SERVER_CFG:
{
  quit=dumpServer();
  break;
}
case SERVER_STOP:
{
quit=stopServer();
break;
}
case SERVER_START:
{
quit=startServer();
break;
}
case SERVER_RESTART:
{
quit=restartServer();
break;
}
case ADD_SERVER:
{
quit=addServer();
break;
}
case REMOVE_SERVER:
{
quit=removeServer();
break;
}
case DEPLOYMENTS:
{
quit=runDeploymentPlan();
break;
}
case ADD_JMS_QUEUE:
{
quit=addJmsQueue();
break;
}
case QUIT:
{
quit=true;
break;
}
default :
{
stdout.println("Command " + cmd.getCommand() + " is not supported");
}
}
if (quit) break;
}
}
 while (true);
return true;
}
