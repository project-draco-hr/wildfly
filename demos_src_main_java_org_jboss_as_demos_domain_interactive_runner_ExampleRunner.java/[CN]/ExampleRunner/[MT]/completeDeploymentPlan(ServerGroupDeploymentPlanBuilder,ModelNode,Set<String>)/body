{
  do {
    writeMenu(DeploymentPlanMenu.ALL);
    String choice=readStdIn();
    DeploymentPlanMenu cmd=deploymentPlanMenuByCmd.get(choice.toUpperCase());
    if (cmd == null) {
      stdout.println(choice + " is not a valid selection.\n");
    }
 else {
switch (cmd) {
case ROLLING_TO_SERVERS:
{
          groupPlanBuilder=groupPlanBuilder.rollingToServers();
          break;
        }
case TO_SERVER_GROUP:
{
        String serverGroup=chooseServerGroup(model,includedGroups);
        if (serverGroup != null) {
          groupPlanBuilder=groupPlanBuilder.toServerGroup(serverGroup);
        }
        break;
      }
case ROLL_TO_SERVER_GROUP:
{
      String serverGroup=chooseServerGroup(model,includedGroups);
      if (serverGroup != null) {
        groupPlanBuilder=groupPlanBuilder.rollingToServerGroup(serverGroup);
      }
      break;
    }
case EXECUTE:
{
    return groupPlanBuilder.build();
  }
case CANCEL:
{
  return null;
}
default :
{
stdout.println("Command " + cmd.getCommand() + " is not supported");
}
}
}
}
 while (true);
}
