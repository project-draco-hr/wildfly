{
  final PatchHistoryDir.State patchHistoryDir=patch.getHistoryDir(ctx);
  assertNotNull(patchHistoryDir);
  assertEquals(expectedHistoryPath,patchHistoryDir.getDirectory().getAbsolutePath());
  assertEquals(dirExists,patchHistoryDir.getDirectory().exists());
  assertEquals(patchXmlExists,patchHistoryDir.getPatchXml(ctx).getFile().exists());
  assertEquals(rollbackXmlExists,patchHistoryDir.getRollbackXml(ctx).getFile().exists());
}
