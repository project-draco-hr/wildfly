{
  if (event.isOriginLocal())   return;
  if (event.isPre()) {
    this.entry.set(event.getValue());
  }
 else {
    Map.Entry<K,V> old=this.entry.get();
    this.entry.remove();
    if (!this.listeners.isEmpty()) {
      Map.Entry<K,V> entry=event.getValue();
      if (entry != null) {
        Map<K,V> entries=Collections.singletonMap(entry.getKey(),entry.getValue());
        for (        Listener<K,V> listener : this.listeners) {
          if (old == null) {
            listener.addedEntries(entries);
          }
 else {
            listener.updatedEntries(entries);
          }
        }
      }
    }
  }
}
