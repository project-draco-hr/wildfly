{
  ParsedArguments args=ctx.getParsedArguments();
  final String profile;
  if (ctx.isDomainMode()) {
    profile=this.profile.getValue(args);
    if (profile == null) {
      throw new OperationFormatException("--profile argument value is missing.");
    }
  }
 else {
    profile=null;
  }
  for (  RequestParameterArgument arg : params) {
    String value=arg.getValue(args);
    if (value != null) {
      DefaultOperationRequestBuilder builder=new DefaultOperationRequestBuilder();
      if (profile != null) {
        builder.addNode("profile",profile);
      }
      builder.addNode("subsystem","datasources");
      builder.addNode(dsType,jndiName.getValue(args,true));
      builder.setOperationName("write-attribute");
      builder.addProperty("name",arg.getPropertyName());
      builder.addProperty("value",value);
      request.add(builder.buildRequest());
    }
  }
}
