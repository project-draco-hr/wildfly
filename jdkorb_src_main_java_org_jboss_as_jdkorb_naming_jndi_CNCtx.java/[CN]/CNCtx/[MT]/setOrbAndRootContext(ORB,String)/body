{
  _orb=orb;
  try {
    org.omg.CORBA.Object ncRef;
    if (ncIor != null) {
      ncRef=_orb.string_to_object(ncIor);
    }
 else {
      ncRef=_orb.resolve_initial_references("NameService");
    }
    _nc=NamingContextHelper.narrow(ncRef);
    if (_nc == null) {
      if (ncIor != null) {
        throw ORBMessages.MESSAGES.errorConvertingIORToNamingCtx(ncIor);
      }
 else {
        throw ORBMessages.MESSAGES.errorResolvingNSInitRef();
      }
    }
  }
 catch (  org.omg.CORBA.ORBPackage.InvalidName in) {
    NamingException ne=ORBMessages.MESSAGES.cosNamingNotRegisteredCorrectly();
    ne.setRootCause(in);
    throw ne;
  }
catch (  org.omg.CORBA.COMM_FAILURE e) {
    NamingException ne=ORBMessages.MESSAGES.errorConnectingToORB();
    ne.setRootCause(e);
    throw ne;
  }
catch (  org.omg.CORBA.BAD_PARAM e) {
    NamingException ne=ORBMessages.MESSAGES.invalidURLOrIOR(ncIor);
    ne.setRootCause(e);
    throw ne;
  }
catch (  org.omg.CORBA.INV_OBJREF e) {
    NamingException ne=ORBMessages.MESSAGES.invalidObjectReference(ncIor);
    ne.setRootCause(e);
    throw ne;
  }
}
