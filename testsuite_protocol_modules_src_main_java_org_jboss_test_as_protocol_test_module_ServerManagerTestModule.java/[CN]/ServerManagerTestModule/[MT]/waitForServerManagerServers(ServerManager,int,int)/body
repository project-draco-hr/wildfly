{
  long end=System.currentTimeMillis() + timeoutMs;
  while (System.currentTimeMillis() < end) {
    if (sm.getServers().size() == count)     return sm.getServers();
    Thread.sleep(200);
  }
  Assert.fail("Only got " + sm.getServers().size() + " expected "+ count);
  return sm.getServers();
}
