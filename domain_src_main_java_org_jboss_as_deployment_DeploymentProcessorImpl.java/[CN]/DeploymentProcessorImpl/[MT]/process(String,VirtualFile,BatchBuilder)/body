{
  final DeploymentUnitContextImpl context=new DeploymentUnitContextImpl(name,deploymentRoot);
  final ServiceName deploymentUnitServiceName=DeploymentUnitContext.JBOSS_DEPLOYMENT_UNIT.append(name);
  batchBuilder.addService(deploymentUnitServiceName,Service.NULL);
  final DeploymentChain deploymentChain=this.deploymentChain;
  deploymentChain.processDeployment(context);
  batchBuilder.addDependency(deploymentUnitServiceName);
  final Collection<DeploymentItem> deploymentItems=context.getDeploymentItems();
  for (  DeploymentItem deploymentItem : deploymentItems) {
    deploymentItem.install(batchBuilder);
  }
}
