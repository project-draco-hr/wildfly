{
  final ProtocolChannelClient client;
  try {
    final ProtocolChannelClient.Configuration configuration=new ProtocolChannelClient.Configuration();
    configuration.setEndpointName("endpoint");
    configuration.setUriScheme("remote");
    configuration.setUri(new URI("remote://" + hostName + ":"+ port));
    configuration.setExecutor(executorService);
    configuration.setChannelReceiverFactory(new ManagementChannelReceiverFactory());
    client=ProtocolChannelClient.create(configuration);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  client.connect();
  ProtocolChannel channel;
  try {
    channel=client.openChannel(channelName);
  }
 catch (  IOException e) {
    client.close();
    throw e;
  }
  channel.startReceiving();
  return new NewRemoteProxyController(executorService,pathAddress,channel,false);
}
