{
  final ProtocolChannelClient<ManagementChannel> client;
  try {
    final ProtocolChannelClient.Configuration<ManagementChannel> configuration=new ProtocolChannelClient.Configuration<ManagementChannel>();
    configuration.setEndpointName("endpoint");
    configuration.setUriScheme("remote");
    configuration.setUri(new URI("remote://" + hostName + ":"+ port));
    configuration.setExecutor(executorService);
    configuration.setChannelFactory(new ManagementChannelFactory());
    client=ProtocolChannelClient.create(configuration);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  client.connect();
  ManagementChannel channel;
  try {
    channel=client.openChannel(channelName);
  }
 catch (  IOException e) {
    client.close();
    throw e;
  }
  channel.startReceiving();
  return new NewRemoteProxyController(executorService,pathAddress,channel);
}
