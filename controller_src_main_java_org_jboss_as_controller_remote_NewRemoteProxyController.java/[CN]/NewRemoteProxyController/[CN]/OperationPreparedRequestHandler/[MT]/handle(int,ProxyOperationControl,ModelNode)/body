{
  final ExecuteRequestContext context=activeRequests.get(batchId);
  control.operationPrepared(new OperationTransaction(){
    @Override public void rollback(){
      status=NewModelControllerProtocol.PARAM_ROLLBACK;
      completedLatch.countDown();
      context.waitForTxCompleted();
    }
    @Override public void commit(){
      status=NewModelControllerProtocol.PARAM_COMMIT;
      completedLatch.countDown();
      context.waitForTxCompleted();
    }
  }
,response);
}
