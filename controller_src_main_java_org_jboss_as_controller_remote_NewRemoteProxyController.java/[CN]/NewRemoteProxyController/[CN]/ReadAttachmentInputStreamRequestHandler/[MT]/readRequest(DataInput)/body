{
  int batchId=getContext().getHeader().getBatchId();
  ProtocolUtils.expectHeader(input,ModelControllerProtocol.PARAM_INPUTSTREAM_INDEX);
  int index=input.readInt();
  ExecuteRequestContext requestContext=activeRequests.get(batchId);
  if (requestContext == null) {
    throw new IOException("No active request found for reading inputstream report " + batchId);
  }
  InputStream in=requestContext.getAttachments().getInputStreams().get(index);
  attachmentInput=in != null ? new BufferedInputStream(in) : null;
}
