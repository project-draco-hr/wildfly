{
  ModelNode result=new ModelNode();
  final ResourceBundle bundle=descriptionResolver.getResourceBundle(locale);
  result.get(DESCRIPTION).set(descriptionResolver.getResourceDescription(locale,bundle));
  AccessConstraintDescriptionProviderUtil.addAccessConstraints(result,registration.getAccessConstraints(),locale);
  final ModelNode attributes=result.get(ATTRIBUTES).setEmptyObject();
  Set<String> attributeNames=registration.getAttributeNames(PathAddress.EMPTY_ADDRESS);
  for (  String attr : attributeNames) {
    AttributeAccess attributeAccess=registration.getAttributeAccess(PathAddress.EMPTY_ADDRESS,attr);
    AttributeDefinition def=attributeAccess.getAttributeDefinition();
    if (def != null) {
      def.addResourceAttributeDescription(result,descriptionResolver,locale,bundle);
    }
 else {
      attributes.get(attr);
    }
  }
  result.get(OPERATIONS);
  final ModelNode children=result.get(CHILDREN).setEmptyObject();
  Set<PathElement> childAddresses=registration.getChildAddresses(PathAddress.EMPTY_ADDRESS);
  Set<String> childTypes=new HashSet<String>();
  for (  PathElement childAddress : childAddresses) {
    String key=childAddress.getKey();
    if (childTypes.add(key)) {
      final ModelNode childNode=children.get(key);
      childNode.get(DESCRIPTION).set(descriptionResolver.getChildTypeDescription(key,locale,bundle));
      childNode.get(MODEL_DESCRIPTION);
    }
  }
  return result;
}
