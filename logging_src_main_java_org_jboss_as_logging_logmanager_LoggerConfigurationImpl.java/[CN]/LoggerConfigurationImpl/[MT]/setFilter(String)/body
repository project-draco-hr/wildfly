{
  final String oldFilterName=this.filter;
  this.filter=filter;
  final LogContextConfigurationImpl configuration=getConfiguration();
  configuration.addAction(new ConfigAction<ObjectProducer>(){
    public ObjectProducer validate() throws IllegalArgumentException {
      return configuration.parseFilterExpression(filter);
    }
    public void applyPreCreate(    final ObjectProducer param){
    }
    public void applyPostCreate(    final ObjectProducer param){
      if (configuration.getHandlerRefs().containsKey(getName()))       configuration.getHandlerRefs().get(getName()).setFilter((Filter)param.getObject());
    }
    public void rollback(){
      LoggerConfigurationImpl.this.filter=oldFilterName;
    }
  }
);
}
