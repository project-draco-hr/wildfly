{
  if (shareConnection && context != null && vpc != null && vpc.isVerified()) {
    sharedState.put(DirContext.class.getName(),context);
  }
 else {
    UserLdapCallbackHandler.this.safeClose(context);
  }
}
