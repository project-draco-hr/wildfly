{
  baseDn=userLdap.require(BASE_DN).asString();
  if (userLdap.hasDefined(USERNAME_ATTRIBUTE)) {
    usernameAttribute=userLdap.require(USERNAME_ATTRIBUTE).asString();
    advancedFilter=null;
  }
 else   if (userLdap.hasDefined(ADVANCED_FILTER)) {
    advancedFilter=userLdap.require(ADVANCED_FILTER).asString();
    usernameAttribute=null;
  }
 else {
    throw new IllegalArgumentException("One of '" + USERNAME_ATTRIBUTE + "' or '"+ ADVANCED_FILTER+ "' required.");
  }
  if (userLdap.has(RECURSIVE)) {
    recursive=userLdap.require(RECURSIVE).asBoolean();
  }
 else {
    recursive=false;
  }
  if (userLdap.has(USER_DN)) {
    userDn=userLdap.require(USER_DN).asString();
  }
 else {
    userDn=DEFAULT_USER_DN;
  }
}
