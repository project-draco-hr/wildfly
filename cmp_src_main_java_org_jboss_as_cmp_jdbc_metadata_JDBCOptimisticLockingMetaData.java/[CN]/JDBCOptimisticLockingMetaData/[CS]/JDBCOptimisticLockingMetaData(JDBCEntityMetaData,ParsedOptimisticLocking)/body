{
  lockingStrategy=optimisticLocking.getLockingStrategy();
switch (lockingStrategy) {
case FIELD_GROUP_STRATEGY:
{
      groupName=optimisticLocking.getGroupName();
      lockingField=null;
      keyGeneratorFactory=null;
      break;
    }
case MODIFIED_STRATEGY:
{
    groupName=null;
    lockingField=null;
    keyGeneratorFactory=null;
    break;
  }
case READ_STRATEGY:
{
  groupName=null;
  lockingField=null;
  keyGeneratorFactory=null;
  break;
}
case VERSION_COLUMN_STRATEGY:
{
if (optimisticLocking.getLockingField().getFieldType() != null) throw MESSAGES.fieldTypeNotAllowedForColumn("version",Long.class.getName());
lockingField=constructLockingField(entity,optimisticLocking.getLockingField());
groupName=null;
keyGeneratorFactory=null;
break;
}
case TIMESTAMP_COLUMN_STRATEGY:
{
if (optimisticLocking.getLockingField().getFieldType() != null) throw MESSAGES.fieldTypeNotAllowedForColumn("timestamp",Date.class.getName());
lockingField=constructLockingField(entity,optimisticLocking.getLockingField());
groupName=null;
keyGeneratorFactory=null;
break;
}
case KEYGENERATOR_COLUMN_STRATEGY:
{
lockingField=constructLockingField(entity,optimisticLocking.getLockingField());
groupName=null;
keyGeneratorFactory=optimisticLocking.getKeyGeneratorFactory();
break;
}
default :
{
throw MESSAGES.unknownLockingStrategy(entity.getName(),entity.getName());
}
}
}
