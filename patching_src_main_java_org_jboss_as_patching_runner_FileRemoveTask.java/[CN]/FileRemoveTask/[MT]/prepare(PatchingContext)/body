{
  final byte[] hash;
synchronized (DIRECTORY) {
    DIRECTORY.reset();
    backup(target,Collections.<String>emptyList(),rollback);
    hash=DIRECTORY.digest();
  }
  final byte[] expected=modification.getTargetHash();
  return Arrays.equals(expected,hash);
}
