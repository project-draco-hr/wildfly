{
  if (!target.getParentFile().exists()) {
    target.getParentFile().mkdirs();
  }
  final OutputStream os=new FileOutputStream(target);
  try {
    return copyAndGetHash(is,os);
  }
  finally {
    safeClose(os);
  }
}
