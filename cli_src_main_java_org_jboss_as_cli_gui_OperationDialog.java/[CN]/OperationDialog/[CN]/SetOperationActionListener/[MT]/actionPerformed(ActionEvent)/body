{
  String addressPath=OperationDialog.this.node.addressPath();
  if (OperationDialog.this.opName.equals("add")) {
    UserObject usrObj=(UserObject)OperationDialog.this.node.getUserObject();
    ManagementModelNode parent=(ManagementModelNode)OperationDialog.this.node.getParent();
    RequestProp resourceProp=OperationDialog.this.props.first();
    String value=resourceProp.getValueAsString();
    value=ManagementModelNode.escapeAddressElement(value);
    addressPath=parent.addressPath() + usrObj.getName() + "="+ value+ "/";
    OperationDialog.this.props.remove(resourceProp);
  }
  StringBuilder command=new StringBuilder();
  command.append(addressPath);
  command.append(":");
  command.append(OperationDialog.this.opName);
  addRequestProps(command,OperationDialog.this.props);
  GuiMain.getCommandText().setText(command.toString());
  OperationDialog.this.dispose();
  GuiMain.getCommandText().requestFocus();
}
