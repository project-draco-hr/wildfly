{
synchronized (registry) {
    String error=validateAlias(alias,false);
    if (error == null)     error=validateName(name);
    if (error != null)     throw new NamespaceException(error);
    if (httpContext == null)     httpContext=createDefaultHttpContext();
    String wrapperName=alias.substring(1);
    Wrapper wrapper=context.createWrapper();
    wrapper.setName(wrapperName);
    wrapper.setServlet(new ResourceServlet(name,httpContext));
    wrapper.setServletClass(ResourceServlet.class.getName());
    registerInternal(registry.register(alias,bundle,wrapper,Type.RESOURCE));
  }
}
