{
  String keyid="";
  login();
  Organization org=null;
  try {
    rs=connection.getRegistryService();
    blm=rs.getBusinessLifeCycleManager();
    Collection orgs=new ArrayList();
    org=createOrganization("JBOSS");
    orgs.add(org);
    BulkResponse br=blm.saveOrganizations(orgs);
    if (br.getStatus() == JAXRResponse.STATUS_SUCCESS) {
      if ("true".equalsIgnoreCase(debugProp))       System.out.println("Organization Saved");
      Collection coll=br.getCollection();
      Iterator iter=coll.iterator();
      while (iter.hasNext()) {
        Key key=(Key)iter.next();
        keyid=key.getId();
        if ("true".equalsIgnoreCase(debugProp))         System.out.println("Saved Key=" + key.getId());
        Assert.assertNotNull(keyid);
      }
    }
 else {
      Collection exceptions=br.getExceptions();
      if (exceptions != null) {
        Iterator iter=exceptions.iterator();
        while (iter.hasNext()) {
          Exception e=(Exception)iter.next();
          e.printStackTrace(System.err);
        }
      }
      Assert.fail("Cannot save Organizations");
    }
    checkBusinessExists("JBOSS");
  }
 catch (  JAXRException e) {
    log.error("Exception:",e);
    Assert.fail(e.getMessage());
  }
 finally {
    if (org != null) {
      try {
        Key orgkey=org.getKey();
        if (orgkey != null)         this.deleteOrganization(org.getKey());
      }
 catch (      Exception e) {
        log.error("Exception in finally:",e);
      }
    }
  }
}
