{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      final ModelNode model=context.readResource(PathAddress.EMPTY_ADDRESS).getModel();
      if (model.hasDefined(NativeManagementResourceDefinition.INTERFACE.getName()) && (model.hasDefined(NativeManagementResourceDefinition.SOCKET_BINDING.getName()))) {
        final ModelNode failure=new ModelNode().set(String.format("%s cannot be defined when %s is also defined",NativeManagementResourceDefinition.INTERFACE.getName(),NativeManagementResourceDefinition.SOCKET_BINDING.getName()));
        throw new OperationFailedException(failure);
      }
    }
  }
,OperationContext.Stage.MODEL);
  super.execute(context,operation);
}
