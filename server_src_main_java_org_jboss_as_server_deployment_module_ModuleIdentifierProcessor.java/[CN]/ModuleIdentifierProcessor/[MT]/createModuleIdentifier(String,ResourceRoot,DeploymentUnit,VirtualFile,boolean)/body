{
  final ModuleIdentifier moduleIdentifier;
  if (topLevel) {
    moduleIdentifier=ModuleIdentifier.create(ServiceModuleLoader.MODULE_PREFIX + deploymentUnitName);
  }
 else {
    String relativePath=deploymentRoot.getRoot().getPathNameRelativeTo(toplevelRoot);
    moduleIdentifier=ModuleIdentifier.create(ServiceModuleLoader.MODULE_PREFIX + topLevelDeployment.getName() + '.'+ relativePath.replace('/','.'));
  }
  return moduleIdentifier;
}
