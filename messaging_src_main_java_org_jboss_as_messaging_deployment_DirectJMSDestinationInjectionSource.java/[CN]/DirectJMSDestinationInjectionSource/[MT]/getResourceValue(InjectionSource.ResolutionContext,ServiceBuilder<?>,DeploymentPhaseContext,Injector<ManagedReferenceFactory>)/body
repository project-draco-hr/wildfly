{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final String uniqueName=destinationName != null ? destinationName : uniqueName(context,name);
  try {
    ServiceName hqServiceName=MessagingServices.getHornetQServiceName(getHornetQServerName());
    if (interfaceName.equals(Queue.class.getName())) {
      startQueue(context,uniqueName,phaseContext.getServiceTarget(),hqServiceName,serviceBuilder,deploymentUnit,injector);
    }
 else {
      startTopic(context,uniqueName,phaseContext.getServiceTarget(),hqServiceName,serviceBuilder,deploymentUnit,injector);
    }
  }
 catch (  Exception e) {
    throw new DeploymentUnitProcessingException(e);
  }
}
