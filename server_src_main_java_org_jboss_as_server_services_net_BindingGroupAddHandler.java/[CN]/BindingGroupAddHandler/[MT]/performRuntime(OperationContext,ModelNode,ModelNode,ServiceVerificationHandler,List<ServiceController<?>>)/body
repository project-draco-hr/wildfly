{
  if (context.isBooting()) {
    int portOffset=SocketBindingGroupResourceDefinition.PORT_OFFSET.resolveModelAttribute(context,model).asInt();
    String defaultInterface=SocketBindingGroupResourceDefinition.DEFAULT_INTERFACE.resolveModelAttribute(context,model).asString();
    SocketBindingManagerService service=new SocketBindingManagerService(portOffset);
    final ServiceTarget serviceTarget=context.getServiceTarget();
    newControllers.add(serviceTarget.addService(SocketBindingManager.SOCKET_BINDING_MANAGER,service).setInitialMode(ServiceController.Mode.ON_DEMAND).addDependency(NetworkInterfaceService.JBOSS_NETWORK_INTERFACE.append(defaultInterface),NetworkInterfaceBinding.class,service.getDefaultInterfaceBindingInjector()).addListener(verificationHandler).install());
  }
 else {
    context.reloadRequired();
  }
}
