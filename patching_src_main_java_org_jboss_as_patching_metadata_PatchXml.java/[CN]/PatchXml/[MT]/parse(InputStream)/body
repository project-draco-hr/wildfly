{
  try {
    final XMLInputFactory inputFactory=INPUT_FACTORY;
    setIfSupported(inputFactory,XMLInputFactory.IS_VALIDATING,Boolean.FALSE);
    setIfSupported(inputFactory,XMLInputFactory.SUPPORT_DTD,Boolean.FALSE);
    final XMLStreamReader streamReader=inputFactory.createXMLStreamReader(stream);
    final Result<PatchMetadataResolver> result=new Result<PatchMetadataResolver>();
    MAPPER.parseDocument(result,streamReader);
    return result.getResult();
  }
  finally {
    safeClose(stream);
  }
}
