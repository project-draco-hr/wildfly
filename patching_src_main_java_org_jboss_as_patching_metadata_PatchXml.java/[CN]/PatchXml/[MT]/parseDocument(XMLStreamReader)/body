{
  while (reader.hasNext()) {
switch (reader.nextTag()) {
case START_DOCUMENT:
      return parsePatch(reader);
default :
    throw unexpectedElement(reader);
}
}
throw endOfDocument(reader.getLocation());
}
