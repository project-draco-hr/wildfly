{
  final ModelNode subModel=context.getSubModel();
  final ModelNode compensatingOperation=new ModelNode();
  compensatingOperation.get(OP).set(JMXConnectorAdd.OPERATION_NAME);
  compensatingOperation.get(OP_ADDR).set(operation.require(OP_ADDR));
  compensatingOperation.get(CommonAttributes.SERVER_BINDING).set(subModel.get(CommonAttributes.SERVER_BINDING));
  compensatingOperation.get(CommonAttributes.REGISTRY_BINDING).set(subModel.get(CommonAttributes.REGISTRY_BINDING));
  subModel.get(CommonAttributes.SERVER_BINDING).clear();
  subModel.get(CommonAttributes.REGISTRY_BINDING).clear();
  if (context instanceof RuntimeOperationContext) {
    final RuntimeOperationContext runtimeContext=(RuntimeOperationContext)context;
    final ServiceController<?> service=runtimeContext.getServiceRegistry().getService(JMXConnectorService.SERVICE_NAME);
    if (service != null) {
      service.setMode(Mode.REMOVE);
    }
  }
  resultHandler.handleResultComplete(compensatingOperation);
  return Cancellable.NULL;
}
