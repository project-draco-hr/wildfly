{
  if (cmd != null && ijmd != null) {
    Set<String> raClasses=new HashSet<String>();
    Set<String> ijClasses=new HashSet<String>();
    if (cmd.getVersion() == Connector.Version.V_10) {
      ResourceAdapter10 ra10=(ResourceAdapter10)cmd.getResourceadapter();
      raClasses.add(ra10.getManagedConnectionFactoryClass().getValue());
    }
 else {
      ResourceAdapter1516 ra=(ResourceAdapter1516)cmd.getResourceadapter();
      if (ra != null && ra.getOutboundResourceadapter() != null && ra.getOutboundResourceadapter().getConnectionDefinitions() != null) {
        List<ConnectionDefinition> cdMetas=ra.getOutboundResourceadapter().getConnectionDefinitions();
        if (cdMetas.size() > 0) {
          for (          ConnectionDefinition cdMeta : cdMetas) {
            raClasses.add(cdMeta.getManagedConnectionFactoryClass().getValue());
          }
        }
      }
    }
    if (raClasses.size() == 0)     return false;
    if (ijmd.getConnectionDefinitions() != null) {
      for (      org.jboss.jca.common.api.metadata.common.CommonConnDef def : ijmd.getConnectionDefinitions()) {
        String clz=def.getClassName();
        if (clz == null && raClasses.size() == 1)         return true;
        if (clz != null)         ijClasses.add(clz);
      }
    }
    for (    String clz : raClasses) {
      if (!ijClasses.contains(clz))       return false;
    }
    return true;
  }
  return false;
}
