{
  JndiStrategy js=jndiStrategy.getValue();
  String[] result=js.bindConnectionFactories(deployment,new Object[]{cf},new String[]{jndi});
  mdr.getValue().registerJndiMapping(url.toExternalForm(),cf.getClass().getName(),jndi);
  log.infof("Bound connection factory at %s",jndi);
  final JndiService jndiService=new JndiService(cf,jndi);
  ServiceBuilder<?> serviceBuilder=serviceContainer.addService(JndiService.SERVICE_NAME_BASE.append(jndi),jndiService).setInitialMode(ServiceController.Mode.ACTIVE);
  serviceBuilder.install();
  return result;
}
