{
  DEPLOYMENT_CONNECTOR_LOGGER.debugf("Stopping sevice %s",ConnectorServices.RESOURCE_ADAPTER_DEPLOYMENT_SERVICE_PREFIX.append(this.value.getDeployment().getDeploymentName()));
  if (raName != null && deploymentServiceName != null) {
    ConnectorServices.unregisterDeployment(raName,deploymentServiceName);
  }
  if (raName != null) {
    ConnectorServices.unregisterResourceAdapterIdentifier(raName);
  }
  managementRepository.getValue().getConnectors().remove(value.getDeployment().getConnector());
  if (mdr != null && mdr.getValue() != null) {
    try {
      mdr.getValue().unregisterResourceAdapter(value.getDeployment().getDeploymentName());
    }
 catch (    Throwable t) {
      DEPLOYMENT_CONNECTOR_LOGGER.debug("Exception during unregistering deployment",t);
    }
  }
  super.stop(context);
}
