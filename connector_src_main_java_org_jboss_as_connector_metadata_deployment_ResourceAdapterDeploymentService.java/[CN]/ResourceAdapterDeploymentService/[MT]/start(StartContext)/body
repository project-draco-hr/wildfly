{
  final ServiceContainer container=context.getController().getServiceContainer();
  final AS7RaDeployer raDeployer=new AS7RaDeployer(container);
  raDeployer.setConfiguration(config.getValue());
  final URL url=connectorXmlDescriptor == null ? null : connectorXmlDescriptor.getUrl();
  final String deploymentName=connectorXmlDescriptor == null ? null : connectorXmlDescriptor.getDeploymentName();
  final File root=connectorXmlDescriptor == null ? null : connectorXmlDescriptor.getRoot();
  CommonDeployment raDeployment=null;
  try {
    raDeployment=raDeployer.doDeploy(url,deploymentName,root,module.getClassLoader(),cmd,ijmd);
  }
 catch (  Throwable t) {
    throw new StartException("Failed to start RA deployment [" + deploymentName + "]",t);
  }
  value=new ResourceAdapterDeployment(module.getIdentifier(),raDeployment);
  registry.getValue().registerResourceAdapterDeployment(value);
  log.debugf("Starting sevice %s",ConnectorServices.RESOURCE_ADAPTER_SERVICE_PREFIX.append(this.value.getDeployment().getDeploymentName()));
  context.getChildTarget().addService(ServiceName.of(value.getDeployment().getDeploymentName()),new ResourceAdapterService(value.getDeployment().getResourceAdapter())).setInitialMode(Mode.ACTIVE).install();
}
