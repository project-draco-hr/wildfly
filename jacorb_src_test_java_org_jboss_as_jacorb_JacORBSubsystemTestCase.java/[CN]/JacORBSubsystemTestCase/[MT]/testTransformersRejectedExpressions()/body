{
  KernelServicesBuilder builder=createKernelServicesBuilder(createAdditionalInitialization());
  ModelVersion version_1_1_0=ModelVersion.create(1,1,0);
  builder.createLegacyKernelServicesBuilder(AdditionalInitialization.MANAGEMENT,version_1_1_0).addMavenResourceURL("org.jboss.as:jboss-as-jacorb:7.1.2.Final");
  KernelServices mainServices=builder.build();
  assertTrue(mainServices.isSuccessfulBoot());
  KernelServices legacyServices=mainServices.getLegacyServices(version_1_1_0);
  assertNotNull(legacyServices);
  assertTrue(legacyServices.isSuccessfulBoot());
  FailedOperationTransformationConfig config=new FailedOperationTransformationConfig().addFailedAttribute(PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,"jacorb")),new FailedOperationTransformationConfig.RejectExpressionsConfig(ORB_NAME,ORB_PRINT_VERSION,ORB_USE_IMR,ORB_USE_BOM,ORB_CACHE_TYPECODES,ORB_CACHE_POA_NAMES,ORB_GIOP_MINOR_VERSION,ORB_CONN_RETRIES,ORB_CONN_RETRY_INTERVAL,ORB_CONN_CLIENT_TIMEOUT,ORB_CONN_SERVER_TIMEOUT,ORB_CONN_MAX_SERVER_CONNECTIONS,ORB_CONN_MAX_MANAGED_BUF_SIZE,ORB_CONN_OUTBUF_SIZE,ORB_CONN_OUTBUF_CACHE_TIMEOUT,ORB_INIT_SECURITY,ORB_INIT_TX,POA_MONITORING,POA_QUEUE_WAIT,POA_QUEUE_MIN,POA_QUEUE_MAX,POA_REQUEST_PROC_POOL_SIZE,POA_REQUEST_PROC_MAX_THREADS,NAMING_ROOT_CONTEXT,NAMING_EXPORT_CORBALOC,INTEROP_SUN,INTEROP_COMET,INTEROP_IONA,INTEROP_CHUNK_RMI_VALUETYPES,INTEROP_LAX_BOOLEAN_ENCODING,INTEROP_INDIRECT_ENCODING_DISABLE,INTEROP_STRICT_CHECK_ON_TC_CREATION,SECURITY_SUPPORT_SSL,SECURITY_SECURITY_DOMAIN,SECURITY_ADD_COMPONENT_INTERCEPTOR,SECURITY_CLIENT_SUPPORTS,SECURITY_CLIENT_REQUIRES,SECURITY_SERVER_SUPPORTS,SECURITY_SERVER_REQUIRES));
  ModelTestUtils.checkFailedTransformedBootOperations(mainServices,version_1_1_0,builder.parseXmlResource("expressions-1.2.xml"),config);
}
