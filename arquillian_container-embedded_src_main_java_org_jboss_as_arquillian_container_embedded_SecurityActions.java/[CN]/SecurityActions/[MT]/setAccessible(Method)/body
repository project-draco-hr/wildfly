{
  if (method == null) {
    throw new IllegalArgumentException("method must be specified");
  }
  if (System.getSecurityManager() == null) {
    method.setAccessible(true);
  }
 else {
    try {
      AccessController.doPrivileged(new PrivilegedExceptionAction<Void>(){
        @Override public Void run() throws Exception {
          method.setAccessible(true);
          return null;
        }
      }
);
    }
 catch (    final PrivilegedActionException pae) {
      final Throwable cause=pae.getCause();
      if (cause instanceof SecurityException) {
        throw (SecurityException)cause;
      }
 else {
        throw new RuntimeException("Unexpected exception encountered settingg accessibility of " + method + " to true",cause);
      }
    }
  }
}
