{
  try {
    String failure=validator.validate(operation);
    if (failure == null) {
      ModelNode model=context.getSubModel();
      PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
      String name=address.getLastElement().getValue();
      ModelNode pathNode=operation.get(PATH);
      ModelNode relNode=operation.get(RELATIVE_TO);
      model.get(NAME).set(name);
      model.get(PATH).set(pathNode);
      model.get(RELATIVE_TO).set(relNode);
      ModelNode compensating=PathRemoveHandler.getRemovePathOperation(operation.get(OP_ADDR));
      String path=pathNode.isDefined() ? pathNode.asString() : null;
      String relativeTo=relNode.isDefined() ? relNode.asString() : null;
      return installPath(name,path,relativeTo,context,resultHandler,compensating);
    }
 else {
      throw new OperationFailedException(new ModelNode().set(failure));
    }
  }
 catch (  Exception e) {
    throw new OperationFailedException(new ModelNode().set(e.getLocalizedMessage()));
  }
}
