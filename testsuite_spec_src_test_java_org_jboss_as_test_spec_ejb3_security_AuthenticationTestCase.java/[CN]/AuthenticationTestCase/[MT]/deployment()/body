{
  try {
    createSecurityDomain();
  }
 catch (  Exception e) {
  }
  final WebArchive war=ShrinkWrap.create(WebArchive.class,"ejb3security.war").addPackage(WhoAmIBean.class.getPackage()).addPackage(EntryBean.class.getPackage()).addPackage(HttpRequest.class.getPackage()).addClass(WhoAmI.class).addClass(Util.class).addClass(Entry.class).addClass(WhoAmIServlet.class).addClass(AuthenticationTestCase.class).addClass(Base64.class).addClass(SecurityTest.class).addAsResource("ejb3/security/users.properties","users.properties").addAsResource("ejb3/security/roles.properties","roles.properties").addAsWebInfResource("ejb3/security/web.xml","web.xml").addAsWebInfResource("ejb3/security/jboss-web.xml","jboss-web.xml").addAsManifestResource("web-secure-programmatic-login.war/MANIFEST.MF","MANIFEST.MF");
  log.info(war.toString(true));
  return war;
}
