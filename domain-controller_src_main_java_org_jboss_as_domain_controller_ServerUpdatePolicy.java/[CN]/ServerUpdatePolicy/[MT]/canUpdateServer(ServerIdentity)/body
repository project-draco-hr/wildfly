{
  if (!serverGroupName.equals(server.getServerGroupName()) || !servers.contains(server)) {
    throw new IllegalStateException("Unknown server " + server);
  }
  if (!parent.canChildProceed())   return false;
synchronized (this) {
    return failureCount <= maxFailed;
  }
}
