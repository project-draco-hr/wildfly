{
  ModelNode op=new ModelNode();
  op.get(ModelDescriptionConstants.OP_ADDR).set(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_OVERLAY);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  executeOnMaster(op);
  op=new ModelNode();
  op.get(ModelDescriptionConstants.OP_ADDR).set(new ModelNode());
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.UPLOAD_DEPLOYMENT_BYTES);
  op.get(ModelDescriptionConstants.BYTES).set(FileUtils.readFile(getClass().getClassLoader().getResource("deploymentoverlay/override.xml")).getBytes());
  ModelNode result=executeOnMaster(op);
  op=new ModelNode();
  ModelNode addr=new ModelNode();
  addr.add(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_OVERLAY);
  addr.add(ModelDescriptionConstants.CONTENT,"WEB-INF/web.xml");
  op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  op.get(ModelDescriptionConstants.CONTENT).get(HASH).set(result);
  executeOnMaster(op);
  op=new ModelNode();
  addr=new ModelNode();
  addr.add(ModelDescriptionConstants.SERVER_GROUP,"main-server-group");
  addr.add(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_OVERLAY);
  op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  executeOnMaster(op);
  op=new ModelNode();
  addr=new ModelNode();
  addr.add(ModelDescriptionConstants.SERVER_GROUP,"main-server-group");
  addr.add(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_OVERLAY);
  addr.add(ModelDescriptionConstants.DEPLOYMENT,"test.war");
  op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  executeOnMaster(op);
  op=new ModelNode();
  op.get(ModelDescriptionConstants.OP_ADDR).set(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_SERVER);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  executeOnMaster(op);
  op=new ModelNode();
  op.get(ModelDescriptionConstants.OP_ADDR).set(new ModelNode());
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.UPLOAD_DEPLOYMENT_BYTES);
  op.get(ModelDescriptionConstants.BYTES).set(FileUtils.readFile(getClass().getClassLoader().getResource("deploymentoverlay/wildcard-override.xml")).getBytes());
  result=executeOnMaster(op);
  op=new ModelNode();
  addr=new ModelNode();
  addr.add(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_SERVER);
  addr.add(ModelDescriptionConstants.CONTENT,"WEB-INF/web.xml");
  op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  op.get(ModelDescriptionConstants.CONTENT).get(HASH).set(result);
  executeOnMaster(op);
  op=new ModelNode();
  op.get(ModelDescriptionConstants.OP_ADDR).set(new ModelNode());
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.UPLOAD_DEPLOYMENT_BYTES);
  op.get(ModelDescriptionConstants.BYTES).set("new file".getBytes());
  executeOnMaster(op);
  op=new ModelNode();
  addr=new ModelNode();
  addr.add(ModelDescriptionConstants.DEPLOYMENT_OVERLAY,TEST_SERVER);
  addr.add(ModelDescriptionConstants.CONTENT,"WEB-INF/classes/wildcard-new-file");
  op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  op.get(ModelDescriptionConstants.CONTENT).get(HASH).set(result);
  executeOnMaster(op);
}
