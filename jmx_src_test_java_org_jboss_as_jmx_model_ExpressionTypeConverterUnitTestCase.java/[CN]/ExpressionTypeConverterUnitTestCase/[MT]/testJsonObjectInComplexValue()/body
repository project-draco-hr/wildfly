{
  ModelNode description=createDescription(ModelType.OBJECT);
  ModelNode complexValueType=new ModelNode();
  complexValueType.get("value",DESCRIPTION).set("A  value");
  complexValueType.get("value",TYPE).set(ModelType.OBJECT);
  description.get(VALUE_TYPE).set(complexValueType);
  TypeConverter converter=getConverter(description);
  CompositeType type=assertCast(CompositeType.class,converter.getOpenType());
  Set<String> keys=type.keySet();
  Assert.assertEquals(1,keys.size());
  Assert.assertEquals(SimpleType.STRING,type.getType("value"));
  ModelNode node=new ModelNode();
  node.get("value","long").set(1L);
  node.get("value","string").set("test");
  CompositeData data=assertCast(CompositeData.class,converter.fromModelNode(node));
  Assert.assertEquals(type,data.getCompositeType());
  Assert.assertEquals(ModelNode.fromJSONString(node.toJSONString(false)),converter.toModelNode(data));
}
