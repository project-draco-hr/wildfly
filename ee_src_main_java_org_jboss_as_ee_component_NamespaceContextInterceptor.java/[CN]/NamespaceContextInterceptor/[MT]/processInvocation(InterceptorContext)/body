{
  NamespaceContextSelector.pushCurrentSelector(selector);
  try {
    WritableServiceBasedNamingStore.pushOwner(target);
    try {
      return context.proceed();
    }
  finally {
      WritableServiceBasedNamingStore.popOwner();
    }
  }
  finally {
    NamespaceContextSelector.popCurrentSelector();
  }
}
