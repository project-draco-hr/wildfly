{
  ModelNode masterValue=executeForResult(Util.getReadAttributeOperation(base,attribute),masterClient);
  ModelNode slaveValue=executeForResult(Util.getReadAttributeOperation(base,attribute),slaveClient);
  assertEquals(masterValue,slaveValue);
  ModelNode serverValue=executeForResult(Util.getReadAttributeOperation(SERVER_ONE.append(base),attribute),masterClient);
  assertEquals(masterValue,serverValue);
  Throwable caught=null;
  executeForResult(Util.getWriteAttributeOperation(base,attribute,newValue),masterClient);
  try {
    ModelNode newMasterValue=executeForResult(Util.getReadAttributeOperation(base,attribute),masterClient);
    assertEquals(newValue,newMasterValue);
    slaveValue=executeForResult(Util.getReadAttributeOperation(base,attribute),slaveClient);
    assertEquals(newValue,slaveValue);
    serverValue=executeForResult(Util.getReadAttributeOperation(SERVER_ONE.append(base),attribute),masterClient);
    assertEquals(newValue,serverValue);
  }
 catch (  Exception|Error e) {
    caught=e;
    throw e;
  }
 finally {
    if (!newValue.equals(masterValue)) {
      try {
        executeForResult(Util.getWriteAttributeOperation(base,attribute,masterValue),masterClient);
      }
 catch (      RuntimeException e) {
        if (caught == null) {
          throw e;
        }
 else {
          e.printStackTrace(System.out);
        }
      }
    }
  }
}
