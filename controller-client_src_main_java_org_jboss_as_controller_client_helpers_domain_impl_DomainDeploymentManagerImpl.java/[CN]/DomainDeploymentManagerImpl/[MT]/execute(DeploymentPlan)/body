{
  if (!(plan instanceof DeploymentPlanImpl)) {
    throw new IllegalArgumentException("Cannot use a DeploymentPlan not created by this manager");
  }
  DeploymentPlanImpl planImpl=DeploymentPlanImpl.class.cast(plan);
  Map<UUID,String> actionsById=new HashMap<UUID,String>();
  Operation operation=getDeploymentPlanOperation(planImpl,actionsById);
  Handler handler=new Handler(operation);
  OperationResult c=client.execute(operation,handler.resultHandler);
  handler.setCancellable(c.getCancellable());
  return new DomainDeploymentPlanResultFuture(planImpl,handler,actionsById);
}
