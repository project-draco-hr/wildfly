{
  final ModelNode transformed=operation.clone();
  final RejectedAttributesLogContext rejectedAttributes=new RejectedAttributesLogContext(context,address,operation);
  doTransform(address,transformed,operation,context,rejectedAttributes);
  final OperationRejectionPolicy policy;
  if (!rejectedAttributes.hasRejections()) {
    policy=OperationTransformer.DEFAULT_REJECTION_POLICY;
  }
 else {
    policy=new OperationRejectionPolicy(){
      @Override public boolean rejectOperation(      ModelNode preparedResult){
        return true;
      }
      @Override public String getFailureDescription(){
        return rejectedAttributes.getOperationRejectDescription();
      }
    }
;
  }
  context.invokeNext(new OperationTransformer.TransformedOperation(transformed,policy,OperationResultTransformer.ORIGINAL_RESULT));
}
