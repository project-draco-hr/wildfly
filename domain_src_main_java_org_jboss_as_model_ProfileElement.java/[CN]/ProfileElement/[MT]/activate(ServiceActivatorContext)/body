{
  for (  ProfileIncludeElement includeEl : includedProfiles.values()) {
    ProfileElement prof=includedProfileResolver.resolveRef(includeEl.getProfile());
    if (prof == null) {
      throw new IllegalStateException("Profile referenced by '" + Element.INCLUDE.getLocalName() + "' refers to non-existent profile '"+ includeEl.getProfile()+ "'");
    }
    prof.activate(context);
  }
  final Map<QName,AbstractSubsystemElement<? extends AbstractSubsystemElement<?>>> subsystems=this.subsystems;
  for (  AbstractSubsystemElement<? extends AbstractSubsystemElement<?>> subsystem : subsystems.values()) {
    subsystem.activate(context);
  }
}
