{
  String name;
  try {
    name=host.require(NAME).asString();
  }
 catch (  NoSuchElementException e1) {
    throw new IllegalArgumentException("A host connecting to a remote domain controller must have its name attribute set");
  }
  final ModelNode dc=host.require(DOMAIN_CONTROLLER).require(REMOTE);
  InetAddress addr;
  try {
    addr=InetAddress.getByName(dc.require(HOST).asString());
  }
 catch (  UnknownHostException e) {
    throw new RuntimeException(e);
  }
  int port=dc.require(PORT).asInt();
  final RemoteDomainConnectionService service=new RemoteDomainConnectionService(name,addr,port,repository);
  serviceTarget.addService(MasterDomainControllerClient.SERVICE_NAME,service).addDependency(ManagementCommunicationService.SERVICE_NAME,ManagementCommunicationService.class,service.getManagementCommunicationServiceInjector()).setInitialMode(Mode.ACTIVE).install();
}
