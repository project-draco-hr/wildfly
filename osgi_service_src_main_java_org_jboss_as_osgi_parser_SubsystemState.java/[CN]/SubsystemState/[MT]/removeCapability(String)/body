{
  ModuleIdentifier identifier=ModuleIdentifier.fromString(id);
synchronized (capabilities) {
    for (Iterator<OSGiCapability> it=capabilities.iterator(); it.hasNext(); ) {
      OSGiCapability module=it.next();
      if (module.getIdentifier().equals(identifier)) {
        it.remove();
        notifyObservers(new ChangeEvent(ChangeType.CAPABILITY,true,identifier.toString()));
        return module;
      }
    }
    return null;
  }
}
