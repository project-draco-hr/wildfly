{
  ServiceName name=getServiceName(cluster);
  ServiceBuilder<? extends NodeFactory<?>> builder=clustered ? ChannelNodeFactoryService.build(target,name,cluster) : LocalNodeFactoryService.build(target,name,cluster);
  ServiceController<? extends NodeFactory<?>> controller=builder.setInitialMode(ServiceController.Mode.ON_DEMAND).install();
  return Collections.<ServiceController<?>>singleton(controller);
}
