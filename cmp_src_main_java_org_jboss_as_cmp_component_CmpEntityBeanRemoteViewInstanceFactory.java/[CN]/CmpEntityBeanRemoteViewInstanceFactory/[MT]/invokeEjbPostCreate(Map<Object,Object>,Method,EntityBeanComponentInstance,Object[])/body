{
  final CmpEntityBeanComponentInstance cmpInstance=CmpEntityBeanComponentInstance.class.cast(instance);
  final CmpEntityBeanComponent component=cmpInstance.getComponent();
  final JDBCEntityPersistenceStore storeManager=component.getStoreManager();
  storeManager.postCreateEntity(ejbPostCreate,params,cmpInstance.getEjbContext());
  try {
    ejbPostCreate.invoke(instance.getInstance(),params);
  }
 catch (  InvocationTargetException ite) {
    throw Interceptors.rethrow(ite.getCause());
  }
  if (storeManager.getCmpConfig().isInsertAfterEjbPostCreate()) {
    storeManager.createEntity(ejbPostCreate,params,cmpInstance.getEjbContext());
  }
 else {
    cmpInstance.store();
  }
  final Transaction transaction=component.getTransactionManager().getTransaction();
  if (TxUtils.isActive(transaction)) {
    TransactionEntityMap.NONE.scheduleSync(transaction,cmpInstance.getEjbContext());
  }
}
