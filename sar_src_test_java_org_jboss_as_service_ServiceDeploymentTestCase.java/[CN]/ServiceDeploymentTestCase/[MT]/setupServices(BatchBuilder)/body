{
  super.setupServices(batchBuilder);
  batchBuilder.addService(MBeanServerService.SERVICE_NAME,new MBeanServerService());
  final DeploymentChain deploymentChain=new DeploymentChainImpl();
  batchBuilder.addService(DeploymentChain.SERVICE_NAME,new DeploymentChainService(deploymentChain));
  deploymentChain.addProcessor(new ManifestAttachmentProcessor(),Phase.MANIFEST_ATTACHMENT_PROCESSOR);
  deploymentChain.addProcessor(new AnnotationIndexProcessor(),Phase.ANNOTATION_INDEX_PROCESSOR);
  deploymentChain.addProcessor(new ModuleDependencyProcessor(),Phase.MODULE_DEPENDENCY_PROCESSOR);
  deploymentChain.addProcessor(new ModuleConfigProcessor(),Phase.MODULE_CONFIG_PROCESSOR);
  deploymentChain.addProcessor(new DeploymentModuleLoaderProcessor(new DeploymentModuleLoaderImpl()),Phase.DEPLOYMENT_MODULE_LOADER_PROCESSOR);
  deploymentChain.addProcessor(new ModuleDeploymentProcessor(),Phase.MODULE_DEPLOYMENT_PROCESSOR);
  deploymentChain.addProcessor(new ServiceDeploymentParsingProcessor(),Phase.SERVICE_DEPLOYMENT_PARSING_PROCESSOR);
  deploymentChain.addProcessor(new ParsedServiceDeploymentProcessor(),Phase.PARSED_SERVICE_DEPLOYMENT_PROCESSOR);
}
