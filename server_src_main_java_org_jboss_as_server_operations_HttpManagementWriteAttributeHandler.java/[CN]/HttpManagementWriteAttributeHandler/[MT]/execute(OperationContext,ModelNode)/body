{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      final ModelNode model=context.readResource(PathAddress.EMPTY_ADDRESS).getModel();
      if (model.hasDefined(INTERFACE.getName()) && (model.hasDefined(HttpManagementResourceDefinition.SOCKET_BINDING.getName()) || model.hasDefined(HttpManagementResourceDefinition.SECURE_SOCKET_BINDING.getName()))) {
        final ModelNode failure=new ModelNode().set(String.format("%s cannot be defined when either %s or %s is also defined",INTERFACE.getName(),HttpManagementResourceDefinition.SOCKET_BINDING.getName(),HttpManagementResourceDefinition.SECURE_SOCKET_BINDING.getName()));
        throw new OperationFailedException(failure);
      }
      context.completeStep();
    }
  }
,OperationContext.Stage.MODEL);
  super.execute(context,operation);
}
