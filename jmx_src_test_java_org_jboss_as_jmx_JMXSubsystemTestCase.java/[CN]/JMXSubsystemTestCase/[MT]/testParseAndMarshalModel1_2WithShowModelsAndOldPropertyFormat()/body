{
  String subsystemXml="<subsystem xmlns=\"" + Namespace.JMX_1_2.getUriString() + "\">"+ "   <show-resolved-model domain-name=\"jboss.RESOLVED\" proper-property-format=\"false\"/>"+ "   <show-expression-model domain-name=\"jboss.EXPRESSION\"/>"+ "</subsystem>";
  AdditionalInitialization additionalInit=new BaseAdditionalInitalization();
  KernelServices servicesA=super.installInController(additionalInit,subsystemXml);
  ModelNode modelA=servicesA.readWholeModel();
  Assert.assertTrue(modelA.get(SUBSYSTEM,"jmx",CommonAttributes.SHOW_MODEL,CommonAttributes.RESOLVED).hasDefined(CommonAttributes.PROPER_PROPERTY_FORMAT));
  Assert.assertFalse(modelA.get(SUBSYSTEM,"jmx",CommonAttributes.SHOW_MODEL,CommonAttributes.RESOLVED,CommonAttributes.PROPER_PROPERTY_FORMAT).asBoolean());
  String marshalled=servicesA.getPersistedSubsystemXml();
  servicesA.shutdown();
  Assert.assertTrue(marshalled.contains(Namespace.CURRENT.getUriString()));
  compareXml(null,subsystemXml,marshalled,true);
  KernelServices servicesB=super.installInController(additionalInit,marshalled);
  ModelNode modelB=servicesB.readWholeModel();
  super.compare(modelA,modelB);
}
