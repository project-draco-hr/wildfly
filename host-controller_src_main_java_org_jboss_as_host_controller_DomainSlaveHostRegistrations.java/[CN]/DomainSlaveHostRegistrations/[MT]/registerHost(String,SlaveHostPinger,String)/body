{
synchronized (this) {
    DomainHostConnection registration=registrations.get(hostName);
    final List<HostConnectionInfo.Event> events;
    if (registration == null) {
      events=new ArrayList<>();
    }
 else {
      events=registration.events;
    }
    events.add(HostConnectionInfo.Events.create(HostConnectionInfo.EventType.REGISTERED,address));
    registration=new DomainHostConnection(hostName,pinger,address,events);
    registrations.put(hostName,registration);
  }
}
