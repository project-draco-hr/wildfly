{
  if (context.getProcessType() == ProcessType.STANDALONE_SERVER) {
    Set<Resource.ResourceEntry> deployments=context.readResourceFromRoot(PathAddress.pathAddress(PathAddress.EMPTY_ADDRESS,PathElement.pathElement(DEPLOYMENT))).getChildren(DEPLOYMENT);
    for (    Resource.ResourceEntry existingDeployment : deployments) {
      ModelNode existingDeploymentModel=existingDeployment.getModel();
      if (existingDeploymentModel.hasDefined(RUNTIME_NAME.getName()) && !name.equals(existingDeployment.getName())) {
        if (existingDeploymentModel.get(RUNTIME_NAME.getName()).asString().equals(runtimeName)) {
          throw ServerMessages.MESSAGES.runtimeNameMustBeUnique(existingDeployment.getName(),runtimeName);
        }
      }
    }
  }
}
