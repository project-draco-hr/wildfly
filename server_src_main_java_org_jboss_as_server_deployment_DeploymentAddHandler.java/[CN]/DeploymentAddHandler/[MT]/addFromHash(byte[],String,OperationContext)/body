{
  if (!contentRepository.hasContent(hash)) {
    if (context.isBooting()) {
      if (context.getRunningMode() == RunningMode.ADMIN_ONLY) {
        ServerLogger.DEPLOYMENT_LOGGER.reportAdminOnlyMissingDeploymentContent(HashUtil.bytesToHexString(hash),deploymentName);
      }
 else {
        throw ServerMessages.MESSAGES.noSuchDeploymentContentAtBoot(HashUtil.bytesToHexString(hash),deploymentName);
      }
    }
 else {
      throw ServerMessages.MESSAGES.noSuchDeploymentContent(HashUtil.bytesToHexString(hash));
    }
  }
  return new DeploymentHandlerUtil.ContentItem(hash);
}
