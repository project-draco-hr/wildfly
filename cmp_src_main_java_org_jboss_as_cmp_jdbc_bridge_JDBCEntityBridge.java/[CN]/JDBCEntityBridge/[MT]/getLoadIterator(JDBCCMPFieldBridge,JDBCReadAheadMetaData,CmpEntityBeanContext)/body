{
  boolean[] loadGroup;
  if (requiredField == null) {
    if (readahead != null && !readahead.isNone()) {
      if (log.isTraceEnabled()) {
        log.trace("Eager-load for entity: readahead=" + readahead);
      }
      loadGroup=getLoadGroupMask(readahead.getEagerLoadGroup());
    }
 else {
      if (log.isTraceEnabled()) {
        log.trace("Default eager-load for entity: readahead=" + readahead);
      }
      loadGroup=eagerLoadGroupMask;
    }
  }
 else {
    loadGroup=new boolean[tableFields.length];
    int requiredInd=requiredField.getTableIndex();
    loadGroup[requiredInd]=true;
    for (Iterator groups=lazyLoadGroupMasks.iterator(); groups.hasNext(); ) {
      boolean[] lazyGroup=(boolean[])groups.next();
      if (lazyGroup[requiredInd]) {
        for (int i=0; i < loadGroup.length; ++i)         loadGroup[i]=loadGroup[i] || lazyGroup[i];
      }
    }
  }
  FieldIterator loadIter;
  if (loadGroup != null) {
    int fieldsToLoad=0;
    EntityState entityState=getEntityState(ctx);
    for (int i=0; i < tableFields.length; ++i) {
      JDBCCMPFieldBridge field=tableFields[i];
      if (loadGroup[i] && !field.isPrimaryKeyMember() && !field.isLoaded(ctx)) {
        entityState.setLoadRequired(i);
        ++fieldsToLoad;
      }
    }
    loadIter=(fieldsToLoad > 0 ? entityState.getLoadIterator(ctx) : EMPTY_FIELD_ITERATOR);
  }
 else {
    loadIter=EMPTY_FIELD_ITERATOR;
  }
  return loadIter;
}
