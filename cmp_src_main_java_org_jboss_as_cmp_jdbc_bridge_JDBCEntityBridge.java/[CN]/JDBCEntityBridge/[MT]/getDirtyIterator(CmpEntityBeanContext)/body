{
  int dirtyFields=0;
  final EntityState entityState=getEntityState(ctx);
  for (int i=0; i < tableFields.length; ++i) {
    JDBCCMPFieldBridge field=tableFields[i];
    if (entityState.isCheckDirty(i) && field.isDirty(ctx)) {
      entityState.setUpdateRequired(i);
      ++dirtyFields;
    }
  }
  return dirtyFields > 0 ? getEntityState(ctx).getDirtyIterator(ctx) : EMPTY_FIELD_ITERATOR;
}
