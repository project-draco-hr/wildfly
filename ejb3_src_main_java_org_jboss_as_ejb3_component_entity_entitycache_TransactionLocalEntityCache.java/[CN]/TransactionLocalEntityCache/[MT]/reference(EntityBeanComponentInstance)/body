{
  final Map<Object,CacheEntry> cache=prepareCache();
  final CacheEntry cacheEntry=cache.get(instance.getPrimaryKey());
  if (cacheEntry == null) {
    throw new IllegalArgumentException("Instance [" + instance + "] not found in cache");
  }
  cacheEntry.referenceCount.incrementAndGet();
}
