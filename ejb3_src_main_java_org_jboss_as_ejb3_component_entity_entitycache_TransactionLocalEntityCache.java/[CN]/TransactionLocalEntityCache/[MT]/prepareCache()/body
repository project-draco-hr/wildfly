{
  if (cache.get() == null) {
    cache.set(new HashMap<Object,EntityBeanComponentInstance>());
    if (transactionSynchronizationRegistry.getTransactionKey() != null) {
      transactionSynchronizationRegistry.registerInterposedSynchronization(new Synchronization(){
        @Override public void beforeCompletion(){
        }
        @Override public void afterCompletion(        final int status){
          cache.remove();
        }
      }
);
    }
  }
}
