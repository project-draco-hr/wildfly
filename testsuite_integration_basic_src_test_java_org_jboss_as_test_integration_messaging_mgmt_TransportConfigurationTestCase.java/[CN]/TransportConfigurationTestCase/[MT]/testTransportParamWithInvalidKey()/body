{
  ModelNode address=new ModelNode();
  address.add("subsystem","messaging");
  address.add("hornetq-server","default");
  address.add("http-connector","http-connector");
  address.add("param","foo");
  final ModelNode add=new ModelNode();
  add.get(OP).set(ADD);
  add.get(OP_ADDR).set(address);
  add.get(VALUE).set("bar");
  try {
    executeOperation(add);
    fail("foo is not a valid key for a http-connector parameter.");
  }
 catch (  MgmtOperationException e) {
    ModelNode result=e.getResult();
    assertEquals(FAILED,result.get(OUTCOME).asString());
    assertTrue(result.get(FAILURE_DESCRIPTION).asString().startsWith("WFLYMSG0074"));
    assertEquals(true,result.get(ROLLED_BACK).asBoolean());
  }
}
