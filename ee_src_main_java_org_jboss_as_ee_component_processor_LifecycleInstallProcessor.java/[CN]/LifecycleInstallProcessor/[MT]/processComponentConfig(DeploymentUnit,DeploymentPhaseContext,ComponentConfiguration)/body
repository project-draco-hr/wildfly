{
  final Module module=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  final ClassLoader classLoader=module.getClassLoader();
  for (  ComponentLifecycleConfiguration lifecycleConfiguration : componentConfiguration.getPostConstructLifecycles()) {
    try {
      componentConfiguration.addToAttachmentList(Attachments.POST_CONSTRUCTS,createLifecycleInterceptor(classLoader,componentConfiguration,lifecycleConfiguration));
    }
 catch (    Exception e) {
      throw new DeploymentUnitProcessingException("Failed to create lifecycle interceptor instance: " + lifecycleConfiguration.getMethodName(),e);
    }
  }
  for (  ComponentLifecycleConfiguration lifecycleConfiguration : componentConfiguration.getPreDestroyLifecycles()) {
    try {
      componentConfiguration.addToAttachmentList(Attachments.PRE_DESTROYS,createLifecycleInterceptor(classLoader,componentConfiguration,lifecycleConfiguration));
    }
 catch (    Exception e) {
      throw new DeploymentUnitProcessingException("Failed to create lifecycle interceptor instance: " + lifecycleConfiguration.getMethodName(),e);
    }
  }
}
