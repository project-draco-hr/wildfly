{
  final File standalone=new File(environment.getServerConfigurationDir(),STANDALONE_XML);
  if (!standalone.isFile()) {
    throw new ServerStartException("File " + standalone.getAbsolutePath() + " does not exist.");
  }
  if (!standalone.canWrite()) {
    throw new ServerStartException("File " + standalone.getAbsolutePath() + " is not writable.");
  }
  final List<AbstractServerModelUpdate<?>> updates=new ArrayList<AbstractServerModelUpdate<?>>();
  try {
    final XMLMapper mapper=XMLMapper.Factory.create();
    extensionRegistrar.registerStandardStandaloneReaders(mapper);
    mapper.parseDocument(updates,XMLInputFactory.newInstance().createXMLStreamReader(new BufferedReader(new FileReader(standalone))));
  }
 catch (  Exception e) {
    throw new ServerStartException("Caught exception during processing of standalone.xml",e);
  }
  final ServerStartTask startTask=new ServerStartTask("server name",0,null,Collections.<ServiceActivator>emptyList(),updates,environment);
  startTask.run(Collections.<ServiceActivator>emptyList());
  new Thread(){
{
      setName("Server Life Thread");
      setDaemon(false);
      setPriority(MIN_PRIORITY);
    }
    @Override public void run(){
      for (; ; )       try {
        sleep(1000000L);
      }
 catch (      InterruptedException ignore) {
      }
    }
  }
.start();
}
