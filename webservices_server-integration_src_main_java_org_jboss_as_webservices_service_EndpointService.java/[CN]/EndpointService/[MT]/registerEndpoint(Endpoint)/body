{
  MBeanServer mbeanServer=mBeanServerValue.getValue();
  if (mbeanServer != null) {
    try {
      ManagedEndpoint jmxEndpoint=new ManagedEndpoint(endpoint,mbeanServer);
      mbeanServer.registerMBean(jmxEndpoint,endpoint.getName());
    }
 catch (    final JMException ex) {
      ROOT_LOGGER.trace("Cannot register endpoint with JMX server: " + ex.getMessage(),ex);
      ROOT_LOGGER.cannotRegisterEndpoint(endpoint.getShortName());
    }
  }
 else {
    ROOT_LOGGER.mBeanServerNotAvailable(endpoint.getShortName());
  }
}
