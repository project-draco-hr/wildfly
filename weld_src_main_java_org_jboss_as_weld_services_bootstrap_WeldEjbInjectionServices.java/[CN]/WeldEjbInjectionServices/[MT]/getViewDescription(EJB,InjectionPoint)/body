{
  final Set<ViewDescription> viewService;
  if (ejb.beanName().isEmpty()) {
    if (ejb.beanInterface() != Object.class) {
      viewService=applicationDescription.getComponentsForViewName(ejb.beanInterface().getName(),deploymentRoot);
    }
 else {
      viewService=applicationDescription.getComponentsForViewName(getType(injectionPoint.getType()).getName(),deploymentRoot);
    }
  }
 else {
    if (ejb.beanInterface() != Object.class) {
      viewService=applicationDescription.getComponents(ejb.beanName(),ejb.beanInterface().getName(),deploymentRoot);
    }
 else {
      viewService=applicationDescription.getComponents(ejb.beanName(),getType(injectionPoint.getType()).getName(),deploymentRoot);
    }
  }
  if (viewService.isEmpty()) {
    throw WeldMessages.MESSAGES.ejbNotResolved(ejb,injectionPoint.getMember());
  }
 else   if (viewService.size() > 1) {
    throw WeldMessages.MESSAGES.moreThanOneEjbResolved(ejb,injectionPoint.getMember(),viewService);
  }
  return viewService.iterator().next();
}
