{
  long start=System.currentTimeMillis();
  ModelNode operation=new ModelNode();
  operation.get(OP_ADDR).setEmptyList();
  operation.get(OP).set(READ_ATTRIBUTE_OPERATION);
  operation.get(NAME).set(RUNNING_MODE);
  while (System.currentTimeMillis() - start < timeout) {
    ModelControllerClient liveClient=ModelControllerClient.Factory.create(TestSuiteEnvironment.getServerAddress(),TestSuiteEnvironment.getServerPort());
    try {
      ModelNode result=liveClient.execute(operation);
      if ("NORMAL".equals(result.get(RESULT).asString())) {
        return;
      }
    }
 catch (    IOException e) {
    }
 finally {
      IoUtils.safeClose(liveClient);
    }
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
    }
  }
  fail("Live Server did not reload in the imparted time.");
}
