{
  final EEModuleClassDescription classDescription=applicationClasses.getOrAddClassByName(classInfo.name().toString());
  final ResourceInjectionConfiguration injectionConfiguration=targetDescription != null ? new ResourceInjectionConfiguration(targetDescription,new LookupInjectionSource(localContextName)) : null;
  final InjectionSource valueSource=new WSRefValueSource(module,getServiceReference(deploymentUnit,name,type,value,wsdlLocation));
  final BindingConfiguration bindingConfiguration=new BindingConfiguration(localContextName,valueSource);
  classDescription.getConfigurators().add(new ClassConfigurator(){
    public void configure(    final DeploymentPhaseContext context,    final EEModuleClassDescription description,    final EEModuleClassConfiguration configuration) throws DeploymentUnitProcessingException {
      configuration.getBindingConfigurations().add(bindingConfiguration);
      if (injectionConfiguration != null) {
        configuration.getInjectionConfigurations().add(injectionConfiguration);
      }
    }
  }
);
}
