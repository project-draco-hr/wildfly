{
  LdapEntry entry=null;
  if (forceUserDnSearch == false && sharedState.containsKey(LdapEntry.class.getName())) {
    entry=(LdapEntry)sharedState.get(LdapEntry.class.getName());
  }
  if (entry == null || user.getName().equals(entry.getSimpleName()) == false) {
    entry=userSearcher.userSearch(dirContext,user.getName());
  }
  return loadGroups(entry);
}
