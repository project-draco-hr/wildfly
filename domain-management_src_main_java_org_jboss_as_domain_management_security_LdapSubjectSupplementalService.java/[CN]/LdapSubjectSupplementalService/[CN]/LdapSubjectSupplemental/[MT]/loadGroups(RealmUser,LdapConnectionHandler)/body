{
  LdapEntry entry=null;
  if (forceUserDnSearch == false && sharedState.containsKey(LdapEntry.class.getName())) {
    entry=(LdapEntry)sharedState.get(LdapEntry.class.getName());
    SECURITY_LOGGER.tracef("Loaded from sharedState '%s'",entry);
  }
  if (entry == null || user.getName().equals(entry.getSimpleName()) == false) {
    entry=userSearcher.search(connectionHandler,user.getName()).getResult();
    SECURITY_LOGGER.tracef("Performed userSearch '%s'",entry);
  }
  return loadGroups(entry,connectionHandler);
}
