{
  PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
  String asyncHandlerName=address.getLastElement().getValue();
  String handlerNameToUnassign=NAME.resolveModelAttribute(context,model).asString();
  ServiceRegistry serviceRegistry=context.getServiceRegistry(true);
  @SuppressWarnings("unchecked") ServiceController<Handler> asyncHandlerController=(ServiceController<Handler>)serviceRegistry.getService(LogServices.handlerName(asyncHandlerName));
  @SuppressWarnings("unchecked") ServiceController<Handler> handlerToUnassignController=(ServiceController<Handler>)serviceRegistry.getService(LogServices.handlerName(handlerNameToUnassign));
  AsyncHandlerService service=(AsyncHandlerService)asyncHandlerController.getService();
  Handler injectedHandler=handlerToUnassignController.getService().getValue();
  service.removeHandler(injectedHandler);
}
