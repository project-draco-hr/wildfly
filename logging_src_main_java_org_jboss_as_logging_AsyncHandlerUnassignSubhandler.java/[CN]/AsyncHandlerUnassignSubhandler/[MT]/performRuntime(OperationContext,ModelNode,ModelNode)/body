{
  PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
  String asyncHandlerName=address.getLastElement().getValue();
  String handlerNameToUnassign=operation.get(CommonAttributes.NAME).asString();
  ServiceRegistry serviceRegistry=context.getServiceRegistry(false);
  ServiceController<Handler> asyncHandlerController=(ServiceController<Handler>)serviceRegistry.getService(LogServices.handlerName(asyncHandlerName));
  ServiceController<Handler> handlerToUnassignController=(ServiceController<Handler>)serviceRegistry.getService(LogServices.handlerName(handlerNameToUnassign));
  AsyncHandlerService service=(AsyncHandlerService)asyncHandlerController.getService();
  Handler injectedHandler=handlerToUnassignController.getService().getValue();
  service.removeHandler(injectedHandler);
}
