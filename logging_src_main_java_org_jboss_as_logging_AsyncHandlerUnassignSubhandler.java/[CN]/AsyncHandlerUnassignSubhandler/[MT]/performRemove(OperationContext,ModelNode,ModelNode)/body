{
  ModelNode handlerNameNode=operation.get(CommonAttributes.NAME);
  String handlerName=handlerNameNode.asString();
  ModelNode updateableModel=context.readModelForUpdate(PathAddress.EMPTY_ADDRESS);
  ModelNode assignedHandlers=updateableModel.get(CommonAttributes.SUBHANDLERS);
  if (!assignedHandlers.isDefined() || !assignedHandlers.asList().contains(handlerNameNode)) {
    opFailed("Can not unassign handler.  Handler " + handlerName + " is not assigned.");
  }
  List<ModelNode> newList=new ArrayList<ModelNode>();
  for (  ModelNode node : assignedHandlers.asList()) {
    if (node.asString().equals(handlerName))     continue;
    newList.add(node);
  }
  updateableModel.get(CommonAttributes.SUBHANDLERS).set(newList);
}
