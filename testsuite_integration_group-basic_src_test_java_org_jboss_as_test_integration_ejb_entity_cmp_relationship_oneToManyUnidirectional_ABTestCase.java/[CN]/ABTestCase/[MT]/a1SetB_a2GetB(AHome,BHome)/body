{
  A a1=aHome.create(new Integer(1));
  A a2=aHome.create(new Integer(2));
  Collection b1=a1.getB();
  a1.getId();
  assertTrue(b1.isEmpty());
  Collection b2=a2.getB();
  a2.getId();
  assertTrue(b2.isEmpty());
  B[] b1x=new B[20];
  B[] b2x=new B[30];
  for (int i=0; i < b1x.length; i++) {
    b1x[i]=bHome.create(new Integer(10000 + i));
    b1.add(b1x[i]);
  }
  for (int i=0; i < b2x.length; i++) {
    b2x[i]=bHome.create(new Integer(20000 + i));
    b2.add(b2x[i]);
  }
  for (int i=0; i < b1x.length; i++) {
    assertTrue(b1.contains(b1x[i]));
  }
  for (int i=0; i < b2x.length; i++) {
    assertTrue(b2.contains(b2x[i]));
  }
  a1.setB(a2.getB());
  assertTrue(a2.getB().isEmpty());
  assertTrue(b2.isEmpty());
  assertTrue(b1 == a1.getB());
  assertTrue(b2 == a2.getB());
  for (int i=0; i < b2x.length; i++) {
    assertTrue(a1.getB().contains(b2x[i]));
  }
}
