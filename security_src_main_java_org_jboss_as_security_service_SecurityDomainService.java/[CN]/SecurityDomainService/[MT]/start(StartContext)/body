{
  if (log.isDebugEnabled())   log.debug("Starting SecurityDomainService(" + name + ")");
  if (applicationPolicy != null) {
    final ApplicationPolicyRegistration applicationPolicyRegistration=(ApplicationPolicyRegistration)configurationValue.getValue();
    applicationPolicyRegistration.addApplicationPolicy(applicationPolicy.getName(),applicationPolicy);
  }
  final JNDIBasedSecurityManagement securityManagement=(JNDIBasedSecurityManagement)securityManagementValue.getValue();
  try {
    securityDomainContext=securityManagement.createSecurityDomainContext(name);
  }
 catch (  Exception e) {
    throw new StartException(e);
  }
  if (jsseSecurityDomain != null) {
    try {
      jsseSecurityDomain.reloadKeyAndTrustStore();
      securityDomainContext.setJSSE(jsseSecurityDomain);
    }
 catch (    Exception e) {
      throw new StartException(e);
    }
  }
  securityManagement.getSecurityManagerMap().put(name,securityDomainContext);
}
