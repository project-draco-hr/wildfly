{
  if (wsHandler != null && Character.isWhitespace(ch)) {
    return wsHandler;
  }
  if (ignoreWhitespaces && Character.isWhitespace(ch)) {
    return GlobalCharacterHandlers.NOOP_CHARACTER_HANDLER;
  }
  if (leaveOnWhitespace && Character.isWhitespace(ch)) {
    return GlobalCharacterHandlers.LEAVE_STATE_HANDLER;
  }
  CharacterHandler handler=enterStateHandlers.getHandler(ch);
  if (handler != null) {
    return handler;
  }
  handler=handlers.getHandler(ch);
  if (handler != null) {
    return handler;
  }
  return defaultHandler;
}
