{
  if (securityRealms == null || securityRealms.length == 0) {
    LOGGER.warn("Empty security realms configuration.");
    return;
  }
  final List<ModelNode> updates=new ArrayList<ModelNode>();
  for (  final SecurityRealm securityRealm : securityRealms) {
    final String realmName=securityRealm.getName();
    if (LOGGER.isInfoEnabled()) {
      LOGGER.info("Removing security realm " + realmName);
    }
    final ModelNode op=Util.createRemoveOperation(PathAddress.pathAddress().append(CORE_SERVICE,MANAGEMENT).append(SECURITY_REALM,realmName));
    op.get(OPERATION_HEADERS,ROLLBACK_ON_RUNTIME_FAILURE).set(false);
    op.get(OPERATION_HEADERS,ALLOW_RESOURCE_SERVICE_RESTART).set(true);
    updates.add(op);
  }
  Utils.applyUpdates(updates,managementClient.getControllerClient());
  this.managementClient=null;
  this.securityRealms=null;
}
