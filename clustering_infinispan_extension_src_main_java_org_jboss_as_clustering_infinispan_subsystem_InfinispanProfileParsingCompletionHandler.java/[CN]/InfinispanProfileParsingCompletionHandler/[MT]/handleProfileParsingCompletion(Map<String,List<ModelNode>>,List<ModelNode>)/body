{
  List<ModelNode> legacyInfinispanOps=null;
  for (  InfinispanSchema schema : InfinispanSchema.values()) {
    if (!schema.since(InfinispanSchema.VERSION_3_0)) {
      legacyInfinispanOps=profileBootOperations.get(schema.getNamespaceUri());
      if (legacyInfinispanOps != null) {
        break;
      }
    }
  }
  if (legacyInfinispanOps == null)   return;
  List<ModelNode> jgroupsOps=new LinkedList<>();
  for (Iterator<ModelNode> iterator=legacyInfinispanOps.iterator(); iterator.hasNext(); ) {
    ModelNode op=iterator.next();
    PathAddress operationAddress=Operations.getPathAddress(op);
    if (operationAddress.getElement(0).getValue().equals(JGroupsExtension.SUBSYSTEM_NAME)) {
      jgroupsOps.add(op);
      iterator.remove();
    }
  }
  if (jgroupsOps.isEmpty())   return;
  List<ModelNode> jgroupsLegacyOps=null;
  for (  JGroupsSchema schema : JGroupsSchema.values()) {
    jgroupsLegacyOps=profileBootOperations.get(schema.getNamespaceUri());
    if (jgroupsLegacyOps != null) {
      break;
    }
  }
  if (jgroupsLegacyOps == null)   return;
  jgroupsLegacyOps.addAll(jgroupsOps);
}
