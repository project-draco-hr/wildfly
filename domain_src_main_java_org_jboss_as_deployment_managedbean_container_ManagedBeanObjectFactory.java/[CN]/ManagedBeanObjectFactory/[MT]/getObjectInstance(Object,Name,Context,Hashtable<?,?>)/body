{
  final Reference reference=Reference.class.cast(obj);
  RefAddr refAddr=reference.get(0);
  final ServiceName managedBeanName=(ServiceName)refAddr.getContent();
  final ManagedBeanContainer<?> managedBeanService=ManagedBeanRegistry.get(managedBeanName);
  if (managedBeanService == null) {
    throw new NamingException("Managed bean does not exist with name: " + managedBeanName);
  }
  return managedBeanService.createInstance();
}
