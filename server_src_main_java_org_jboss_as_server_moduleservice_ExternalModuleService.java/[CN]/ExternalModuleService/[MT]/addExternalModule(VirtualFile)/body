{
  ModuleIdentifier identifier=ModuleIdentifier.create(EXTERNAL_MODULE_PREFIX + externalModule.getPathName());
  ServiceName serviceName=ServiceModuleLoader.moduleSpecServiceName(identifier);
  ServiceController<?> controller=serviceContainer.getService(serviceName);
  if (controller == null) {
    try {
      ExternalModuleSpecService service=new ExternalModuleSpecService(identifier,externalModule.getPhysicalFile());
      serviceContainer.addService(serviceName,service).setInitialMode(Mode.ON_DEMAND).install();
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
  return identifier;
}
