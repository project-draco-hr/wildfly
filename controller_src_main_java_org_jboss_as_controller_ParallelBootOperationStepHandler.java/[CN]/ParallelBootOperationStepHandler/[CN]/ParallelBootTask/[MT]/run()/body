{
  boolean interrupted=false;
  ParallelBootOperationContext operationContext=null;
  boolean completeStepCalled=false;
  try {
    operationContext=new ParallelBootOperationContext(transactionControl,processState,primaryContext,runtimeOps,controllingThread);
    for (    ParsedBootOp op : bootOperations) {
      final OperationStepHandler osh=op.handler == null ? rootRegistration.getOperationHandler(op.address,op.operationName) : op.handler;
      operationContext.addStep(op.response,op.operation,osh,executionStage);
    }
    operationContext.completeStep();
  }
 catch (  Throwable t) {
    interrupted=(t instanceof InterruptedException);
    MGMT_OP_LOGGER.failedSubsystemBootOperations(t,subsystemName);
    if (!transactionControl.signalled) {
      ModelNode failure=new ModelNode();
      failure.get(ModelDescriptionConstants.SUCCESS).set(false);
      failure.get(ModelDescriptionConstants.FAILURE_DESCRIPTION).set(t.toString());
      transactionControl.operationFailed(failure);
    }
  }
 finally {
    if (!completeStepCalled) {
      finalizeRun(operationContext,interrupted);
    }
  }
}
