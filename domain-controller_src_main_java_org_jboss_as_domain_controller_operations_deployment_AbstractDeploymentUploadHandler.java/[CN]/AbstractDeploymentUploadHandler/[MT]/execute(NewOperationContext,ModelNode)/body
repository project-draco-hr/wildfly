{
  if (contentRepository != null) {
    try {
      InputStream is=getContentInputStream(context,operation);
      try {
        byte[] hash=contentRepository.addContent(is);
        context.getResult().set(hash);
      }
  finally {
        safeClose(is);
      }
    }
 catch (    IOException e) {
      throw new OperationFailedException(new ModelNode().set(e.toString()));
    }
  }
  context.completeStep();
}
