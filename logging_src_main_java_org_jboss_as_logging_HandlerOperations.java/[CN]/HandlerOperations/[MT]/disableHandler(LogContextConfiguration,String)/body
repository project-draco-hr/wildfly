{
  final HandlerConfiguration handlerConfiguration=configuration.getHandlerConfiguration(handlerName);
  try {
    handlerConfiguration.setPropertyValueString("enabled","false");
    return;
  }
 catch (  IllegalArgumentException e) {
  }
  final Logger root=configuration.getLogContext().getLogger(CommonAttributes.ROOT_LOGGER_NAME);
  Map<String,String> disableHandlers=root.getAttachment(DISABLED_HANDLERS_KEY);
synchronized (HANDLER_LOCK) {
    if (disableHandlers == null) {
      disableHandlers=new HashMap<String,String>();
      final Map<String,String> current=root.attachIfAbsent(DISABLED_HANDLERS_KEY,disableHandlers);
      if (current != null) {
        disableHandlers=current;
      }
    }
    if (!disableHandlers.containsKey(handlerName)) {
      disableHandlers.put(handlerName,handlerConfiguration.getFilter());
      handlerConfiguration.setFilter(CommonAttributes.DENY.getName());
    }
  }
}
