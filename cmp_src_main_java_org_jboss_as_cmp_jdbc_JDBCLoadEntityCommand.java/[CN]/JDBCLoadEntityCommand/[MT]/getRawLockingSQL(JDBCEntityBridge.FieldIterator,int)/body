{
  StringBuffer columnNamesClause=new StringBuffer(250);
  if (keyCount > 1) {
    SQLUtil.getColumnNamesClause(entity.getPrimaryKeyFields(),columnNamesClause);
    columnNamesClause.append(SQLUtil.COMMA);
  }
  SQLUtil.getColumnNamesClause(loadIter,columnNamesClause);
  String tableName=entity.getQualifiedTableName();
  String whereClause=SQLUtil.getWhereClause(entity.getPrimaryKeyFields(),new StringBuffer(50)).toString();
  if (keyCount > 0) {
    StringBuffer sb=new StringBuffer((whereClause.length() + 6) * keyCount + 4);
    for (int i=0; i < keyCount; i++) {
      if (i > 0)       sb.append(SQLUtil.OR);
      sb.append('(').append(whereClause).append(')');
    }
    whereClause=sb.toString();
  }
  String[] args=new String[]{columnNamesClause.toString(),tableName,whereClause,null};
  return rowLockingTemplate.getFunctionSql(args,new StringBuffer(300)).toString();
}
