{
  final PatchingTestBuilder builder=installOneOffCpOneOff();
  validateRollbackState(ONE_OFF_1_ID,updateInstallationManager());
  final File oneOffHistory=getHistory(builder,ONE_OFF_1_ID);
  IoUtils.recursiveDelete(oneOffHistory);
  cannotRollbackPatch(ONE_OFF_1_ID);
  validateRollbackState(CP_1_ID,updateInstallationManager());
  final File cpHistory=getHistory(builder,CP_1_ID);
  IoUtils.recursiveDelete(cpHistory);
  cannotRollbackPatch(CP_1_ID);
  validateRollbackState(ONE_OFF_2_ID,updateInstallationManager());
}
