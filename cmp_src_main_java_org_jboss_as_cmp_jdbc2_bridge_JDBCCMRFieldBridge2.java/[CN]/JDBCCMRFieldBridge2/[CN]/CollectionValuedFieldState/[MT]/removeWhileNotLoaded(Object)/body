{
  boolean removed=false;
  if (addedWhileNotLoaded != null) {
    removed=addedWhileNotLoaded.remove(relatedId);
  }
  if (!removed) {
    if (removedWhileNotLoaded == null) {
      removedWhileNotLoaded=new HashSet();
    }
    removed=removedWhileNotLoaded.add(relatedId);
  }
  if (log.isTraceEnabled() && removed) {
    log.trace("removed while not loaded: relatedId=" + relatedId);
  }
  return removed;
}
