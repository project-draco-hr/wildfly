{
  boolean added=false;
  if (removedWhileNotLoaded != null) {
    added=removedWhileNotLoaded.remove(relatedId);
  }
  if (!added) {
    if (addedWhileNotLoaded == null) {
      addedWhileNotLoaded=new HashSet();
    }
    added=addedWhileNotLoaded.add(relatedId);
  }
  if (log.isTraceEnabled() && added) {
    log.trace("added while not loaded: relatedId=" + relatedId);
  }
  return added;
}
