{
  if (metadata.getRelationMetaData().isTableMappingStyle()) {
    relationTable=relatedCMRField.getRelationTable();
    loader=new RelationTableLoader();
  }
 else {
    if (foreignKeyFields != null) {
      loader=new ContextForeignKeyLoader();
    }
 else {
      loader=new ForeignKeyLoader();
    }
  }
}
