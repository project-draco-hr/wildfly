{
  if (serverConfiguration == null)   throw new IllegalArgumentException("serverConfiguration is null");
  if (serviceContainer == null)   throw new IllegalArgumentException("serviceContainer is null");
  this.serverConfiguration=serverConfiguration;
  this.serviceContainer=serviceContainer;
  this.contentDistributor=new DeploymentContentDistributor(){
    @Override public byte[] distributeDeploymentContent(    String name,    String commonName,    InputStream stream) throws IOException, DuplicateDeploymentNameException {
      return getDeploymentRepository().addDeploymentContent(name,stream);
    }
    @Override public byte[] distributeReplacementDeploymentContent(    String name,    String commonName,    InputStream stream) throws IOException {
      return getDeploymentRepository().addDeploymentContent(name,stream);
    }
  }
;
}
