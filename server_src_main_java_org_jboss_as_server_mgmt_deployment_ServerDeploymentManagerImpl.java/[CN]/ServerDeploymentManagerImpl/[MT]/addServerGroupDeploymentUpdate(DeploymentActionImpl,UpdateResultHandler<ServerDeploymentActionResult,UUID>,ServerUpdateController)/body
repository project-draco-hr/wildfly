{
switch (action.getType()) {
case ADD:
{
      controller.addServerModelUpdate(new ServerModelDeploymentAddUpdate(action.getDeploymentUnitUniqueName(),action.getNewContentFileName(),action.getNewContentHash(),false),resultHandler,action.getId());
      break;
    }
case REMOVE:
{
    controller.addServerModelUpdate(new ServerModelDeploymentRemoveUpdate(action.getDeploymentUnitUniqueName(),false),resultHandler,action.getId());
    break;
  }
case DEPLOY:
{
  ServerGroupDeploymentStartStopUpdate support=new ServerGroupDeploymentStartStopUpdate(action.getDeploymentUnitUniqueName(),true);
  controller.addServerModelUpdate(new ServerModelDeploymentStartStopUpdate(support),resultHandler,action.getId());
  break;
}
case UNDEPLOY:
{
ServerGroupDeploymentStartStopUpdate support=new ServerGroupDeploymentStartStopUpdate(action.getDeploymentUnitUniqueName(),false);
controller.addServerModelUpdate(new ServerModelDeploymentStartStopUpdate(support),resultHandler,action.getId());
break;
}
case REDEPLOY:
{
controller.addServerModelUpdate(new ServerModelDeploymentReplaceUpdate(action.getDeploymentUnitUniqueName(),action.getDeploymentUnitUniqueName()),resultHandler,action.getId());
break;
}
case REPLACE:
{
controller.addServerModelUpdate(new ServerModelDeploymentReplaceUpdate(action.getDeploymentUnitUniqueName(),action.getReplacedDeploymentUnitUniqueName()),resultHandler,action.getId());
break;
}
case FULL_REPLACE:
controller.addServerModelUpdate(new ServerModelDeploymentFullReplaceUpdate(action.getDeploymentUnitUniqueName(),action.getNewContentFileName(),action.getNewContentHash()),resultHandler,action.getId());
break;
default :
{
throw new IllegalStateException("Unknown type " + action.getType());
}
}
}
