{
  ModelNode request=new ModelNode();
  ModelNode address=request.get("address");
  if (ctx.isDomainMode()) {
    final String profileName=profile.getValue(ctx.getParsedCommandLine());
    if (profile == null) {
      ctx.printLine("--profile argument is required to get the node description.");
      return null;
    }
    address.add("profile",profileName);
  }
  final String type=nodePath.getValue(ctx.getParsedCommandLine());
  DefaultOperationCallbackHandler handler=new DefaultOperationCallbackHandler();
  try {
    DefaultOperationRequestParser.INSTANCE.parse(type,handler);
  }
 catch (  CommandFormatException e) {
    throw new IllegalArgumentException("Failed to parse nodeType: " + e.getMessage());
  }
  OperationRequestAddress typeAddress=handler.getAddress();
  if (!typeAddress.endsOnType()) {
    return null;
  }
  final String typeName=typeAddress.toParentNode().getType();
  for (  OperationRequestAddress.Node node : typeAddress) {
    address.add(node.getType(),node.getName());
  }
  address.add(typeName,"?");
  return request;
}
