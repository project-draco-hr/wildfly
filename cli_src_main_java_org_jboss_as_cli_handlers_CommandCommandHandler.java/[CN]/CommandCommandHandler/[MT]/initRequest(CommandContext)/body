{
  ModelNode request=new ModelNode();
  ModelNode address=request.get(Util.ADDRESS);
  final String type=nodePath.getValue(ctx.getParsedCommandLine());
  if (callback == null) {
    callback=new DefaultCallbackHandler();
  }
 else {
    callback.reset();
  }
  try {
    ParserUtil.parseOperationRequest(type,callback);
  }
 catch (  CommandFormatException e) {
    throw new IllegalArgumentException("Failed to parse nodeType: " + e.getMessage());
  }
  OperationRequestAddress typeAddress=callback.getAddress();
  if (!typeAddress.endsOnType()) {
    return null;
  }
  final String typeName=typeAddress.toParentNode().getType();
  for (  OperationRequestAddress.Node node : typeAddress) {
    address.add(node.getType(),node.getName());
  }
  address.add(typeName,"?");
  return request;
}
