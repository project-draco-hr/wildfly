{
  ControllerLogger.MGMT_OP_LOGGER.tracef("transmitting ExecuteRequest for %d",context.getOperationId());
  final ExecuteRequestContext executionContext=context.getAttachment();
  final List<InputStream> streams=executionContext.getInputStreams();
  final ModelNode operation=executionContext.getOperation();
  int inputStreamLength=0;
  if (streams != null) {
    inputStreamLength=streams.size();
  }
  output.write(ModelControllerProtocol.PARAM_OPERATION);
  operation.writeExternal(output);
  output.write(ModelControllerProtocol.PARAM_INPUTSTREAMS_LENGTH);
  output.writeInt(inputStreamLength);
  final Boolean sendSubject=channelAssociation.getAttachments().getAttachment(SEND_SUBJECT);
  if (sendSubject != null && sendSubject) {
    final Subject subject=context.getAttachment().getSerializableSubject();
    writeSubject(output,subject);
  }
}
