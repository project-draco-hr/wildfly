{
  final SimpleClient client=SimpleClient.create(channels);
  final SimpleHandlers.Request request=new SimpleHandlers.Request(SimpleHandlers.REQUEST_WITH_NO_RESPONSE,600);
  final AsyncFuture<Integer> future=client.execute(request);
  try {
    future.get(1,TimeUnit.SECONDS);
    Assert.fail();
  }
 catch (  Exception expected) {
  }
  channels.getClientChannel().close();
  try {
    future.get();
    Assert.fail();
  }
 catch (  CancellationException expected) {
  }
  Assert.assertEquals(future.getStatus(),AsyncFuture.Status.CANCELLED);
}
