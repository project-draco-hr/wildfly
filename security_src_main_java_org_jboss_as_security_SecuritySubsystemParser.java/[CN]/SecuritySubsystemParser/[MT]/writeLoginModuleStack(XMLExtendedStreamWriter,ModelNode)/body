{
  if (modelNode.isDefined() && modelNode.asInt() > 0) {
    writer.writeStartElement(Element.LOGIN_MODULE_STACK.getLocalName());
    List<ModelNode> modules=modelNode.asList();
    Iterator<ModelNode> iter=modules.iterator();
    ModelNode nameNode=iter.next();
    writer.writeAttribute(Attribute.NAME.getLocalName(),nameNode.require(Attribute.NAME.getLocalName()).asString());
    while (iter.hasNext()) {
      ModelNode loginModule=iter.next();
      writer.writeStartElement(Element.LOGIN_MODULE.getLocalName());
      writeCommonModule(writer,loginModule,Element.AUTHENTICATION);
    }
    writer.writeEndElement();
  }
}
