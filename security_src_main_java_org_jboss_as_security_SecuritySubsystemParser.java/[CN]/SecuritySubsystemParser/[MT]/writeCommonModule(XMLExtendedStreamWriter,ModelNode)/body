{
  String code=module.require(CODE).asString();
  writer.writeAttribute(Attribute.CODE.getLocalName(),code);
  if (module.hasDefined(FLAG))   writeAttribute(writer,Attribute.FLAG,module.get(Attribute.FLAG.getLocalName()));
  if (module.hasDefined(TYPE))   writeAttribute(writer,Attribute.TYPE,module.get(Attribute.TYPE.getLocalName()));
  if (module.hasDefined(LOGIN_MODULE_STACK_REF))   writeAttribute(writer,Attribute.LOGIN_MODULE_STACK_REF,module.get(LOGIN_MODULE_STACK_REF));
  if (module.hasDefined(MODULE_OPTIONS) && module.get(MODULE_OPTIONS).asInt() > 0) {
    writeModuleOptions(writer,module.get(MODULE_OPTIONS));
  }
  writer.writeEndElement();
}
