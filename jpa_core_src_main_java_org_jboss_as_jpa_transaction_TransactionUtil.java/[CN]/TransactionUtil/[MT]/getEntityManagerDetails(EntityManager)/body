{
  String result=currentThread() + ":";
  EntityManagerMetadata metadata;
  try {
    if ((metadata=manager.unwrap(EntityManagerMetadata.class)) != null) {
      result+=metadata.getPuName() + ((metadata.isTransactionScopedEntityManager()) ? " [XPC]" : " [transactional]");
    }
  }
 catch (  PersistenceException ignoreUnhandled) {
  }
catch (  AbstractMethodError ignore) {
  }
  return result;
}
