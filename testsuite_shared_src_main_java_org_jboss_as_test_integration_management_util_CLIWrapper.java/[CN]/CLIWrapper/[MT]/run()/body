{
  String threadName=Thread.currentThread().getName();
  BufferedReader reader=threadName.equals(OUT_THREAD_NAME) ? outputReader : errorReader;
  try {
    String line=reader.readLine();
    while (line != null) {
      if (threadName.equals(OUT_THREAD_NAME)) {
        outputLineReceived(line);
      }
 else {
        errorLineReceived(line);
      }
      line=reader.readLine();
    }
  }
 catch (  Exception e) {
  }
 finally {
synchronized (this) {
      if (threadName.equals(OUT_THREAD_NAME)) {
        outputReader=null;
      }
 else {
        errorReader=null;
      }
      running=((outputReader != null) || (errorReader != null));
      notifyAll();
    }
  }
}
