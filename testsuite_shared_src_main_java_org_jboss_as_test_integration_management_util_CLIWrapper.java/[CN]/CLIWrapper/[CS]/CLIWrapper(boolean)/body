{
  init();
  if (!connect) {
    return;
  }
  String line=readLine(10000);
  while (!line.contains("You are disconnected")) {
    line=readLine(10000);
  }
  sendLine("connect",false);
  line=readLine(5000);
  if (!(line.indexOf("disconnected") >= 0)) {
    throw new CLIException("Disconnect check failed. Line received: " + line);
  }
  sendLine("version",false);
  line=readLine(5000);
  if (!(line.indexOf("[standalone@") >= 0)) {
    throw new CLIException("Connect failed. Line received: " + line);
  }
}
