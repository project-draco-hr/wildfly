{
  if (patchType != this.patchType) {
    throw new IllegalStateException();
  }
  if (patchType == Patch.PatchType.ONE_OFF) {
    if (cumulativeTarget == null) {
      throw new IllegalStateException();
    }
  }
  return clazz.cast(this);
}
