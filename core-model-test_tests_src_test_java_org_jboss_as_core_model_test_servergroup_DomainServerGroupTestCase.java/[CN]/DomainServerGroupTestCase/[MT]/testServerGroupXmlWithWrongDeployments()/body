{
  try {
    createKernelServicesBuilder(TestModelType.DOMAIN).setXmlResource("servergroup-with-duplicate-runtime-names.xml").setModelInitializer(StandardServerGroupInitializers.XML_MODEL_INITIALIZER,StandardServerGroupInitializers.XML_MODEL_WRITE_SANITIZER).createContentRepositoryContent("12345678901234567890").createContentRepositoryContent("09876543210987654321").build();
  }
 catch (  XMLStreamException ex) {
    String expectedMessage=ControllerMessages.MESSAGES.duplicateNamedElement("foo.war",new Location(){
      public int getLineNumber(){
        return 1634;
      }
      public int getColumnNumber(){
        return 1;
      }
      public int getCharacterOffset(){
        return 1;
      }
      public String getPublicId(){
        return "";
      }
      public String getSystemId(){
        return "";
      }
    }
).getMessage();
    expectedMessage=expectedMessage.substring(expectedMessage.indexOf("JBAS014664:"));
    Assert.assertThat(ex.getMessage(),containsString(expectedMessage));
  }
}
