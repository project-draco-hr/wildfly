{
  ImmutableSessionAttributes attributes=session.getAttributes();
  Set<String> names=attributes.getAttributeNames();
  List<HttpSessionActivationListener> listeners=new ArrayList<>(names.size());
  for (  String name : names) {
    Object attribute=attributes.getAttribute(name);
    if (attribute instanceof HttpSessionActivationListener) {
      listeners.add((HttpSessionActivationListener)attribute);
    }
  }
  return listeners;
}
