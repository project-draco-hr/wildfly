{
  if (model.getType().equals(ModelType.STRING)) {
    if (EXPRESSION_PATTERN.matcher(model.asString()).matches()) {
      Assert.fail("ModelNode with type==STRING contains an expression formatted string: " + model.asString());
    }
  }
 else   if (model.getType() == ModelType.OBJECT) {
    for (    String key : model.keys()) {
      final ModelNode child=model.get(key);
      scanForExpressionFormattedStrings(child);
    }
  }
 else   if (model.getType() == ModelType.LIST) {
    List<ModelNode> list=model.asList();
    for (    ModelNode entry : list) {
      scanForExpressionFormattedStrings(entry);
    }
  }
 else   if (model.getType() == ModelType.PROPERTY) {
    Property prop=model.asProperty();
    scanForExpressionFormattedStrings(prop.getValue());
  }
}
