{
synchronized (children) {
    final ResourceProvider provider=getProvider(address.getKey());
    if (provider == null) {
      return null;
    }
    final Resource removed=provider.remove(address.getValue());
    if ((provider instanceof DefaultResourceProvider) && !provider.hasChildren()) {
      children.remove(address.getKey());
    }
    return removed;
  }
}
