{
  BufferedReader reader=null;
  try {
    int statusCode=getResponse(new URL(url,"logger?msg=" + URLEncoder.encode(msg,"utf-8")));
    Assert.assertTrue("Invalid response statusCode: " + statusCode,statusCode == HttpServletResponse.SC_OK);
    reader=new BufferedReader(new InputStreamReader(new FileInputStream(logFile),StandardCharsets.UTF_8));
    String line;
    boolean logFound=false;
    while ((line=reader.readLine()) != null) {
      if (line.contains(msg)) {
        logFound=true;
        break;
      }
    }
    Assert.assertTrue(logFound == expected);
  }
  finally {
    safeClose(reader);
  }
}
