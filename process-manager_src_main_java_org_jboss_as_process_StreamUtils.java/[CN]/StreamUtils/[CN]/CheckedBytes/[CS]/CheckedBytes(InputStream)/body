{
  this.expectedLength=readInt(input);
  this.bytez=new byte[expectedLength];
  readFully(input,bytez,0,expectedLength);
  this.expectedChecksum=readLong(input);
  Adler32 adler=new Adler32();
  adler.update(bytez,0,expectedLength);
  this.checksum=calculateChecksum(bytez,expectedLength);
  int c=readChar(input);
switch (c) {
case -1:
{
      status=Status.END_OF_STREAM;
      break;
    }
case 0:
{
    status=Status.MORE;
    break;
  }
case '\n':
{
  status=Status.END_OF_LINE;
  break;
}
default :
{
throw new IllegalStateException("unexpected char " + c);
}
}
}
