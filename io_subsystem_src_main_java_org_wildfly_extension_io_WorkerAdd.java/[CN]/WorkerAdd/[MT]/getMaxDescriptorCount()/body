{
  try {
    ObjectName oName=new ObjectName("java.lang:type=OperatingSystem");
    MBeanServerConnection conn=ManagementFactory.getPlatformMBeanServer();
    Object maxResult=conn.getAttribute(oName,"MaxFileDescriptorCount");
    if (maxResult != null) {
      IOLogger.ROOT_LOGGER.tracef("System has MaxFileDescriptorCount set to %d",maxResult);
      return ((Long)maxResult).intValue();
    }
  }
 catch (  Exception e) {
  }
  IOLogger.ROOT_LOGGER.tracef("We cannot get MaxFileDescriptorCount from system, not applying any limits");
  return -1;
}
