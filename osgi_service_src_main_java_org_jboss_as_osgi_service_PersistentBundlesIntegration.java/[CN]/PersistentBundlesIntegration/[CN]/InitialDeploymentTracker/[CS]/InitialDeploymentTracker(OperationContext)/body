{
  serviceTarget=context.getServiceTarget();
  deploymentNames=getDeploymentNames(context);
  deploymentCount=new AtomicInteger(deploymentNames.size());
  if (deploymentCount.get() == 0) {
    initialDeploymentsComplete();
    return;
  }
  bundleInstallServices=new HashSet<ServiceName>();
  deploymentServiceNames=new HashSet<ServiceName>();
  installedBundles=new LinkedHashMap<ServiceName,Deployment>();
  for (  String deploymentName : deploymentNames) {
    ServiceName serviceName=Services.deploymentUnitName(deploymentName);
    deploymentServiceNames.add(serviceName.append(Phase.INSTALL.toString()));
  }
  ServiceRegistry serviceRegistry=context.getServiceRegistry(false);
  listenerTarget=serviceRegistry.getService(JBOSS_SERVER_CONTROLLER).getServiceContainer();
  listenerTarget.addListener(Inheritance.ALL,this);
}
