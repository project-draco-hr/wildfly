{
  if (isClosed() == false) {
    ServiceName serviceName=controller.getName();
    if (deploymentServiceNames.contains(serviceName)) {
switch (transition) {
case STARTING_to_UP:
case STARTING_to_START_FAILED:
synchronized (deploymentCount) {
          int remaining=deploymentCount.decrementAndGet();
          LOGGER.debugf("Deployment tracked: %s (remaining=%d)",serviceName.getCanonicalName(),remaining);
          if (deploymentCount.get() == 0) {
            listenerTarget.removeListener(this);
            initialDeploymentsComplete();
          }
        }
    }
  }
}
}
