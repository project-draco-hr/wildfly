{
  if (isClosed() == false) {
    ServiceName serviceName=controller.getName();
synchronized (deploymentServiceNames) {
      if (deploymentServiceNames.contains(serviceName)) {
switch (transition) {
case STARTING_to_UP:
case STARTING_to_START_FAILED:
          deploymentServiceNames.remove(serviceName);
        int remaining=deploymentCount.decrementAndGet();
      LOGGER.infof("Deployment tracked: %s (remaining=%d)",serviceName.getCanonicalName(),remaining);
    if (deploymentCount.get() == 0) {
      listenerTarget.removeListener(this);
      initialDeploymentsComplete();
    }
}
}
}
}
}
