{
  final Class<?>[] stack=hack.getClassContext();
  Class<?> current=null;
  for (  Class<?> aClass : stack) {
    if (aClass != current) {
      if (current == InitialContext.class)       return aClass;
      if (current == NamingContext.class && aClass != InitialContext.class)       return aClass;
      current=aClass;
    }
  }
  return null;
}
