{
  context.removeResource(PathAddress.EMPTY_ADDRESS);
  Resource resource=context.createResource(PathAddress.EMPTY_ADDRESS);
  resource.getModel().get(ModelConstants.ENTRIES).set(operation.get(ModelConstants.ENTRIES));
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      ModelNode entries=operation.get(ModelConstants.ENTRIES);
      String pid=operation.get(ModelDescriptionConstants.OP_ADDR).asObject().get(ModelConstants.CONFIGURATION).asString();
      Dictionary<String,String> dictionary=new Hashtable<String,String>();
      for (      String key : entries.keys()) {
        dictionary.put(key,entries.get(key).asString());
      }
      ConfigAdminInternal configAdmin=ConfigAdminExtension.getConfigAdminService(context);
      if (configAdmin != null) {
        configAdmin.putConfigurationInternal(pid,dictionary);
      }
      context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
    }
  }
,OperationContext.Stage.RUNTIME);
  context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
}
