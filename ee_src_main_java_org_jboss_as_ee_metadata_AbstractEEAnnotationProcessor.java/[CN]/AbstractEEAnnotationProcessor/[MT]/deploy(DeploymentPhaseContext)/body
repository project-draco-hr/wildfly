{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final EEApplicationClasses applicationClasses=deploymentUnit.getAttachment(Attachments.EE_APPLICATION_CLASSES_DESCRIPTION);
  final CompositeIndex index=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.COMPOSITE_ANNOTATION_INDEX);
  if (index == null || applicationClasses == null) {
    return;
  }
  final List<ClassAnnotationInformationFactory> factories=annotationInformationFactories();
  for (  final ClassAnnotationInformationFactory factory : factories) {
    final Map<String,ClassAnnotationInformation<?,?>> data=factory.createAnnotationInformation(index);
    for (    Map.Entry<String,ClassAnnotationInformation<?,?>> entry : data.entrySet()) {
      EEModuleClassDescription clazz=applicationClasses.getOrAddClassByName(entry.getKey());
      clazz.addAnnotationInformation(entry.getValue());
    }
  }
  afterAnnotationsProcessed(phaseContext,deploymentUnit);
}
