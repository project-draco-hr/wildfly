{
  if (!(handle instanceof WrappedConnection))   throw new ResourceException("Wrong kind of connection handle to associate " + handle);
  WrappedConnection wc=(WrappedConnection)handle;
  wc.setManagedConnection(this);
synchronized (handles) {
    handles.add(wc);
  }
}
