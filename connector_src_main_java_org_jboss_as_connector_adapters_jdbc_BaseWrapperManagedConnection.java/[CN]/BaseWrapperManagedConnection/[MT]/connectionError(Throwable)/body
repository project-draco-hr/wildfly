{
  if (t instanceof SQLException) {
    if (mcf.isStaleConnection((SQLException)t)) {
      t=new StaleConnectionException((SQLException)t);
    }
 else {
      if (mcf.isExceptionFatal((SQLException)t)) {
        broadcastConnectionError(t);
      }
    }
  }
 else {
    broadcastConnectionError(t);
  }
  return t;
}
