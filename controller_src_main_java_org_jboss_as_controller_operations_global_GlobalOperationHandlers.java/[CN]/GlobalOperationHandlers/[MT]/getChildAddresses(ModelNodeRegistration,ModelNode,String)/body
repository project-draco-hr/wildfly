{
  Set<PathElement> elements=registry.getChildAddresses(PathAddress.EMPTY_ADDRESS);
  Map<String,Set<String>> result=new HashMap<String,Set<String>>();
  for (  PathElement element : elements) {
    String childType=element.getKey();
    if (validChildType != null && !validChildType.equals(childType)) {
      continue;
    }
    Set<String> set=result.get(childType);
    if (set == null) {
      set=new HashSet<String>();
      result.put(childType,set);
    }
    if (element.isWildcard()) {
      if (model.hasDefined(childType)) {
        set.addAll(model.get(childType).keys());
      }
    }
 else {
      set.add(element.getValue());
    }
  }
  return result;
}
