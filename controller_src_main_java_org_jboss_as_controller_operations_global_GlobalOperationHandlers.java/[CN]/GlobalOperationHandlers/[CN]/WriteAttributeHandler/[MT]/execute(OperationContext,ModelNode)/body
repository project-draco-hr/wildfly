{
  nameValidator.validate(operation);
  final String attributeName=operation.require(NAME.getName()).asString();
  final AttributeAccess attributeAccess=context.getResourceRegistration().getAttributeAccess(PathAddress.EMPTY_ADDRESS,attributeName);
  if (attributeAccess == null) {
    throw new OperationFailedException(new ModelNode().set(MESSAGES.unknownAttribute(attributeName)));
  }
 else   if (attributeAccess.getAccessType() != AccessType.READ_WRITE) {
    throw new OperationFailedException(new ModelNode().set(MESSAGES.attributeNotWritable(attributeName)));
  }
 else {
    OperationStepHandler handler=attributeAccess.getWriteHandler();
    ClassLoader oldTccl=SecurityActions.setThreadContextClassLoader(handler.getClass());
    try {
      handler.execute(context,operation);
    }
  finally {
      SecurityActions.setThreadContextClassLoader(oldTccl);
    }
  }
}
