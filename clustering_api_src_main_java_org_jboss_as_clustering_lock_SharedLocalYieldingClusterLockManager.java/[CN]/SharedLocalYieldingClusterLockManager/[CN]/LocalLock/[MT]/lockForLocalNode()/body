{
  LockState lockedState=null;
  for (; ; ) {
    LockState current=lockState.get();
    lockedState=current.takeLocal(SharedLocalYieldingClusterLockManager.this.localNode);
    if (lockState.compareAndSet(current,lockedState)) {
      break;
    }
  }
  return lockedState;
}
