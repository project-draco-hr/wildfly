{
  this.testClass=testClass;
  this.domainConfig=domainConfig;
  this.masterConfig=masterConfig;
  this.slaveConfig=slaveConfig;
  this.sharedClientConfig=DomainControllerClientConfig.create();
  final JBossAsManagedConfiguration master=getMasterConfiguration(domainConfig,masterConfig,testClass);
  domainMasterLifecycleUtil=new DomainLifecycleUtil(master,sharedClientConfig);
  if (slaveConfig != null) {
    final JBossAsManagedConfiguration slave=getSlaveConfiguration(slaveConfig,testClass);
    domainSlaveLifecycleUtil=new DomainLifecycleUtil(slave,sharedClientConfig);
  }
 else {
    domainSlaveLifecycleUtil=null;
  }
}
