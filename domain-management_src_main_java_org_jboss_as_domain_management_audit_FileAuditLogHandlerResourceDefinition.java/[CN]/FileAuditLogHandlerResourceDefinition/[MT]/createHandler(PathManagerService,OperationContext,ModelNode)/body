{
  final String name=Util.getNameFromAddress(operation.require(OP_ADDR));
  final ModelNode model=context.readResource(PathAddress.EMPTY_ADDRESS).getModel();
  final String relativeTo=model.hasDefined(RELATIVE_TO.getName()) ? RELATIVE_TO.resolveModelAttribute(context,model).asString() : null;
  final String path=PATH.resolveModelAttribute(context,model).asString();
  final String formatterName=FORMATTER.resolveModelAttribute(context,model).asString();
  final int maxFailureCount=MAX_FAILURE_COUNT.resolveModelAttribute(context,model).asInt();
  return new FileAuditLogHandler(name,formatterName,maxFailureCount,pathManager,path,relativeTo);
}
