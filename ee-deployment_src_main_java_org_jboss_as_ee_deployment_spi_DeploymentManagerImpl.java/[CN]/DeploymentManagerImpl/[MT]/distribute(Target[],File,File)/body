{
  if (isConnected == false)   throw new IllegalStateException("DeploymentManager is not connected");
  InputStream isModuleArchive=null;
  InputStream isDeploymentPlan=null;
  try {
    isModuleArchive=new FileInputStream(moduleArchive);
    isDeploymentPlan=new FileInputStream(deploymentPlan);
    return distribute(targets,isModuleArchive,isDeploymentPlan);
  }
 catch (  FileNotFoundException e) {
    String message="Cannot find deployment file" + e.getMessage();
    log.error(message,e);
    DeploymentStatus status=new DeploymentStatusImpl(StateType.FAILED,CommandType.DISTRIBUTE,ActionType.EXECUTE,message);
    return new ProgressObjectImpl(status,null);
  }
}
