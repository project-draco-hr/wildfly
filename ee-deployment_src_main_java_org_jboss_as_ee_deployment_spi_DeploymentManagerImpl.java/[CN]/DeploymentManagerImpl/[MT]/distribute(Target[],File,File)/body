{
  if (isConnected == false)   throw new IllegalStateException("DeploymentManager is not connected");
  InputStream isModuleArchive=null;
  InputStream isDeploymentPlan=null;
  try {
    isModuleArchive=new FileInputStream(moduleArchive);
    isDeploymentPlan=new FileInputStream(deploymentPlan);
    return distribute(targets,isModuleArchive,isDeploymentPlan);
  }
 catch (  FileNotFoundException e) {
    String message=MESSAGES.cannotFindDeploymentFile(e.getMessage());
    DeploymentStatus status=new DeploymentStatusImpl(StateType.FAILED,CommandType.DISTRIBUTE,ActionType.EXECUTE,message);
    ROOT_LOGGER.errorf(message);
    return new ProgressObjectImpl(status,null);
  }
}
