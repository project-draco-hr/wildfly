{
  if (isConnected == false)   throw new IllegalStateException("DeploymentManager is not connected");
  if (targets == null) {
    if (deployURI.isOpaque()) {
      throw new NotImplementedException("Opaque deployment URI not implemented");
    }
 else {
      log.debug("Non-Opaque URI seen, checking query for targetType");
      URIParser parser=new URIParser(deployURI);
      String targetType=parser.getParameter("targetType");
      if (targetType.equals("as7"))       targets=new Target[]{new DeploymentManagerTarget(deployURI)};
 else       throw new IllegalArgumentException("Invalid targetType in URI: " + deployURI);
    }
  }
  return targets;
}
