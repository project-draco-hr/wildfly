{
  Map<String,File> dpMap=new HashMap<String,File>();
  if (deploymentPlan == null)   return dpMap;
  try {
    JarInputStream jarDeploymentPlan=new JarInputStream(deploymentPlan);
    JarEntry entry=jarDeploymentPlan.getNextJarEntry();
    while (entry != null) {
      String entryName=entry.getName();
      log.debug("unpack deployment plan entry: " + entryName);
      File tempFile=getTempFile(entryName);
      dpMap.put(entryName,tempFile);
      FileOutputStream out=new FileOutputStream(tempFile);
      JarUtils.copyStream(out,jarDeploymentPlan);
      out.close();
      entry=jarDeploymentPlan.getNextJarEntry();
    }
  }
  finally {
    deploymentPlan.close();
  }
  return dpMap;
}
