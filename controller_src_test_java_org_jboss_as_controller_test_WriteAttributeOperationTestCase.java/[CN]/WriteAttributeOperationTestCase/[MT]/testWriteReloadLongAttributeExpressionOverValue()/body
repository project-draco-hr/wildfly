{
  ModelNode operation=createOperation(READ_ATTRIBUTE_OPERATION,"profile","profilType","subsystem","subsystem1");
  operation.get(NAME).set(LONG_ATT_NAME);
  ModelNode result=executeForResult(operation);
  assertThat(result,is(notNullValue()));
  assertThat(result.getType(),is(ModelType.LONG));
  assertThat(result.asLong(),is(1000L));
  ModelNode rewrite=createOperation(WRITE_ATTRIBUTE_OPERATION,"profile","profilType","subsystem","subsystem1");
  rewrite.get(NAME).set(LONG_ATT_NAME);
  rewrite.get(VALUE).set("${long-value}");
  result=executeCheckNoFailure(rewrite);
  assertThat(result,is(notNullValue()));
  assertThat(result.get(RESPONSE_HEADERS,OPERATION_REQUIRES_RELOAD).isDefined(),is(false));
  assertThat(result.get(RESPONSE_HEADERS,PROCESS_STATE).isDefined(),is(false));
  operation=createOperation(READ_ATTRIBUTE_OPERATION,"profile","profilType","subsystem","subsystem1");
  operation.get(NAME).set(LONG_ATT_NAME);
  result=executeForResult(operation);
  assertThat(result,is(notNullValue()));
  assertThat(result.getType(),is(ModelType.EXPRESSION));
  assertThat(result.asExpression().resolveString(),is("1000"));
}
