{
  final AddressSettingsElement addressSettingsSpec=new AddressSettingsElement(name);
  int tag=reader.getEventType();
  String localName=null;
  do {
    tag=reader.nextTag();
    localName=reader.getLocalName();
    final Element element=Element.forName(reader.getLocalName());
switch (element) {
case DEAD_LETTER_ADDRESS_NODE_NAME:
{
        SimpleString queueName=new SimpleString(reader.getElementText().trim());
        addressSettingsSpec.setDeadLetterAddress(queueName);
      }
    break;
case EXPIRY_ADDRESS_NODE_NAME:
{
    SimpleString queueName=new SimpleString(reader.getElementText().trim());
    addressSettingsSpec.setExpiryAddress(queueName);
  }
break;
case REDELIVERY_DELAY_NODE_NAME:
{
addressSettingsSpec.setRedeliveryDelay(Long.valueOf(reader.getElementText().trim()));
}
break;
case MAX_SIZE_BYTES_NODE_NAME:
{
addressSettingsSpec.setMaxSizeBytes(Long.valueOf(reader.getElementText().trim()));
}
break;
case PAGE_SIZE_BYTES_NODE_NAME:
{
addressSettingsSpec.setPageSizeBytes(Long.valueOf(reader.getElementText().trim()));
}
break;
case MESSAGE_COUNTER_HISTORY_DAY_LIMIT_NODE_NAME:
{
addressSettingsSpec.setMessageCounterHistoryDayLimit(Integer.valueOf(reader.getElementText().trim()));
}
break;
case ADDRESS_FULL_MESSAGE_POLICY_NODE_NAME:
{
String value=reader.getElementText().trim();
Validators.ADDRESS_FULL_MESSAGE_POLICY_TYPE.validate(Element.ADDRESS_FULL_MESSAGE_POLICY_NODE_NAME.getLocalName(),value);
AddressFullMessagePolicy policy=null;
if (value.equals(AddressFullMessagePolicy.BLOCK.toString())) {
policy=AddressFullMessagePolicy.BLOCK;
}
 else if (value.equals(AddressFullMessagePolicy.DROP.toString())) {
policy=AddressFullMessagePolicy.DROP;
}
 else if (value.equals(AddressFullMessagePolicy.PAGE.toString())) {
policy=AddressFullMessagePolicy.PAGE;
}
addressSettingsSpec.setAddressFullMessagePolicy(policy);
}
break;
case LVQ_NODE_NAME:
{
addressSettingsSpec.setLastValueQueue(Boolean.valueOf(reader.getElementText().trim()));
}
break;
case MAX_DELIVERY_ATTEMPTS:
{
addressSettingsSpec.setMaxDeliveryAttempts(Integer.valueOf(reader.getElementText().trim()));
}
break;
case REDISTRIBUTION_DELAY_NODE_NAME:
{
addressSettingsSpec.setRedistributionDelay(Long.valueOf(reader.getElementText().trim()));
}
break;
case SEND_TO_DLA_ON_NO_ROUTE:
{
addressSettingsSpec.setSendToDLAOnNoRoute(Boolean.valueOf(reader.getElementText().trim()));
}
break;
default :
break;
}
reader.discardRemainder();
}
 while (!reader.getLocalName().equals(Element.ADDRESS_SETTING.getLocalName()) && reader.getEventType() != XMLExtendedStreamReader.END_ELEMENT);
return addressSettingsSpec;
}
