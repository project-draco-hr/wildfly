{
  boolean wroteHandler=false;
  for (  Property handler : node.asPropertyList()) {
    if (wroteHandler) {
      throw new IllegalStateException(String.format("Multiple %s children found; only one is allowed",GROUPING_HANDLER));
    }
    writer.writeStartElement(Element.GROUPING_HANDLER.getLocalName());
    writer.writeAttribute(Attribute.NAME.getLocalName(),handler.getName());
    final ModelNode resourceModel=handler.getValue();
    for (    AttributeDefinition attr : CommonAttributes.GROUPING_HANDLER_ATTRIBUTES) {
      attr.marshallAsElement(resourceModel,writer);
    }
    writer.writeEndElement();
  }
}
