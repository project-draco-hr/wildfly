{
  ModelNode op=Util.createEmptyOperation("block",null);
  op.get("start").set(true);
  if (header != null) {
    op.get(OPERATION_HEADERS,BLOCKING_TIMEOUT).set(1);
    System.setProperty(BlockingTimeout.SYSTEM_PROPERTY,"300");
  }
  Future<ModelNode> future=client.executeAsync(op,null);
  ModelNode response=future.get(20,TimeUnit.SECONDS);
  assertEquals(response.toString(),FAILED,response.get(OUTCOME).asString());
  assertTrue(response.toString(),response.get(FAILURE_DESCRIPTION).asString().contains(ControllerLogger.MGMT_OP_LOGGER.timeoutExecutingOperation()));
  assertEquals(ControlledProcessState.State.RESTART_REQUIRED,controllerService.getCurrentProcessState());
}
