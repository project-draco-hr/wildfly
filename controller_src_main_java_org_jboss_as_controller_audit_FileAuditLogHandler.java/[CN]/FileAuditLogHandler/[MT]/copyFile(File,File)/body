{
  final InputStream in=new BufferedInputStream(new FileInputStream(file));
  try {
    final FileOutputStream fos=new FileOutputStream(backup);
    final BufferedOutputStream output=new BufferedOutputStream(fos);
    try {
      StreamUtils.copyStream(in,output);
      output.flush();
      fos.getFD().sync();
      fos.close();
    }
  finally {
      StreamUtils.safeClose(output);
    }
  }
  finally {
    StreamUtils.safeClose(in);
  }
}
