{
  if (file != null) {
    return;
  }
  File file=new File(pathManager.resolveRelativePathEntry(path,relativeTo));
  if (file.exists() && file.isDirectory()) {
    throw ControllerMessages.MESSAGES.resolvedFileDoesNotExistOrIsDirectory(file);
  }
  File parent=file.getParentFile();
  if (!parent.exists()) {
    parent.mkdirs();
  }
  if (file.exists()) {
    File backup=new File(file.getParentFile(),file.getName() + OLD_FILE_FORMATTER.format(new Date()));
    if (!file.renameTo(backup)) {
      throw ControllerMessages.MESSAGES.couldNotBackUp(file.getAbsolutePath(),backup.getAbsolutePath());
    }
  }
  try {
    file.createNewFile();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  this.file=file;
}
