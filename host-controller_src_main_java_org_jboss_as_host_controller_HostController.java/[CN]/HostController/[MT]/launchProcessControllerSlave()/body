{
  final ProtocolClient.Configuration configuration=new ProtocolClient.Configuration();
  configuration.setReadExecutor(Executors.newCachedThreadPool());
  configuration.setServerAddress(new InetSocketAddress(environment.getProcessControllerAddress(),environment.getProcessControllerPort().intValue()));
  configuration.setThreadFactory(Executors.defaultThreadFactory());
  configuration.setSocketFactory(SocketFactory.getDefault());
  processControllerClient=ProcessControllerClient.connect(configuration,authCode,new ProcessMessageHandler(){
    public void handleProcessAdded(    final ProcessControllerClient client,    final String processName){
    }
    public void handleProcessStarted(    final ProcessControllerClient client,    final String processName){
    }
    public void handleProcessStopped(    final ProcessControllerClient client,    final String processName,    final long uptimeMillis){
    }
    public void handleProcessRemoved(    final ProcessControllerClient client,    final String processName){
    }
    public void handleProcessInventory(    final ProcessControllerClient client,    final Map<String,ProcessInfo> inventory){
    }
    public void handleConnectionShutdown(    final ProcessControllerClient client){
    }
    public void handleConnectionFailure(    final ProcessControllerClient client,    final IOException cause){
    }
    public void handleConnectionFinished(    final ProcessControllerClient client){
    }
  }
);
  processControllerClient.requestProcessInventory();
}
