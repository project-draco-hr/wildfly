{
  if (flags.add(Flag.WRITE_LOCK_TAKEN)) {
    try {
      modelController.acquireLock(respectInterruption);
    }
 catch (    InterruptedException e) {
      flags.remove(Flag.WRITE_LOCK_TAKEN);
      Thread.currentThread().interrupt();
      throw new CancellationException("Operation cancelled asynchronously");
    }
    boolean intr=false;
    try {
      for (; ; )       try {
        modelController.awaitContainerMonitor();
        break;
      }
 catch (      InterruptedException e) {
        if (respectInterruption) {
          Thread.currentThread().interrupt();
          throw new CancellationException("Operation cancelled asynchronously");
        }
 else {
          intr=true;
        }
      }
    }
  finally {
      if (intr) {
        Thread.currentThread().interrupt();
      }
    }
  }
}
