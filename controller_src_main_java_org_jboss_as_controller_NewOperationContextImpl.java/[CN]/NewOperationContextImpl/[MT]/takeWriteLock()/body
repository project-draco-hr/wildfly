{
  if (flags.add(Flag.WRITE_LOCK_TAKEN)) {
    try {
      modelController.acquireLock();
    }
 catch (    InterruptedException e) {
      flags.remove(Flag.WRITE_LOCK_TAKEN);
      Thread.currentThread().interrupt();
      throw new CancellationException("Operation cancelled asynchronously");
    }
    try {
      modelController.awaitContainerMonitor();
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new CancellationException("Operation cancelled asynchronously");
    }
  }
}
