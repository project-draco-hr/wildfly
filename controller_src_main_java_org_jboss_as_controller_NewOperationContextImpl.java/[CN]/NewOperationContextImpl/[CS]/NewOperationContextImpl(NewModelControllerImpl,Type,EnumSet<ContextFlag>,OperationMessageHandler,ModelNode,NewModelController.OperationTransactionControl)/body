{
  this.contextType=contextType;
  this.transactionControl=transactionControl;
  this.model=readOnlyModel=model;
  this.modelController=modelController;
  this.messageHandler=messageHandler;
  response=new ModelNode().setEmptyObject();
  steps=new EnumMap<Stage,Deque<Step>>(Stage.class);
  for (  Stage stage : Stage.values()) {
    steps.put(stage,new ArrayDeque<Step>());
  }
  initiatingThread=Thread.currentThread();
  this.contextFlags=contextFlags;
  serviceTarget=new ContextServiceTarget(modelController);
}
