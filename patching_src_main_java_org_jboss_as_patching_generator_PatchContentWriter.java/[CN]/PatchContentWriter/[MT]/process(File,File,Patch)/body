{
  try {
    targetRoot.mkdirs();
    final File patchXml=new File(targetRoot,PatchXml.PATCH_XML);
    final FileOutputStream os=new FileOutputStream(patchXml);
    try {
      PatchXml.marshal(os,patch);
    }
  finally {
      IoUtils.safeClose(os);
    }
    internalProcess(targetRoot,distributionRoot,patch);
  }
  finally {
  }
}
