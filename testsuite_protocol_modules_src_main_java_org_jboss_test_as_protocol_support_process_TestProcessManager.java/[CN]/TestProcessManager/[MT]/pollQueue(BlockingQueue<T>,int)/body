{
  List<T> result=new ArrayList<T>();
  for (int i=0; i < expectedNumber; i++) {
    T t=queue.poll(10,TimeUnit.SECONDS);
    Assert.assertNotNull("Wait timed out reading from queue: " + result,t);
    result.add(t);
  }
  return result;
}
