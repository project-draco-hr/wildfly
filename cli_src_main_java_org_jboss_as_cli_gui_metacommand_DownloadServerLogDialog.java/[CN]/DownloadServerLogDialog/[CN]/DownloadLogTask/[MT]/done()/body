{
  String message="Download " + fileName + " ";
  if (isCancelled()) {
    JOptionPane.showMessageDialog(cliGuiCtx.getMainWindow(),message + "cancelled.",message + "cancelled.",JOptionPane.ERROR_MESSAGE);
    return;
  }
  if (!viewInLogViewer.isSelected() || !openInViewerSupported) {
    JOptionPane.showMessageDialog(cliGuiCtx.getMainWindow(),message + "complete.");
    return;
  }
  try {
    Desktop.getDesktop().open(selectedFile);
  }
 catch (  IOException ioe) {
    try {
      Desktop.getDesktop().open(fileChooser.getCurrentDirectory());
    }
 catch (    IOException ioe2) {
      JOptionPane.showMessageDialog(cliGuiCtx.getMainWindow(),"Download success.  No registered application to view " + fileName,"Can't view file.",JOptionPane.ERROR_MESSAGE);
    }
  }
}
