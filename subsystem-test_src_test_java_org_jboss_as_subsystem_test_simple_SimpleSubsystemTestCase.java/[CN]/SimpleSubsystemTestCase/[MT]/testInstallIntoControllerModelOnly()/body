{
  String subsystemXml="<subsystem xmlns=\"" + SimpleSubsystemExtension.NAMESPACE + "\">"+ "</subsystem>";
  KernelServices services=super.installInController(new AdditionalInitialization(){
    protected OperationContext.Type getType(){
      return Type.MANAGEMENT;
    }
  }
,subsystemXml);
  ModelNode model=services.readWholeModel();
  Assert.assertTrue(model.get(SUBSYSTEM).hasDefined(SimpleSubsystemExtension.SUBSYSTEM_NAME));
  Assert.assertNull(services.getContainer().getService(SimpleService.NAME));
  super.assertRemoveSubsystemResources(services);
  try {
    services.getContainer().getRequiredService(SimpleService.NAME);
    Assert.fail("Should not have found simple service");
  }
 catch (  Exception expected) {
  }
}
