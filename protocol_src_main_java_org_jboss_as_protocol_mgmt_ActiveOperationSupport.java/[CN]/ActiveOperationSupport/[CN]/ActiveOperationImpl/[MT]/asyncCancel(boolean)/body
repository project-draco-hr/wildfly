{
  final List<Cancellable> cancellables;
synchronized (this) {
    cancellables=this.cancellables;
    if (cancellables == CANCEL_REQUESTED) {
      return;
    }
    this.cancellables=CANCEL_REQUESTED;
    if (cancellables == null) {
      setCancelled();
      return;
    }
  }
  for (  Cancellable cancellable : cancellables) {
    cancellable.cancel();
  }
  setCancelled();
}
