{
  ServiceController<?> controller=context.getController();
  ROOT_LOGGER.debugf("Starting: %s in mode %s",controller.getName(),controller.getMode());
  serviceContainer=context.getController().getServiceContainer();
  jndiServiceListener=new JNDIServiceListener(injectedBundleContext.getValue());
  try {
    injectedBundleContext.getValue().addServiceListener(jndiServiceListener,"(" + Constants.OBJECTCLASS + "="+ ObjectFactory.class.getName()+ ")");
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
