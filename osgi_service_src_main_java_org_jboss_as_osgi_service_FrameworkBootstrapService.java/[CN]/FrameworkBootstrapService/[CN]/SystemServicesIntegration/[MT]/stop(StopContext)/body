{
  ServiceController<?> controller=context.getController();
  LOGGER.tracef("Stopping: %s in mode %s",controller.getName(),controller.getMode());
  BundleContext syscontext=injectedBundleContext.getValue();
  for (  SubsystemExtension extension : extensions) {
    extension.stopSystemServices(context,syscontext);
  }
  resource.getInjectedBundleManager().uninject();
  controllerThreadExecutor.shutdown();
}
