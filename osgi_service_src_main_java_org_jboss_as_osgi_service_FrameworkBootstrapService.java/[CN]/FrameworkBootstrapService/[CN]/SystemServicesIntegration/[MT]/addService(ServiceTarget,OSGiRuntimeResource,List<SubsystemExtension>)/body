{
  SystemServicesIntegration service=new SystemServicesIntegration(resource,extensions);
  ServiceBuilder<SystemServicesPlugin> builder=target.addService(IntegrationServices.SYSTEM_SERVICES_PLUGIN,service);
  builder.addDependency(JBOSS_SERVER_CONTROLLER,ModelController.class,service.injectedModelController);
  builder.addDependency(ServerEnvironmentService.SERVICE_NAME,ServerEnvironment.class,service.injectedServerEnvironment);
  builder.addDependency(Services.BUNDLE_MANAGER,BundleManager.class,service.injectedBundleManager);
  builder.addDependency(Services.SYSTEM_CONTEXT,BundleContext.class,service.injectedBundleContext);
  builder.addDependency(Services.FRAMEWORK_CREATE);
  for (  SubsystemExtension extension : extensions) {
    extension.configureSystemServiceDependencies(builder);
  }
  builder.setInitialMode(Mode.ON_DEMAND);
  return builder.install();
}
