{
  DomainCallbackHandler response=callbackHandler.getOptionalValue();
  if (response == null) {
    response=new DomainCallbackHandler(){
      public Class[] getSupportedCallbacks(){
        return new Class[0];
      }
      public void handle(      Callback[] callbacks) throws IOException, UnsupportedCallbackException {
        throw new IllegalStateException("No authentication mechanism defined in security realm.");
      }
    }
;
  }
  return response;
}
