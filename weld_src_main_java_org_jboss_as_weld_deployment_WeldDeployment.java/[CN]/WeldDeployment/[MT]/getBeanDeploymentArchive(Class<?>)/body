{
  ClassLoader moduleClassLoader=WildFlySecurityManager.getClassLoaderPrivileged(beanClass);
  for (  BeanDeploymentArchiveImpl bda : beanDeploymentArchives) {
    if (bda.getBeanClasses().contains(beanClass.getName()) && moduleClassLoader != null && moduleClassLoader.equals(beanClass.getClassLoader())) {
      return bda;
    }
  }
  if (additionalBeanDeploymentArchivesByClassloader.containsKey(moduleClassLoader)) {
    return additionalBeanDeploymentArchivesByClassloader.get(moduleClassLoader);
  }
  return null;
}
