{
  final InterceptorContext context=get();
  if (context == null) {
    throw MESSAGES.noEjbContextAvailable();
  }
  final ComponentInstance component=context.getPrivateData(ComponentInstance.class);
  if (!(component instanceof EjbComponentInstance)) {
    throw MESSAGES.currentComponentNotAEjb(component);
  }
  return ((EjbComponentInstance)component).getEjbContext();
}
