{
  Set<RealmRole> response;
  String rolesString=properties.getProperty(user.getName(),"").trim();
  if (rolesString.length() > 0) {
    String[] roles=rolesString.split(COMMA);
    response=new HashSet<RealmRole>(roles.length);
    for (    String current : roles) {
      String cleaned=current.trim();
      if (cleaned.length() > 0) {
        response.add(new RealmRole(cleaned));
      }
    }
  }
 else {
    response=Collections.emptySet();
  }
  return response;
}
