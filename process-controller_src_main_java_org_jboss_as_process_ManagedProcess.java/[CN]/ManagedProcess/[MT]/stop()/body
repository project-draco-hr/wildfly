{
synchronized (lock) {
    if (state != State.STARTED) {
      log.debugf("Attempted to stop already-stopping or down process '%s'",processName);
      return;
    }
    log.stoppingProcess(processName);
    stopRequested=true;
    StreamUtils.safeClose(stdin);
    state=State.STOPPING;
  }
}
