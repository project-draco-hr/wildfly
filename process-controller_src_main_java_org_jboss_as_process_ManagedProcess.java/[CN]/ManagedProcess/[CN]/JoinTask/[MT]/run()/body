{
  final Process process;
synchronized (lock) {
    process=ManagedProcess.this.process;
  }
  for (; ; )   try {
    final int value=process.waitFor();
    log.infof("Process '%s' finished with an exit status of %d",processName,Integer.valueOf(value));
    break;
  }
 catch (  InterruptedException e) {
  }
synchronized (lock) {
    final long endTime=System.currentTimeMillis();
    state=State.DOWN;
    if (shutdown) {
      processController.removeProcess(processName);
    }
 else {
      processController.processStopped(processName,endTime - startTime);
      if (isInitial()) {
        doStart();
      }
    }
  }
}
