{
  FileSystemDeploymentService service=new FileSystemDeploymentService(new File(path),scanInterval,scanEnabled);
  ServiceName name=getServiceName(path);
  BatchServiceBuilder<FileSystemDeploymentService> serviceBuilder=batchBuilder.addService(name,service).addDependency(ServerDeploymentManager.SERVICE_NAME_LOCAL,ServerDeploymentManager.class,service.injectedDeploymentManager).addDependency(ServerDeploymentRepository.SERVICE_NAME,ServerDeploymentRepository.class,service.injectedDeploymentRepository).addDependency(ServerModel.SERVICE_NAME,ServerModel.class,service.injectedServerModel);
  final ScheduledExecutorService hack=Executors.newSingleThreadScheduledExecutor();
  service.injectedScheduleExecutor.inject(hack);
  return serviceBuilder;
}
