{
  newModel.protect();
  final ConfigurationPersister.PersistenceResource delegate=persister.store(newModel,affectedAddresses);
  return new ConfigurationPersister.PersistenceResource(){
    @Override public void commit(){
      modelReference.set(newModel);
      delegate.commit();
    }
    @Override public void rollback(){
      delegate.rollback();
    }
  }
;
}
