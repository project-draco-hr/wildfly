{
  System.out.println("Undeploying " + realArchive.getName());
  ModelNode result=new ModelNode();
  result.get("operation").set("composite");
  ModelNode steps=result.get("steps");
  ModelNode mainUndeploy=steps.add();
  mainUndeploy.get("operation").set("undeploy");
  mainUndeploy.get("address").add("server-group","main-server-group");
  mainUndeploy.get("address").add("deployment",archiveName);
  ModelNode mainRemove=steps.add();
  mainRemove.get("operation").set("remove");
  mainRemove.get("address").add("server-group","main-server-group");
  mainRemove.get("address").add("deployment",archiveName);
  ModelNode otherUndeploy=steps.add();
  otherUndeploy.get("operation").set("undeploy");
  otherUndeploy.get("address").add("server-group","other-server-group");
  otherUndeploy.get("address").add("deployment",archiveName);
  ModelNode otherRemove=steps.add();
  otherRemove.get("operation").set("remove");
  otherRemove.get("address").add("server-group","other-server-group");
  otherRemove.get("address").add("deployment",archiveName);
  ModelNode domainRemove=steps.add();
  domainRemove.get("operation").set("remove");
  domainRemove.get("address").add("deployment",archiveName);
  return result;
}
