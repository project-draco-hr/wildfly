{
  StandaloneServer server=null;
  try {
    ServerEnvironment config=determineEnvironment(args,props);
    if (config == null) {
      abort(null);
    }
 else {
      if (config.isStandalone()) {
        server=StandaloneServerFactory.create(config);
      }
 else {
        throw new IllegalStateException();
      }
      server.start();
      return server;
    }
  }
 catch (  Throwable t) {
    abort(t);
  }
  return null;
}
