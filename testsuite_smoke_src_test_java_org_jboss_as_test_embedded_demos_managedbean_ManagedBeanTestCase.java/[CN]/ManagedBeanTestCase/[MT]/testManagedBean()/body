{
  try {
    PollingUtils.retryWithTimeout(3000,new PollingUtils.Task(){
      public boolean execute() throws Exception {
        return LookupService.bean != null;
      }
    }
);
    BeanWithSimpleInjected bean=LookupService.bean;
    Assert.assertNotNull(bean);
    Assert.assertNotNull(bean.getSimple());
    String s=bean.echo("Hello");
    Assert.assertNotNull(s);
    Assert.assertEquals("#InterceptorFromParent##InterceptorBean##OtherInterceptorBean##BeanParent##BeanWithSimpleInjected#Hello",s);
  }
 catch (  NamingException e) {
    throw new RuntimeException(e);
  }
}
