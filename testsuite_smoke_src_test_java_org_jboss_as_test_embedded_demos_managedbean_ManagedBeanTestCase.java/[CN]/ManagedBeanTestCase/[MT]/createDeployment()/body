{
  EnterpriseArchive ear=ShrinkWrap.create(EnterpriseArchive.class,"managedbean-example.ear");
  JavaArchive sar=ShrinkWrap.create(JavaArchive.class,"managedbean-mbean.sar");
  sar.addManifestResource("archives/managedbean-mbean.sar/META-INF/MANIFEST.MF","MANIFEST.MF");
  sar.addManifestResource("archives/managedbean-mbean.sar/META-INF/jboss-service.xml","jboss-service.xml");
  sar.addPackage(TestMBean.class.getPackage());
  ear.add(sar,"/");
  JavaArchive jar=ShrinkWrap.create(JavaArchive.class,"managedbean-example.jar");
  jar.addManifestResource("archives/managedbean-example.jar/META-INF/MANIFEST.MF","MANIFEST.MF");
  jar.addManifestResource("archives/managedbean-example.jar/META-INF/services/org.jboss.msc.service.ServiceActivator","services/org.jboss.msc.service.ServiceActivator");
  jar.addPackage(SimpleManagedBean.class.getPackage());
  jar.addPackage(ManagedBeanTestCase.class.getPackage());
  jar.addPackage(BeanWithSimpleInjected.class.getPackage());
  jar.addClass(PollingUtils.class);
  ear.add(jar,"/");
  return ear;
}
