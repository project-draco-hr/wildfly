{
  if (key == null || !VALID_KEY_PATTERN.matcher(key).matches()) {
    throw new IllegalArgumentException("Invalid key specification" + key);
  }
  if (value == null || !VALID_VALUE_PATTERN.matcher(value).matches()) {
    throw new IllegalArgumentException("Invalid value specification " + value);
  }
  boolean multiTarget=false;
  if (key.equals(WILDCARD_VALUE)) {
    this.key=WILDCARD_VALUE;
    multiTarget=true;
  }
 else {
    this.key=key;
  }
  if (value.equals(WILDCARD_VALUE)) {
    this.value=WILDCARD_VALUE;
    multiTarget=true;
  }
 else   if (value.charAt(0) == '[' && value.charAt(value.length() - 1) == ']') {
    this.value=value.substring(1,value.length() - 1);
    multiTarget|=value.indexOf(',') != -1;
  }
 else {
    this.value=value;
  }
  this.multiTarget=multiTarget;
  hashCode=key.hashCode() * 19 + value.hashCode();
}
