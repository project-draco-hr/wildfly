{
  if (key == null || !VALID_KEY_PATTERN.matcher(key).matches()) {
    final String element=key + "=" + value;
    throw new OperationClientIllegalArgumentException(ControllerLogger.ROOT_LOGGER.invalidPathElementKey(element,key));
  }
  if (value == null) {
    final String element=key + "=" + value;
    throw new OperationClientIllegalArgumentException(ControllerLogger.ROOT_LOGGER.invalidPathElementValue(element,value,' '));
  }
  boolean multiTarget=false;
  if (key.equals(WILDCARD_VALUE)) {
    this.key=WILDCARD_VALUE;
    multiTarget=true;
  }
 else {
    this.key=key;
  }
  if (value.equals(WILDCARD_VALUE)) {
    this.value=WILDCARD_VALUE;
    multiTarget=true;
  }
 else   if (value.charAt(0) == '[' && value.charAt(value.length() - 1) == ']') {
    this.value=value.substring(1,value.length() - 1);
    multiTarget|=value.indexOf(',') != -1;
  }
 else {
    this.value=value;
  }
  this.multiTarget=multiTarget;
  hashCode=key.hashCode() * 19 + value.hashCode();
}
