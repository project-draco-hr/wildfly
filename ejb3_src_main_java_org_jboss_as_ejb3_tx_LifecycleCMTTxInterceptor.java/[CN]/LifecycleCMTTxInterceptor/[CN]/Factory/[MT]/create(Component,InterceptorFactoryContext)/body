{
  final EJBComponent ejb=(EJBComponent)component;
  TransactionAttributeType txAttr;
  if (methodIdentifier == null) {
    txAttr=TransactionAttributeType.REQUIRED;
  }
 else {
    txAttr=ejb.getTransactionAttributeType(MethodIntf.BEAN,methodIdentifier);
  }
  final int txTimeout;
  if (methodIdentifier == null) {
    txTimeout=-1;
  }
 else {
    txTimeout=ejb.getTransactionTimeout(MethodIntf.BEAN,methodIdentifier);
  }
  if (treatRequiredAsRequiresNew && txAttr == TransactionAttributeType.REQUIRED) {
    txAttr=TransactionAttributeType.REQUIRES_NEW;
  }
  final LifecycleCMTTxInterceptor interceptor=new LifecycleCMTTxInterceptor(txAttr,txTimeout);
  return interceptor;
}
