{
  final String value=NamingBindingResourceDefinition.VALUE.resolveModelAttribute(context,model).asString();
  final String type;
  if (model.hasDefined(TYPE)) {
    type=NamingBindingResourceDefinition.TYPE.resolveModelAttribute(context,model).asString();
  }
 else {
    type=null;
  }
  Object bindValue=coerceToType(value,type);
  final ServiceTarget serviceTarget=context.getServiceTarget();
  final ContextNames.BindInfo bindInfo=ContextNames.bindInfoFor(name);
  final BinderService binderService=new BinderService(name,bindValue);
  binderService.getManagedObjectInjector().inject(new ValueManagedReferenceFactory(new ImmediateValue<Object>(bindValue)));
  ServiceBuilder<ManagedReferenceFactory> builder=serviceTarget.addService(bindInfo.getBinderServiceName(),binderService).addDependency(bindInfo.getParentContextServiceName(),ServiceBasedNamingStore.class,binderService.getNamingStoreInjector());
  builder.install();
}
