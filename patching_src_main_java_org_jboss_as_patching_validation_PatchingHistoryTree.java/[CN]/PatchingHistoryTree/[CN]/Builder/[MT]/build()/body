{
  if (root == null) {
    throw new IllegalStateException("No instructions to build off.");
  }
  return new PatchingHistoryTree(root.build());
}
