{
  SSLContext sslCtx=null;
  try {
    sslCtx=SSLContext.getInstance("TLS");
    KeyManager[] keyManagers=securityDomain.getKeyManagers();
    if (keyManagers == null)     throw new IOException("KeyManager[] is null for security domain: " + securityDomain.getSecurityDomain());
    TrustManager[] trustManagers=securityDomain.getTrustManagers();
    sslCtx.init(keyManagers,trustManagers,null);
    return sslCtx;
  }
 catch (  NoSuchAlgorithmException e) {
    log.error("Failed to get SSLContext for TLS algorithm",e);
    throw new IOException("Failed to get SSLContext for TLS algorithm");
  }
catch (  KeyManagementException e) {
    log.error("Failed to init SSLContext",e);
    throw new IOException("Failed to init SSLContext");
  }
catch (  SecurityException e) {
    log.error("Failed to init SSLContext",e);
    throw new IOException("Failed to init SSLContext");
  }
}
