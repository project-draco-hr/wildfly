{
  final SubsystemRegistration registration=context.registerSubsystem(SUBSYSTEM_NAME);
  registration.registerXMLElementWriter(parser);
  final ManagementResourceRegistration subsystem=registration.registerSubsystemModel(MailSubsystemProviders.SUBSYSTEM);
  subsystem.registerOperationHandler(ADD,MailSubsystemAdd.INSTANCE,MailSubsystemProviders.SUBSYSTEM_ADD,false);
  subsystem.registerOperationHandler(DESCRIBE,SubsystemDescribeHandler.INSTANCE,SubsystemDescribeHandler.INSTANCE,false,OperationEntry.EntryType.PRIVATE);
  subsystem.registerOperationHandler(REMOVE,ReloadRequiredRemoveStepHandler.INSTANCE,MailSubsystemProviders.SUBSYSTEM_REMOVE,false);
  final ManagementResourceRegistration mailSessions=subsystem.registerSubModel(PathElement.pathElement(ModelKeys.MAIL_SESSION),MailSubsystemProviders.MAIL_SESSION_DESC);
  mailSessions.registerOperationHandler(ADD,MailSessionAdd.INSTANCE,MailSubsystemProviders.ADD_MAIL_SESSION_DESC,false);
  mailSessions.registerOperationHandler(REMOVE,MailSessionRemove.INSTANCE,MailSessionRemove.INSTANCE,false);
}
