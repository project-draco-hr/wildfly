{
  TransformersSubRegistration sessionTransformers=subsystem.registerModelTransformers(ModelVersion.create(1,1,0),null).registerSubResource(MAIL_SESSION_PATH);
  TransformersSubRegistration serverTransformers=sessionTransformers.registerSubResource(SMTP_SERVER_PATH,new ResourceTransformer(){
    @Override public void transformResource(    ResourceTransformationContext context,    PathAddress address,    Resource resource) throws OperationFailedException {
      ModelNode serverModel=resource.getModel();
      if (serverModel.has(TLS)) {
        serverModel.remove(TLS);
      }
    }
  }
);
  serverTransformers.registerOperationTransformer(ADD,new AbstractOperationTransformer(){
    @Override protected ModelNode transform(    TransformationContext context,    PathAddress address,    ModelNode operation){
      if (operation.has(TLS)) {
        operation.remove(TLS);
      }
      return operation;
    }
  }
);
  sessionTransformers.registerSubResource(CUSTOM_SERVER_PATH,true);
}
