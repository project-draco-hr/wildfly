{
  resource.getModel().setEmptyObject();
  if (requiresRuntime(context)) {
    PathAddress deploymentAddress=PathAddress.pathAddress(PathElement.pathElement(DEPLOYMENT,"wise.war"));
    ModelNode op=Util.createOperation(ADD,deploymentAddress);
    op.get(ENABLED).set(true);
    op.get(PERSISTENT).set(false);
    Module module=Module.forClass(getClass());
    URL url=module.getExportedResource("wise.war");
    String urlString=url.toExternalForm();
    ModelNode contentItem=new ModelNode();
    contentItem.get(URL).set(urlString);
    op.get(CONTENT).add(contentItem);
    ImmutableManagementResourceRegistration rootResourceRegistration=context.getRootResourceRegistration();
    OperationStepHandler handler=rootResourceRegistration.getOperationHandler(deploymentAddress,ADD);
    context.addStep(op,handler,OperationContext.Stage.MODEL);
  }
}
