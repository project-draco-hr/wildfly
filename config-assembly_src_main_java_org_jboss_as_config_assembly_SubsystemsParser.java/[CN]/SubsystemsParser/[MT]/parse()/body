{
  InputStream in=new BufferedInputStream(new FileInputStream(inputFile));
  try {
    XMLStreamReader reader=XMLInputFactory.newInstance().createXMLStreamReader(in);
    reader.require(START_DOCUMENT,null,null);
    boolean done=false;
    while (reader.hasNext()) {
      int type=reader.next();
switch (type) {
case START_ELEMENT:
        if (!done && reader.getLocalName().equals("config")) {
          parseSubsystems(reader);
          done=true;
        }
 else {
          throw new XMLStreamException("Invalid element " + reader.getLocalName(),reader.getLocation());
        }
      break;
case END_DOCUMENT:
    return;
}
}
}
  finally {
try {
in.close();
}
 catch (Exception ignore) {
}
}
}
