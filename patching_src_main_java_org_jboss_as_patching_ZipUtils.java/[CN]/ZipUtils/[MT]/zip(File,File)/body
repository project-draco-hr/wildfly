{
  try {
    ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(zipFile));
    for (    File file : sourceDir.listFiles()) {
      if (file.isDirectory()) {
        addDirectoryToZip(file,file.getName(),zos);
      }
 else {
        addFileToZip(file,null,zos);
      }
    }
    zos.close();
  }
 catch (  IOException e) {
    throw new RuntimeException("Failed creating patch file " + zipFile,e);
  }
  System.out.println("\nPrepared " + zipFile.getName() + " at "+ zipFile.getAbsolutePath());
}
