{
  String entryName=parent == null ? file.getName() : parent + "/" + file.getName();
  zos.putNextEntry(new ZipEntry(entryName));
  BufferedInputStream bis=new BufferedInputStream(new FileInputStream(file));
  try {
    copyStream(bis,zos);
  }
  finally {
    safeClose(bis);
  }
  zos.closeEntry();
}
