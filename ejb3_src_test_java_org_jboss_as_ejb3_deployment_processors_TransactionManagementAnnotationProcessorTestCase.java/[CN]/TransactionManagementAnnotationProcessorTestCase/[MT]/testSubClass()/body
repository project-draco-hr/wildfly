{
  DeploymentUnit deploymentUnit=this.getDeploymentUnit();
  EjbDeploymentMarker.mark(deploymentUnit);
  DeploymentPhaseContext phaseContext=null;
  Indexer indexer=new Indexer();
  index(indexer,MyBean.class);
  index(indexer,SubBean.class);
  CompositeIndex index=new CompositeIndex(Arrays.asList(indexer.complete()));
  final EEModuleDescription eeModuleDescription=new EEModuleDescription("TestApp","TestModule");
  final EjbJarDescription ejbJarDescription=new EjbJarDescription(eeModuleDescription);
  EJBComponentDescription componentDescription=new StatelessComponentDescription(SubBean.class.getSimpleName(),SubBean.class.getName(),ejbJarDescription);
  TransactionManagementAnnotationProcessor processor=new TransactionManagementAnnotationProcessor();
  processor.processComponentConfig(deploymentUnit,phaseContext,index,componentDescription);
  assertEquals(TransactionManagementType.CONTAINER,componentDescription.getTransactionManagementType());
}
