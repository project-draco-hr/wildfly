{
  Map<String,Integer> callCount=new HashMap<String,Integer>();
  int maxNumOfProcessedCalls=-1;
  int minNumOfProcessedCalls=Integer.MAX_VALUE;
  for (int i=0; i < numCalls; i++) {
    String nodeName=bean.getNodeName();
    Integer count=callCount.get(nodeName);
    count=count == null ? 1 : ++count;
    callCount.put(nodeName,count);
  }
  Assert.assertEquals(expectedServers,callCount.size());
  for (  Integer count : callCount.values()) {
    maxNumOfProcessedCalls=count > maxNumOfProcessedCalls ? count : maxNumOfProcessedCalls;
    minNumOfProcessedCalls=count < minNumOfProcessedCalls ? count : minNumOfProcessedCalls;
  }
  log.info("All " + expectedServers + " servers processed at least "+ minNumOfProcessedCalls+ " calls");
  Assert.assertTrue(minPercentage * numCalls <= minNumOfProcessedCalls);
}
