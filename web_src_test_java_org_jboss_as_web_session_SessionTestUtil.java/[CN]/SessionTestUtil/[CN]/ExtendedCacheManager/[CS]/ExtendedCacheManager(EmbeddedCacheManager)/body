{
  super(container,CacheContainer.DEFAULT_CACHE_NAME);
  Transport transport=container.getCache().getCacheManager().getTransport();
  if (transport != null) {
    Channel channel=((org.infinispan.remoting.transport.jgroups.JGroupsTransport)transport).getChannel();
    this.service=new CoreGroupCommunicationService();
    service.setChannel(channel);
    service.setScopeId(Integer.valueOf(0).shortValue());
    this.lockManager=new SharedLocalYieldingClusterLockManager("lock",service,service);
  }
 else {
    this.service=null;
    this.lockManager=null;
  }
}
