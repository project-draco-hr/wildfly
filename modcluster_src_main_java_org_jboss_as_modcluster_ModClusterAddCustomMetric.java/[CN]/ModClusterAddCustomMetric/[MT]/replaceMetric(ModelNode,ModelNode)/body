{
  List<ModelNode> newlist=Collections.<ModelNode>emptyList();
  if (dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).isDefined()) {
    String classname=metric.get("class").asString();
    List<ModelNode> list=dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).asList();
    Iterator<ModelNode> it=list.iterator();
    dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).set(newlist);
    while (it.hasNext()) {
      ModelNode node=it.next();
      if (!node.get("class").asString().equals(classname)) {
        dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).add(node);
      }
    }
  }
 else {
    dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).set(newlist);
  }
  dynamicLoadProvider.get(CommonAttributes.CUSTOM_LOAD_METRIC).add(metric);
}
