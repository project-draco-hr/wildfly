{
  final DeploymentScannerService service=new DeploymentScannerService(relativeTo,path,scanInterval,unit,autoDeployZip,autoDeployExploded,autoDeployXml,scanEnabled,deploymentTimeout,rollbackOnRuntimeFailure,bootTimeService);
  final ServiceName serviceName=getServiceName(name);
  ServiceBuilder<DeploymentScanner> builder=serviceTarget.addService(serviceName,service).addDependency(PathManagerService.SERVICE_NAME,PathManager.class,service.pathManagerValue).addDependency(Services.JBOSS_SERVER_CONTROLLER,ModelController.class,service.controllerValue).addDependency(org.jboss.as.server.deployment.Services.JBOSS_DEPLOYMENT_CHAINS).addInjection(service.scheduledExecutorValue,scheduledExecutorService);
  builder.addListener(listeners);
  ServiceController<DeploymentScanner> svc=builder.setInitialMode(Mode.ACTIVE).install();
  if (newControllers != null) {
    newControllers.add(svc);
  }
  return svc;
}
