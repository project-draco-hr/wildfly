{
  final PathAddress address=PathAddress.pathAddress(operation.get(ModelDescriptionConstants.OP_ADDR));
  final Resource web=context.getRootResource().navigate(address.subAddress(0,address.size() - 1));
  final ModelNode subModel=web.getModel();
  final String host=subModel.require("virtual-host").asString();
  final String path=subModel.require("context-root").asString();
  final ModelNode node=web.requireChild(address.getLastElement()).getModel();
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    final OperationContext context,    final ModelNode operation) throws OperationFailedException {
      final ServiceController<?> controller=context.getServiceRegistry(false).getService(WebSubsystemServices.deploymentServiceName(host,path));
      if (controller != null) {
        final String name=node.get("servlet-name").asString();
        final Context webContext=Context.class.cast(controller.getValue());
        final Wrapper wrapper=Wrapper.class.cast(webContext.findChild(name));
        final ModelNode response=new ModelNode();
        handle(response,address.getLastElement().getValue(),wrapper);
        context.getResult().set(response);
      }
      context.completeStep();
    }
  }
,OperationContext.Stage.RUNTIME);
  context.completeStep();
}
