{
  PermsHolder currentPerms=configureRolePermissions();
  ConstraintFactory[] currentFactories=currentPerms.constraintFactories;
  ManagementPermissionCollection result=new ManagementPermissionCollection(SimpleManagementPermission.class);
  for (  Action.ActionEffect actionEffect : action.getActionEffects()) {
    Constraint[] constraints=new Constraint[currentFactories.length];
    for (int i=0; i < constraints.length; i++) {
      constraints[i]=currentFactories[i].getRequiredConstraint(actionEffect,action,target);
    }
    result.add(new SimpleManagementPermission(actionEffect,constraints));
  }
  return result;
}
