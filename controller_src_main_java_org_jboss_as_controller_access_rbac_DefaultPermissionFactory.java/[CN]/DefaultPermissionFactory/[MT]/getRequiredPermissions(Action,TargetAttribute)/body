{
  List<ConstraintFactory> factories;
synchronized (this) {
    factories=new ArrayList<ConstraintFactory>(this.constraintFactories);
  }
  ManagementPermissionCollection result=new ManagementPermissionCollection(SimpleManagementPermission.class);
  for (  Action.ActionEffect actionEffect : action.getActionEffects()) {
    Set<Constraint> constraints=new TreeSet<Constraint>();
    for (    ConstraintFactory factory : factories) {
      constraints.add(factory.getRequiredConstraint(actionEffect,action,target));
    }
    result.add(new SimpleManagementPermission(actionEffect,constraints.toArray(new Constraint[constraints.size()])));
  }
  return result;
}
