{
  List<ConstraintFactory> factories;
synchronized (this) {
    factories=new ArrayList<ConstraintFactory>(this.constraintFactories);
  }
  ManagementPermissionCollection result=new ManagementPermissionCollection(SimpleManagementPermission.class);
  for (  Action.ActionEffect actionEffect : action.getActionEffects()) {
    Constraint[] constraints=new Constraint[factories.size()];
    int i=0;
    for (    ConstraintFactory factory : factories) {
      constraints[i]=factory.getRequiredConstraint(actionEffect,action,target);
      i++;
    }
    result.add(new SimpleManagementPermission(actionEffect,constraints));
  }
  return result;
}
