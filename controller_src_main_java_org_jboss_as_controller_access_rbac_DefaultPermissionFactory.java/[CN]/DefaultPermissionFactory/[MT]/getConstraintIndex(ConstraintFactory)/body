{
  int i=0;
  for (Iterator<ConstraintFactory> iter=constraintFactories.iterator(); iter.hasNext(); i++) {
    if (factory.equals(iter.next())) {
      return i;
    }
  }
  throw new IllegalStateException();
}
