{
  final byte[] buffer=new byte[16384];
  final File file=File.createTempFile("test","artifact");
  try (final FileOutputStream os=new FileOutputStream(file)){
    for (int length=0; length < size; length+=buffer.length) {
      random.nextBytes(buffer);
      os.write(buffer);
    }
  }
 catch (  IOException e) {
    file.delete();
    throw e;
  }
  return file;
}
