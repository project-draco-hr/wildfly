{
  final DomainTestClient client=internalGetOrCreateClient();
  final Channel channel=client.getChannel();
  final Connection ref=channel.getConnection();
  ModelNode result=new ModelNode();
  try {
    result=client.execute(operation);
    if (!"success".equals(result.get("outcome").asString())) {
      return result;
    }
  }
 catch (  Exception e) {
    if (e instanceof IOException) {
      final Throwable cause=e.getCause();
      if (cause instanceof ExecutionException) {
      }
 else {
        throw (IOException)e;
      }
    }
 else {
      throw new RuntimeException(e);
    }
  }
  try {
    if (channel != null) {
      channel.awaitClosed();
    }
    connection.awaitConnectionClosed(ref);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
  return result;
}
