{
  ModelNode add=createOperation(ADD,address);
  add.get(PORT).set(4444);
  ModelNode mappings=getClientMappings();
  mappings.get(1).get(field).set(expression);
  add.get(CLIENT_MAPPINGS).set(mappings);
  ModelNode expected=getClientMappings();
  expected.get(1).get(field).setExpression(expression);
  checkOutcome(mainServices.executeOperation(add.clone()));
  ModelNode model=mainServices.readWholeModel(false).get(address);
  Assert.assertEquals(model + " includes expected mappings",expected,model.get(CLIENT_MAPPINGS));
  OperationTransformer.TransformedOperation transOp=mainServices.transformOperation(modelVersion,add);
  ModelNode translatedAdd=transOp.getTransformedOperation();
  junit.framework.Assert.assertTrue(translatedAdd.hasDefined(CLIENT_MAPPINGS));
  junit.framework.Assert.assertEquals(mappings,translatedAdd.get(CLIENT_MAPPINGS));
  ModelNode result=mainServices.executeOperation(modelVersion,transOp);
  Assert.assertEquals("expected result: " + result,FAILED,result.get(OUTCOME).asString());
}
