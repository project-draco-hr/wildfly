{
  ModelNode write=createOperation(WRITE_ATTRIBUTE_OPERATION,address);
  write.get(NAME).set(CLIENT_MAPPINGS);
  ModelNode mappings=getClientMappings();
  mappings.get(1).get(field).set(expression);
  write.get(VALUE).set(mappings);
  ModelNode expected=getClientMappings();
  expected.get(1).get(field).setExpression(expression);
  checkOutcome(mainServices.executeOperation(write.clone()));
  ModelNode model=mainServices.readWholeModel(false).get(address);
  Assert.assertEquals(model + " includes expected mappings",expected,model.get(CLIENT_MAPPINGS));
  OperationTransformer.TransformedOperation transOp=mainServices.transformOperation(modelVersion,write);
  ModelNode translatedWrite=transOp.getTransformedOperation();
  Assert.assertTrue(translatedWrite.hasDefined(VALUE));
  Assert.assertEquals(mappings,translatedWrite.get(VALUE));
  ModelNode result=mainServices.executeOperation(modelVersion,transOp);
  Assert.assertEquals("expected result: " + result,FAILED,result.get(OUTCOME).asString());
}
