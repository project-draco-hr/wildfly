{
  this.contextType=contextType;
  this.transactionControl=transactionControl;
  this.processState=processState;
  steps=new EnumMap<Stage,Deque<Step>>(Stage.class);
  for (  Stage stage : Stage.values()) {
    steps.put(stage,new ArrayDeque<Step>());
  }
  initiatingThread=Thread.currentThread();
}
