{
  if (rollbackHandler != null) {
    try {
      if (resultAction == ResultAction.ROLLBACK) {
        ClassLoader oldTccl=SecurityActions.setThreadContextClassLoader(handler.getClass());
        try {
          rollbackHandler.handleRollback(AbstractOperationContext.this,operation);
        }
  finally {
          SecurityActions.setThreadContextClassLoader(oldTccl);
        }
      }
    }
 catch (    Exception e) {
      report(MessageSeverity.ERROR,String.format("Step handler %s for operation %s at address %s " + "failed handling operation rollback -- %s",handler,operation.get(OP).asString(),address,e));
    }
 finally {
      rollbackHandler=null;
    }
  }
}
