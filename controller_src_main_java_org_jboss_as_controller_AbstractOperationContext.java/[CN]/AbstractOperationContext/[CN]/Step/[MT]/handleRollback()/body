{
  if (rollbackHandler != null) {
    try {
      if (resultAction == ResultAction.ROLLBACK) {
        ClassLoader oldTccl=SecurityActions.setThreadContextClassLoader(handler.getClass());
        try {
          rollbackHandler.handleRollback(AbstractOperationContext.this,operation);
        }
  finally {
          SecurityActions.setThreadContextClassLoader(oldTccl);
          waitForRemovals();
        }
      }
    }
 catch (    Exception e) {
      report(MessageSeverity.ERROR,MESSAGES.stepHandlerFailedRollback(handler,operation.get(OP).asString(),address,e.getLocalizedMessage()));
    }
 finally {
      rollbackHandler=null;
    }
  }
}
