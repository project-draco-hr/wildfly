{
  if (resultHandler != null) {
    hasRemovals=false;
    try {
      ClassLoader oldTccl=WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(handler.getClass());
      try {
        resultHandler.handleResult(resultAction,AbstractOperationContext.this,operation);
      }
  finally {
        WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(oldTccl);
        if (hasRemovals) {
          waitForRemovals();
        }
      }
    }
 catch (    Exception e) {
      report(MessageSeverity.ERROR,ControllerLogger.ROOT_LOGGER.stepHandlerFailedRollback(handler,operation.asString(),address,e));
    }
 finally {
      resultHandler=null;
    }
  }
}
