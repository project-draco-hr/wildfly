{
  if (str == null || str.isEmpty()) {
    return;
  }
  ParsingContextImpl ctx=new ParsingContextImpl();
  ctx.initialState=initialState;
  ctx.callbackHandler=callbackHandler;
  ctx.input=str;
  ctx.strict=strict;
  ctx.ch=str.charAt(0);
  ctx.location=0;
  initialState.getEnterHandler().handle(ctx);
  while (ctx.location < str.length()) {
    ctx.ch=str.charAt(ctx.location);
    final CharacterHandler handler=ctx.getState().getHandler(ctx.ch);
    handler.handle(ctx);
    ++ctx.location;
  }
  ParsingState state=ctx.getState();
  while (state != ctx.initialState) {
    state.getEndContentHandler().handle(ctx);
    ctx.leaveState();
    state=ctx.getState();
  }
  initialState.getEndContentHandler().handle(ctx);
  initialState.getLeaveHandler().handle(ctx);
}
