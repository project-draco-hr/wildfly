{
  final int endBrace=input.indexOf('}',location + 1);
  if (endBrace - location - 2 <= 0) {
    return;
  }
  final String prop=input.substring(location,endBrace + 1);
  final String resolved=Util.resolveProperties(prop);
  if (!resolved.equals(prop)) {
    StringBuilder buf=new StringBuilder(input.length() - prop.length() + resolved.length());
    buf.append(input.substring(0,location)).append(resolved);
    if (endBrace < input.length() - 1) {
      buf.append(input.substring(endBrace + 1));
    }
    variableCorrection+=resolved.length() - prop.length();
    input=buf.toString();
    ch=input.charAt(location);
    return;
  }
 else   if (exceptionIfNotResolved) {
    throw new UnresolvedExpressionException(prop,"Unrecognized system property " + prop);
  }
}
