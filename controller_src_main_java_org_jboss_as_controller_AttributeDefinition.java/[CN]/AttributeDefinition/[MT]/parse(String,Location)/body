{
  final String trimmed=value == null ? null : value.trim();
  ModelNode node;
  if (trimmed != null) {
    if (allowExpression) {
      node=ParseUtils.parsePossibleExpression(trimmed);
    }
 else {
      node=new ModelNode().set(trimmed);
    }
  }
 else   if (defaultValue.isDefined()) {
    node=new ModelNode().set(defaultValue);
  }
 else {
    node=new ModelNode();
  }
  try {
    validator.validateParameter(xmlName,node);
  }
 catch (  OperationFailedException e) {
    throw new XMLStreamException(e.getFailureDescription().toString(),location);
  }
  return node;
}
