{
  if (connectionName == null || connectionName.trim().isEmpty()) {
    throw new IllegalArgumentException("Connection name cannot be null or empty");
  }
  if (outboundSocketBindingRef == null || outboundSocketBindingRef.trim().isEmpty()) {
    throw new IllegalArgumentException("Outbound socket binding reference cannot be null or empty for connection named " + connectionName);
  }
  final ModelNode addOperation=new ModelNode();
  addOperation.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  final PathAddress address=PathAddress.pathAddress(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM,RemotingExtension.SUBSYSTEM_NAME),PathElement.pathElement(CommonAttributes.REMOTE_OUTBOUND_CONNECTION,connectionName));
  addOperation.get(ModelDescriptionConstants.OP_ADDR).set(address.toModelNode());
  addOperation.get(CommonAttributes.OUTBOUND_SOCKET_BINDING_REF).set(outboundSocketBindingRef);
  if (connectionCreationOptions != null) {
    for (    final Map.Entry<String,String> entry : connectionCreationOptions.entrySet()) {
      if (entry.getKey() == null) {
        continue;
      }
      addOperation.get(CommonAttributes.CONNECTION_CREATION_OPTIONS).add(entry.getKey(),entry.getValue());
    }
  }
  return addOperation;
}
