{
  ResourceDefinition resource=new ResourceDefinition(){
    @Override public void registerOperations(    ManagementResourceRegistration resourceRegistration){
    }
    @Override public void registerChildren(    ManagementResourceRegistration resourceRegistration){
    }
    @Override public void registerAttributes(    ManagementResourceRegistration resourceRegistration){
      AttributeDefinition type1=create(TYPE1,ModelType.STRING).setAllowNull(true).build();
      AttributeDefinition type2=create(TYPE2,ModelType.BOOLEAN).setAllowNull(false).build();
      ObjectTypeAttributeDefinition objectDefinition=ObjectTypeAttributeDefinition.Builder.of("objects",type1,type2).build();
      ObjectListAttributeDefinition attr=ObjectListAttributeDefinition.Builder.of(MY_LIST_OF_OBJECTS,objectDefinition).build();
      resourceRegistration.registerReadOnlyAttribute(attr,null);
    }
    @Override public PathElement getPathElement(){
      return PathElement.pathElement(MY_RESOURCE);
    }
    @Override public DescriptionProvider getDescriptionProvider(    ImmutableManagementResourceRegistration registration){
      StandardResourceDescriptionResolver descriptionResolver=new StandardResourceDescriptionResolver(MY_RESOURCE,ListAttributeDefinitionTestCase.class.getName(),Thread.currentThread().getContextClassLoader());
      return new DefaultResourceDescriptionProvider(registration,descriptionResolver);
    }
  }
;
  ImmutableManagementResourceRegistration registration=ManagementResourceRegistration.Factory.create(resource);
  ModelNode modelDescription=resource.getDescriptionProvider(registration).getModelDescription(Locale.ENGLISH);
  assertEquals("incorrect type for description " + modelDescription,LIST,modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,TYPE).asType());
  assertEquals("incorrect value-type for description " + modelDescription,OBJECT,modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,VALUE_TYPE).getType());
  assertTrue(modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,VALUE_TYPE).hasDefined(TYPE1));
  assertEquals(true,modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,VALUE_TYPE,TYPE1,NILLABLE).asBoolean());
  assertTrue(modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,VALUE_TYPE).hasDefined(TYPE2));
  assertEquals(false,modelDescription.get(ATTRIBUTES,MY_LIST_OF_OBJECTS,VALUE_TYPE,TYPE2,NILLABLE).asBoolean());
}
