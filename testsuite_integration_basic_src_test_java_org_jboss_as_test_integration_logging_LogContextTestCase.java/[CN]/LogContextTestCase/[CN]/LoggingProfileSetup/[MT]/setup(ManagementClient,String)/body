{
  final CompositeOperationBuilder builder=CompositeOperationBuilder.create();
  final ModelNode loggingProfileAddress=createAddress("logging-profile","test");
  builder.addStep(Operations.createAddOperation(loggingProfileAddress));
  tearDownOps.addFirst(Operations.createRemoveOperation(loggingProfileAddress));
  final ModelNode fileHandlerAddress=createAddress("logging-profile","test","file-handler","test-handler");
  ModelNode op=Operations.createAddOperation(fileHandlerAddress);
  op.get("append").set(true);
  final ModelNode file=op.get("file");
  file.get("relative-to").set("jboss.server.log.dir");
  file.get("path").set(LOG_FILE_NAME);
  op.get("formatter").set("[test-profile] %d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n");
  builder.addStep(op);
  tearDownOps.addFirst(Operations.createRemoveOperation(fileHandlerAddress));
  final ModelNode rootLoggerAddress=createAddress("logging-profile","test","root-logger","ROOT");
  op=Operations.createAddOperation(rootLoggerAddress);
  op.get("level").set("INFO");
  final ModelNode handlers=op.get("handlers").setEmptyList();
  handlers.add("test-handler");
  builder.addStep(op);
  tearDownOps.addFirst(Operations.createRemoveOperation(rootLoggerAddress));
  executeOperation(managementClient,builder.build());
}
