{
  final ManagementChannelOpenListenerService channelOpenListenerService=new ManagementChannelOpenListenerService(channelName,options);
  final ServiceBuilder<?> builder=serviceTarget.addService(channelOpenListenerService.getServiceName(endpointName),channelOpenListenerService).addDependency(endpointName,Endpoint.class,channelOpenListenerService.getEndpointInjector()).addDependency(operationHandlerName,ManagementChannelInitialization.class,channelOpenListenerService.getOperationHandlerInjector()).addDependency(ManagementChannelRegistryService.SERVICE_NAME,ManagementChannelRegistryService.class,channelOpenListenerService.getRegistry()).addDependency(SHUTDOWN_EXECUTOR_NAME,ExecutorService.class,channelOpenListenerService.getExecutorServiceInjectedValue()).setInitialMode(onDemand ? ON_DEMAND : ACTIVE);
  addController(newControllers,verificationHandler,builder);
}
