{
  ImmutableModelNodeRegistration opRegistry=context.getModelNodeRegistration();
  OperationRouting routing=OperationRouting.determineRouting(operation,localHostControllerInfo,opRegistry);
  if (!localHostControllerInfo.isMasterDomainController() && (routing.isRouteToMaster() || !routing.isLocalOnly(localHostControllerInfo.getLocalHostName()))) {
    routetoMasterDomainController(context,operation);
  }
 else   if (routing.getSingleHost() != null && !localHostControllerInfo.getLocalHostName().equals(routing.getSingleHost())) {
    if (PrepareStepHandler.isTraceEnabled()) {
      PrepareStepHandler.log.trace("Remote single host");
    }
    executeDirect(context,operation);
  }
 else   if (!routing.isTwoStep()) {
    executeDirect(context,operation);
  }
 else {
    executeTwoPhaseOperation(context,operation,routing);
  }
}
