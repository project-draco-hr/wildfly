{
  final String name=PathAddress.pathAddress(operation.require(ModelDescriptionConstants.OP_ADDR)).getLastElement().getValue();
  final ServiceRegistry registry=context.getServiceRegistry(true);
  final ServiceName hqServiceName=MessagingServices.getHornetQServiceName(PathAddress.pathAddress(operation.get(ModelDescriptionConstants.OP_ADDR)));
  final ServiceController<?> hqService=registry.getService(hqServiceName);
  if (hqService != null && hqService.getState() == ServiceController.State.UP) {
    HornetQServer server=HornetQServer.class.cast(hqService.getValue());
    try {
      server.getHornetQServerControl().destroyBridge(name);
    }
 catch (    RuntimeException e) {
      throw e;
    }
catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
}
