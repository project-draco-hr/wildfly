{
  if (addSecureInterface) {
    addSecureInterface();
  }
  reload();
  final HttpClient httpClient=getHttpClient(CLIENT_KEYSTORE_FILE);
  final HttpClient httpClientUntrusted=getHttpClient(UNTRUSTED_KEYSTORE_FILE);
  String address=addSecureInterface ? DomainTestSupport.slaveAddress : DomainTestSupport.masterAddress;
  URL mgmtURL=new URL("https",address,MANAGEMENT_HTTPS_PORT,MGMT_CTX);
  try {
    String responseBody=makeCallWithHttpClient(mgmtURL,httpClientUntrusted,401);
    assertThat("Management index page was reached",responseBody,not(containsString("management-major-version")));
  }
 catch (  SSLPeerUnverifiedException e) {
  }
  String responseBody=makeCallWithHttpClient(mgmtURL,httpClient,200);
  assertTrue("Management index page was not reached",responseBody.contains("management-major-version"));
}
