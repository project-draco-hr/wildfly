{
  config.lock();
  try {
    if (booting && !isLogBoot()) {
      return;
    }
    if (readOnly && !isLogReadOnly()) {
      return;
    }
    storeLogItem(AuditLogItem.createMethodAccessItem(config.getAsVersion(),readOnly,booting,userId,domainUUID,accessMechanism,remoteAddress,methodName,methodSignature,methodParams,error));
  }
 catch (  Exception e) {
    handleLoggingException(e);
  }
 finally {
    applyHandlerUpdates();
    config.unlock();
  }
}
