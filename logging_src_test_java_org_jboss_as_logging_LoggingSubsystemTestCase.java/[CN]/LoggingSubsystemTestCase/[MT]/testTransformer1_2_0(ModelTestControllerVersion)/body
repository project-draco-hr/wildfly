{
  final String subsystemXml=readResource("/logging_1_2.xml");
  final ModelVersion modelVersion=ModelVersion.create(1,2,0);
  final KernelServicesBuilder builder=createKernelServicesBuilder(LoggingTestEnvironment.getManagementInstance()).setSubsystemXml(subsystemXml);
  builder.createLegacyKernelServicesBuilder(LoggingTestEnvironment.getManagementInstance(),controllerVersion,modelVersion).addMavenResourceURL("org.jboss.as:jboss-as-logging:" + controllerVersion.getMavenGavVersion()).dontPersistXml().addSingleChildFirstClass(LoggingTestEnvironment.class,LoggingTestEnvironment.LoggingInitializer.class).configureReverseControllerCheck(LoggingTestEnvironment.getManagementInstance(),null);
  KernelServices mainServices=builder.build();
  Assert.assertTrue(mainServices.isSuccessfulBoot());
  KernelServices legacyServices=mainServices.getLegacyServices(modelVersion);
  Assert.assertTrue(legacyServices.isSuccessfulBoot());
  Assert.assertNotNull(legacyServices);
  checkSubsystemModelTransformation(mainServices,modelVersion);
}
