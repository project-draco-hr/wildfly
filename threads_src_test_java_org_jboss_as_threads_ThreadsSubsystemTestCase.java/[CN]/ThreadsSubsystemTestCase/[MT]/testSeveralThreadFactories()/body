{
  List<ModelNode> updates=createSubSystem("<thread-factory name=\"test-factory\" group-name=\"A\"/>" + "<thread-factory name=\"test-factory1\" group-name=\"B\"/>");
  assertEquals(3,updates.size());
  for (  ModelNode update : updates) {
    try {
      controller.executeForResult(update);
    }
 catch (    OperationFailedException e) {
      throw new RuntimeException(e.getFailureDescription().toString());
    }
  }
  ModelNode subsystem=model.require("profile").require("test").require("subsystem").require("threads");
  ModelNode threadFactory=subsystem.require("thread-factory");
  assertEquals(2,threadFactory.keys().size());
  assertEquals("test-factory",threadFactory.require("test-factory").require("name").asString());
  assertEquals("A",threadFactory.require("test-factory").require("group-name").asString());
  assertEquals("test-factory1",threadFactory.require("test-factory1").require("name").asString());
  assertEquals("B",threadFactory.require("test-factory1").require("group-name").asString());
}
