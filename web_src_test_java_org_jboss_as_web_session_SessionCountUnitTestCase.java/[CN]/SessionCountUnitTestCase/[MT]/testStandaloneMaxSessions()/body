{
  System.out.println("Enter testStandaloneMaxSessions");
  String warName="test" + ++managerIndex;
  JBossWebMetaData webMetaData=SessionTestUtil.createWebMetaData(2);
  cacheContainers[0]=SessionTestUtil.createCacheContainer(true,null,false,false);
  cacheContainers[0].start();
  managers[0]=SessionTestUtil.createManager(webMetaData,warName,5,cacheContainers[0],null);
  managers[0].start();
  assertFalse("Passivation is disabled",managers[0].isPassivationEnabled());
  assertEquals("Correct max active count",2,managers[0].getMaxActiveAllowed());
  Session sess1=createAndUseSession(managers[0],"1",true,true);
  assertEquals("Session count correct",1,managers[0].getActiveSessionCount());
  assertEquals("Local session count correct",1,managers[0].getLocalActiveSessionCount());
  createAndUseSession(managers[0],"2",true,true);
  assertEquals("Session count correct",2,managers[0].getActiveSessionCount());
  assertEquals("Local session count correct",2,managers[0].getLocalActiveSessionCount());
  createAndUseSession(managers[0],"3",false,false);
  sess1.setMaxInactiveInterval(1);
  SessionTestUtil.sleepThread(1100);
  createAndUseSession(managers[0],"3",true,true);
  assertEquals("Session count correct",2,managers[0].getActiveSessionCount());
  assertEquals("Local session count correct",2,managers[0].getLocalActiveSessionCount());
  assertEquals("Created session count correct",3,managers[0].getCreatedSessionCount());
  assertEquals("Expired session count correct",1,managers[0].getExpiredSessionCount());
}
