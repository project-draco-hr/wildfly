{
  this.ejbs=ejbs;
  final Map<Class<?>,Set<EjbDescription>> ejbsByViewType=new HashMap<Class<?>,Set<EjbDescription>>();
  for (  final EjbDescription ejb : ejbs.values()) {
    for (    final Class<?> view : ejb.serviceNames.keySet()) {
      Set<EjbDescription> ejbList=ejbsByViewType.get(view);
      if (ejbList == null) {
        ejbsByViewType.put(view,ejbList=new HashSet<EjbDescription>());
      }
      ejbList.add(ejb);
    }
  }
  this.ejbsByViewType=ejbsByViewType;
}
