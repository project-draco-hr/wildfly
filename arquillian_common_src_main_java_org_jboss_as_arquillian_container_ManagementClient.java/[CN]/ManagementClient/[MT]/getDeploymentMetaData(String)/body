{
  URI webURI=getSubSystemURI(WEB);
  URI jmxURI=getSubSystemURI(JMX);
  ProtocolMetaData metaData=new ProtocolMetaData();
  metaData.addContext(new JMXContext(jmxURI.getHost(),jmxURI.getPort()));
  HTTPContext context=new HTTPContext(webURI.getHost(),webURI.getPort());
  metaData.addContext(context);
  try {
    ModelNode deploymentNode=readResource(createDeploymentAddress(deploymentName));
    if (isWebArchive(deploymentName)) {
      extractWebArchiveContexts(context,deploymentNode);
    }
 else     if (isEnterpriseArchive(deploymentName)) {
      extractEnterpriseArchiveContexts(context,deploymentNode);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return metaData;
}
