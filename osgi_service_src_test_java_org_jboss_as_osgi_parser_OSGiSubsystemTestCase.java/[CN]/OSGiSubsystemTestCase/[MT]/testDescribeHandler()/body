{
  KernelServices servicesA=installInController(new AdditionalInitialization(){
    @Override protected Type getType(){
      return Type.MANAGEMENT;
    }
  }
,SUBSYSTEM_XML_1);
  ModelNode modelA=servicesA.readWholeModel();
  ModelNode describeOp=new ModelNode();
  describeOp.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.DESCRIBE);
  describeOp.get(ModelDescriptionConstants.OP_ADDR).set(PathAddress.pathAddress(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM,OSGiExtension.SUBSYSTEM_NAME)).toModelNode());
  List<ModelNode> operations=checkResultAndGetContents(servicesA.executeOperation(describeOp)).asList();
  KernelServices servicesB=installInController(new AdditionalInitialization(){
    @Override public Type getType(){
      return Type.MANAGEMENT;
    }
  }
,operations);
  ModelNode modelB=servicesB.readWholeModel();
  compare(modelA,modelB);
}
