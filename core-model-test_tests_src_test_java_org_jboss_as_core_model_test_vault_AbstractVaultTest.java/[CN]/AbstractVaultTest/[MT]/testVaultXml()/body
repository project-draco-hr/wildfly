{
  KernelServices kernelServices=createKernelServicesBuilder().setXmlResource(getXmlResource()).build();
  Assert.assertTrue(kernelServices.isSuccessfulBoot());
  ModelNode model=readVaultModel(kernelServices);
  Assert.assertEquals("somevault",model.get(CODE).asString());
  Assert.assertEquals(2,model.get(VAULT_OPTIONS).keys().size());
  Assert.assertEquals("zxc",model.get(VAULT_OPTIONS,"xyz").asString());
  Assert.assertEquals("def",model.get(VAULT_OPTIONS,"abc").asString());
  ModelTestUtils.compareXml(ModelTestUtils.readResource(this.getClass(),getXmlResource()),kernelServices.getPersistedSubsystemXml());
}
