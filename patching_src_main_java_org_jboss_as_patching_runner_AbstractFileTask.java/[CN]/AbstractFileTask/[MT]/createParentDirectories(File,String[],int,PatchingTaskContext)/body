{
  if (depth > 0) {
    final File parent=target.getParentFile();
    if (!parent.exists()) {
      createParentDirectories(parent,path,depth - 1,context);
    }
    if (!parent.mkdir() && !parent.isDirectory()) {
      throw PatchMessages.MESSAGES.cannotCreateDirectory(target.getAbsolutePath());
    }
  }
}
