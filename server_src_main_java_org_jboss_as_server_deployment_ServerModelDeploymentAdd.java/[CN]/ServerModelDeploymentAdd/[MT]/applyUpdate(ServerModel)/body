{
  ServerGroupDeploymentElement existing=serverModel.getDeployment(deploymentUniqueName);
  if (existing != null) {
    if (!Arrays.equals(existing.getSha1Hash(),deploymentHash)) {
      throw new UpdateFailedException("Deployment content with name " + deploymentUniqueName + " and hash "+ existing.getSha1HashAsHexString()+ "already ");
    }
  }
 else {
    serverModel.addDeployment(new ServerGroupDeploymentElement(deploymentUniqueName,deploymentRuntimeName,deploymentHash,false));
  }
}
