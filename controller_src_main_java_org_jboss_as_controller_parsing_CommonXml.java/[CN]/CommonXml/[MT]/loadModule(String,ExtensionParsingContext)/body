{
  try {
    final Module module=moduleLoader.loadModule(ModuleIdentifier.fromString(moduleName));
    boolean initialized=false;
    for (    final Extension extension : module.loadService(Extension.class)) {
      ClassLoader oldTccl=SecurityActions.setThreadContextClassLoader(extension.getClass());
      try {
        extension.initializeParsers(context);
      }
  finally {
        SecurityActions.setThreadContextClassLoader(oldTccl);
      }
      if (!initialized) {
        initialized=true;
      }
    }
    if (!initialized) {
      throw MESSAGES.notFound("META-INF/services/",Extension.class.getName(),module.getIdentifier());
    }
    return null;
  }
 catch (  final ModuleLoadException e) {
    throw MESSAGES.failedToLoadModule(e);
  }
}
