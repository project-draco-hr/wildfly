{
  final Element element=Element.forName(reader.getLocalName());
  final String localName=element.getLocalName();
switch (element) {
case INET_ADDRESS:
{
      requireSingleAttribute(reader,Attribute.VALUE.getLocalName());
      final String value=reader.getAttributeValue(0);
      ModelNode valueNode=parsePossibleExpression(value);
      requireNoContent(reader);
      criteria.set(localName,valueNode);
      break;
    }
case LOOPBACK_ADDRESS:
{
    requireSingleAttribute(reader,Attribute.VALUE.getLocalName());
    final String value=reader.getAttributeValue(0);
    requireNoContent(reader);
    criteria.set(localName,value);
    break;
  }
case LINK_LOCAL_ADDRESS:
case LOOPBACK:
case MULTICAST:
case POINT_TO_POINT:
case PUBLIC_ADDRESS:
case SITE_LOCAL_ADDRESS:
case UP:
case VIRTUAL:
{
  requireNoAttributes(reader);
  requireNoContent(reader);
  criteria.set(localName);
  break;
}
case NIC:
{
requireSingleAttribute(reader,Attribute.NAME.getLocalName());
final String value=reader.getAttributeValue(0);
requireNoContent(reader);
criteria.set(localName,value);
break;
}
case NIC_MATCH:
{
requireSingleAttribute(reader,Attribute.PATTERN.getLocalName());
final String value=reader.getAttributeValue(0);
requireNoContent(reader);
criteria.set(localName,value);
break;
}
case SUBNET_MATCH:
{
requireSingleAttribute(reader,Attribute.VALUE.getLocalName());
final String value=reader.getAttributeValue(0);
requireNoContent(reader);
final String[] split=value.split("/");
try {
if (split.length != 2) {
throw new XMLStreamException("Invalid 'value' " + value + " -- must be of the form address/mask",reader.getLocation());
}
final InetAddress addr=InetAddress.getByName(split[0]);
addr.getAddress();
Integer.parseInt(split[1]);
criteria.set(localName,value);
break;
}
 catch (final NumberFormatException e) {
throw new XMLStreamException("Invalid mask " + split[1] + " ("+ e.getLocalizedMessage()+ ")",reader.getLocation(),e);
}
catch (final UnknownHostException e) {
throw new XMLStreamException("Invalid address " + split[1] + " ("+ e.getLocalizedMessage()+ ")",reader.getLocation(),e);
}
}
default :
throw unexpectedElement(reader);
}
}
