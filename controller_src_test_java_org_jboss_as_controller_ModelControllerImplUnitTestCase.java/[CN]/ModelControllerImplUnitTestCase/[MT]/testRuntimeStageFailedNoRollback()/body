{
  ModelNode op=getOperation("handleFailed","attr1",5,"good");
  op.get(OPERATION_HEADERS,ROLLBACK_ON_RUNTIME_FAILURE).set(false);
  ModelNode result=controller.execute(op,null,null,null);
  assertEquals(FAILED,result.get(OUTCOME).asString());
  assertEquals("handleFailed",result.get("failure-description").asString());
  assertFalse(sharedState.get());
  result=controller.execute(getOperation("good","attr1",1),null,null,null);
  assertEquals("success",result.get("outcome").asString());
  assertEquals(5,result.get("result").asInt());
}
