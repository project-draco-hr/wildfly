{
  ModelNode result=controller.execute(getOperation("dependent-service","attr1",5),null,null,null);
  System.out.println(result);
  assertEquals("success",result.get("outcome").asString());
  assertEquals(1,result.get("result").asInt());
  ServiceController<?> sc=container.getService(ServiceName.JBOSS.append("depended-service"));
  assertNotNull(sc);
  assertEquals(ServiceController.State.UP,sc.getState());
  sc=container.getService(ServiceName.JBOSS.append("dependent-service"));
  assertNotNull(sc);
  assertEquals(ServiceController.State.UP,sc.getState());
  result=controller.execute(getOperation("remove-dependent-service","attr1",6,"good"),null,null,null);
  System.out.println(result);
  assertEquals(FAILED,result.get(OUTCOME).asString());
  assertTrue(result.hasDefined(FAILURE_DESCRIPTION));
  sc=container.getService(ServiceName.JBOSS.append("depended-service"));
  assertNotNull(sc);
  assertEquals(ServiceController.State.UP,sc.getState());
  sc=container.getService(ServiceName.JBOSS.append("dependent-service"));
  assertNotNull(sc);
  assertEquals(ServiceController.State.UP,sc.getState());
  result=controller.execute(getOperation("good","attr1",1),null,null,null);
  assertEquals("success",result.get("outcome").asString());
  assertEquals(5,result.get("result").asInt());
}
