{
  log.info("++++ Starting testMaxIntervalPreventsLossOfRemoteState ++++");
  String warname=String.valueOf(++testId);
  startManagers(warname,3,1);
  SetAttributesRequestHandler setHandler=new SetAttributesRequestHandler(allAttributes,false);
  SessionTestUtil.invokeRequest(managers[0],setHandler,null);
  validateNewSession(setHandler);
  Thread.sleep(250);
  BasicRequestHandler getHandler=new BasicRequestHandler(immutables.keySet(),false);
  SessionTestUtil.invokeRequest(managers[0],getHandler,setHandler.getSessionId());
  validateExpectedAttributes(immutables,getHandler);
  Thread.sleep(2800);
  managers[1].backgroundProcess();
  SetAttributesRequestHandler modifyHandler=new SetAttributesRequestHandler(mutables,false);
  SessionTestUtil.invokeRequest(managers[0],modifyHandler,setHandler.getSessionId());
  getHandler=new BasicRequestHandler(allAttributes.keySet(),false);
  SessionTestUtil.invokeRequest(managers[1],getHandler,setHandler.getSessionId());
  validateExpectedAttributes(allAttributes,getHandler);
}
