{
  final TransformationTarget tgt=context.getTarget();
  final String hostName=tgt.getHostName();
  final ModelVersion coreVersion=tgt.getVersion();
  final String subsystemName=findSubsystemVersion(pathAddress);
  final ModelVersion usedVersion=subsystemName == null ? coreVersion : tgt.getSubsystemVersion(subsystemName);
  if (op == null) {
    if (coreVersion.getMajor() >= 1 && coreVersion.getMinor() >= 4) {
      if (subsystemName != null) {
        throw ControllerMessages.MESSAGES.rejectExpressionSubsystemModelResourceTransformerFoundExpressions(pathAddress,hostName,subsystemName,usedVersion,attributes);
      }
      throw ControllerMessages.MESSAGES.rejectExpressionCoreModelResourceTransformerFoundExpressions(pathAddress,hostName,usedVersion,attributes);
    }
  }
  if (op == null) {
    if (subsystemName != null) {
      ControllerLogger.TRANSFORMER_LOGGER.rejectExpressionSubsystemModelResourceTransformerFoundExpressions(pathAddress,hostName,subsystemName,usedVersion,attributes);
    }
 else {
      ControllerLogger.TRANSFORMER_LOGGER.rejectExpressionCoreModelResourceTransformerFoundExpressions(pathAddress,hostName,usedVersion,attributes);
    }
    return null;
  }
 else {
    if (subsystemName != null) {
      return ControllerMessages.MESSAGES.rejectExpressionSubsystemModelOperationTransformerFoundExpressions(op,pathAddress,hostName,subsystemName,usedVersion,attributes).getMessage();
    }
 else {
      return ControllerMessages.MESSAGES.rejectExpressionCoreModelOperationTransformerFoundExpressions(op,pathAddress,hostName,usedVersion,attributes).getMessage();
    }
  }
}
