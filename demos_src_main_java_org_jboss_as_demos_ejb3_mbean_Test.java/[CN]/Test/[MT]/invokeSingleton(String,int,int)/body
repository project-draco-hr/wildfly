{
  CountDownLatch latch=new CountDownLatch(numThreads);
  ExecutorService executor=Executors.newFixedThreadPool(numThreads);
  Thread[] threads=new Thread[numThreads];
  for (int i=0; i < numThreads; i++) {
    SingletonBeanAccessThread singletonBeanAccessThread=new SingletonBeanAccessThread(latch,jndiName,numTimes);
    executor.submit(singletonBeanAccessThread);
  }
  latch.await();
  Context ctx=new InitialContext();
  SimpleSingletonLocal counter=(SimpleSingletonLocal)ctx.lookup(jndiName);
  return counter.getCount();
}
