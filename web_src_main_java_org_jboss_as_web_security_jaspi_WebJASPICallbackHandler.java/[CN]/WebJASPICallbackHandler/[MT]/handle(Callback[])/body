{
  if (callbacks.length > 0) {
    for (    Callback callback : callbacks) {
      if (callback instanceof CallerPrincipalCallback) {
        CallerPrincipalCallback callerCallback=(CallerPrincipalCallback)callback;
        if (callerCallback.getPrincipal() != null)         this.callerPrincipalCallback=new CallerPrincipalCallback(callerCallback.getSubject(),callerCallback.getPrincipal());
 else         this.callerPrincipalCallback=new CallerPrincipalCallback(callerCallback.getSubject(),callerCallback.getName());
      }
 else       if (callback instanceof PasswordValidationCallback) {
        PasswordValidationCallback passCallback=(PasswordValidationCallback)callback;
        this.passwordValidationCallback=new PasswordValidationCallback(passCallback.getSubject(),passCallback.getUsername(),passCallback.getPassword());
      }
 else       if (callback instanceof GroupPrincipalCallback) {
        GroupPrincipalCallback groupCallback=(GroupPrincipalCallback)callback;
        this.groupPrincipalCallback=new GroupPrincipalCallback(groupCallback.getSubject(),groupCallback.getGroups());
      }
 else       WebLogger.WEB_SECURITY_LOGGER.tracef("Callback %s not supported",callback.getClass().getCanonicalName());
    }
  }
}
