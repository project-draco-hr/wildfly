{
  if (componentConfiguration.getComponentDescription() instanceof EJBComponentDescription == false) {
    throw MESSAGES.invalidComponentConfiguration(componentConfiguration.getComponentName());
  }
  final EJBComponentDescription ejbComponentDescription=(EJBComponentDescription)componentConfiguration.getComponentDescription();
  this.ejbClassName=ejbComponentDescription.getEJBClassName();
  this.ejbName=ejbComponentDescription.getEJBName();
  this.runAsRole=ejbComponentDescription.getRunAs();
  this.securityDomain=ejbComponentDescription.getSecurityDomain();
  this.runAsPrincipal=ejbComponentDescription.getRunAsPrincipal();
  this.securityRoles=ejbComponentDescription.getSecurityRoles();
  final Set<String> roles=ejbComponentDescription.getDeclaredRoles();
  this.declaredRoles=roles == null ? Collections.<String>emptySet() : Collections.unmodifiableSet(roles);
}
