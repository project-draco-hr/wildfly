{
  final ModelNode operation=Util.createAddOperation(address);
  for (  final Property property : model.asPropertyList()) {
    if (property.getValue().isDefined()) {
      operation.get(property.getName()).set(property.getValue());
    }
  }
  context.addStep(operation,new OperationStepHandler(){
    @Override public void execute(    OperationContext operationContext,    ModelNode modelNode) throws OperationFailedException {
      OperationStepHandler addHandler=operationContext.getRootResourceRegistration().getOperationHandler(address,ADD);
      operationContext.addStep(operation,addHandler,OperationContext.Stage.MODEL);
    }
  }
,OperationContext.Stage.MODEL);
}
