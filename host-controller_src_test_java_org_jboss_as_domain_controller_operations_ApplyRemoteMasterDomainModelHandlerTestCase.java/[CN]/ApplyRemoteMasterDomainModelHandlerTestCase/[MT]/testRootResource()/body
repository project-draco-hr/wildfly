{
  Resource root=createRootResource();
  final ModelNode rootValues=new ModelNode();
  rootValues.get("my-version").set(42);
  rootValues.get("product-name").set("my-product");
  final ModelNode change=new ModelNode();
  change.get("domain-resource-address").set(PathAddress.EMPTY_ADDRESS.toModelNode());
  change.get("domain-resource-model").set(rootValues);
  final ModelNode operation=new ModelNode();
  operation.get(DOMAIN_MODEL).add(change);
  final MockOperationContext operationContext=getOperationContext(root,true);
  handler.execute(operationContext,operation);
  operationContext.verify();
  ModelNode appliedRootValues=root.getModel();
  Assert.assertEquals(rootValues,appliedRootValues);
}
