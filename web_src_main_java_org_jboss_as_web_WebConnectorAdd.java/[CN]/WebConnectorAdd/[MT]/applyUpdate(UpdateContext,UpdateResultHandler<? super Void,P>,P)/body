{
  final boolean enabled=this.enabled == null || this.enabled;
  final WebConnectorService service=new WebConnectorService(protocol,scheme);
  if (secure != null)   service.setSecure(secure);
  if (enableLookups != null)   service.setEnableLookups(enabled);
  if (proxyName != null)   service.setProxyName(proxyName);
  if (proxyPort != null)   service.setProxyPort(proxyPort);
  if (redirectPort != null)   service.setRedirectPort(redirectPort);
  if (maxPostSize != null)   service.setMaxPostSize(maxPostSize);
  if (maxSavePostSize != null)   service.setMaxSavePostSize(maxSavePostSize);
  context.getBatchBuilder().addService(WebSubsystemElement.JBOSS_WEB_CONNECTOR.append(name),service).addDependency(WebSubsystemElement.JBOSS_WEB,WebServer.class,service.getServer()).addDependency(SocketBinding.JBOSS_BINDING_NAME.append(bindingRef),SocketBinding.class,service.getBinding()).addListener(new UpdateResultHandler.ServiceStartListener<P>(resultHandler,param)).setInitialMode(enabled ? Mode.IMMEDIATE : Mode.NEVER);
}
