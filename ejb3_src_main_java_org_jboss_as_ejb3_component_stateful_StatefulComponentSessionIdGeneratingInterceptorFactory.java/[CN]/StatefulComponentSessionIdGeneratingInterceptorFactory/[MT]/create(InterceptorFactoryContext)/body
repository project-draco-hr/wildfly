{
  final AtomicReference<SessionID> sessionIdReference=new AtomicReference<SessionID>();
  context.getContextData().put(StatefulSessionComponent.SESSION_ID_REFERENCE_KEY,sessionIdReference);
  final SessionID id=(SessionID)context.getContextData().get(SessionID.class);
  if (id == null) {
    return new StatefulComponentSessionIdGeneratingInterceptor(sessionIdReference);
  }
 else {
    sessionIdReference.set(id);
    return Interceptors.getTerminalInterceptor();
  }
}
