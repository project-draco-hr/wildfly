{
  if (iterator.hasNext()) {
    Set<OperationEntry.Flag> ourInherited=getInheritableOperationFlags(operationName);
    Set<OperationEntry.Flag> inheritance=ourInherited == null ? inherited : ourInherited;
    final PathElement next=iterator.next();
    final NodeSubregistry subregistry=children.get(next.getKey());
    if (subregistry == null) {
      return null;
    }
    return subregistry.getOperationFlags(iterator,next.getValue(),operationName,inheritance);
  }
 else {
    final OperationEntry entry=operationsUpdater.get(this,operationName);
    return entry == null ? inherited : entry.getFlags();
  }
}
