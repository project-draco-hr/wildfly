{
  if (iterator.hasNext()) {
    final PathElement next=iterator.next();
    final NodeSubregistry subregistry=children.get(next.getKey());
    if (subregistry == null) {
      return Collections.emptySet();
    }
    return subregistry.getChildNames(iterator,next.getValue());
  }
 else {
    checkPermission();
    final Map<String,NodeSubregistry> children=this.children;
    if (children != null) {
      return Collections.unmodifiableSet(children.keySet());
    }
    return Collections.emptySet();
  }
}
