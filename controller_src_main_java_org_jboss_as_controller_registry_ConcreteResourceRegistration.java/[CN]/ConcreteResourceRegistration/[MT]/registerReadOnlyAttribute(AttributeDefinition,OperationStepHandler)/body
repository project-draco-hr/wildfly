{
  checkPermission();
  final EnumSet<AttributeAccess.Flag> flags=definition.getFlags();
  final String attributeName=definition.getName();
  AttributeAccess.Storage storage=(flags != null && flags.contains(AttributeAccess.Flag.STORAGE_RUNTIME)) ? Storage.RUNTIME : Storage.CONFIGURATION;
  AttributeAccess aa=new AttributeAccess(AccessType.READ_ONLY,storage,readHandler,null,definition,flags);
  if (attributesUpdater.putIfAbsent(this,attributeName,aa) != null) {
    throw alreadyRegistered("attribute",attributeName);
  }
}
