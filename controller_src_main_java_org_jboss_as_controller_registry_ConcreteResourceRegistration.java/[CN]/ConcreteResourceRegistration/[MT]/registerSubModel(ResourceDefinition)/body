{
  if (resourceDefinition == null) {
    throw new IllegalArgumentException("resourceDefinition is null");
  }
  final PathElement address=resourceDefinition.getPathElement();
  if (address == null) {
    throw new IllegalArgumentException("Cannot register submodels with a null PathElement");
  }
  if (runtimeOnly) {
    throw new IllegalStateException("Cannot register non-runtime-only submodels with a runtime-only parent");
  }
  final String key=address.getKey();
  final NodeSubregistry child=getOrCreateSubregistry(key);
  final ManagementResourceRegistration resourceRegistration=child.register(address.getValue(),resourceDefinition,false);
  resourceDefinition.registerAttributes(resourceRegistration);
  resourceDefinition.registerOperations(resourceRegistration);
  return resourceRegistration;
}
