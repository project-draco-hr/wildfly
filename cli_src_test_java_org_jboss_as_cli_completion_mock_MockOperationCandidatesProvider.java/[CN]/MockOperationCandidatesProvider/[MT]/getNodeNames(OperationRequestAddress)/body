{
  if (prefix.isEmpty()) {
    throw new IllegalArgumentException("Can't call getNodeNames() with an empty prefix.");
  }
  if (!prefix.endsOnType()) {
    throw new IllegalArgumentException("The prefix doesn't end on a type.");
  }
  MockNode target=root;
  for (  OperationRequestAddress.Node node : prefix) {
    target=target.getChild(node.getType());
    if (target == null) {
      return Collections.emptyList();
    }
    if (node.getName() != null) {
      target=target.getChild(node.getName());
      if (target == null) {
        return Collections.emptyList();
      }
    }
  }
  return target.getChildNames();
}
