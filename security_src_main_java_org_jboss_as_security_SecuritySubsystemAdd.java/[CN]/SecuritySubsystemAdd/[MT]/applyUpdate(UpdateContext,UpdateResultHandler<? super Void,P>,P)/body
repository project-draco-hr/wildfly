{
  final ServiceTarget target=updateContext.getServiceTarget();
  final SecurityBootstrapService bootstrapService=new SecurityBootstrapService();
  target.addService(SecurityBootstrapService.SERVICE_NAME,bootstrapService).addListener(new UpdateResultHandler.ServiceStartListener<P>(resultHandler,param)).setInitialMode(ServiceController.Mode.ACTIVE).install();
  final SecurityManagementService securityManagementService=new SecurityManagementService(authenticationManagerClassName,deepCopySubjectMode,defaultCallbackHandlerClassName);
  target.addService(SecurityManagementService.SERVICE_NAME,securityManagementService).addListener(new UpdateResultHandler.ServiceStartListener<P>(resultHandler,param)).setInitialMode(ServiceController.Mode.ACTIVE).install();
  final Reference reference=SecurityDomainObjectFactory.createReference("JSM");
  final JaasBinderService binderService=new JaasBinderService(Values.immediateValue(reference));
  target.addService(JaasBinderService.SERVICE_NAME,binderService).addDependency(JavaContextService.SERVICE_NAME,Context.class,binderService.getContextInjector()).setInitialMode(ServiceController.Mode.ACTIVE).install();
  final SubjectFactoryService subjectFactoryService=new SubjectFactoryService();
  target.addService(SubjectFactoryService.SERVICE_NAME,subjectFactoryService).addDependency(SecurityManagementService.SERVICE_NAME,ISecurityManagement.class,subjectFactoryService.getSecurityManagementInjector()).setInitialMode(ServiceController.Mode.ACTIVE).install();
}
