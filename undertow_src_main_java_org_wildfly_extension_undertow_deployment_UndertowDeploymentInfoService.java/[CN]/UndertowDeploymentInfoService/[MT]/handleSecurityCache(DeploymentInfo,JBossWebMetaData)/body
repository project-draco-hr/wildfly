{
  AuthenticationManager manager=securityDomainContextValue.getValue().getAuthenticationManager();
  if (manager instanceof CacheableManager) {
    deploymentInfo.addNotificationReceiver(new CacheInvalidationNotificationReceiver((CacheableManager<?,java.security.Principal>)manager));
    if (mergedMetaData.isFlushOnSessionInvalidation()) {
      CacheInvalidationSessionListener listener=new CacheInvalidationSessionListener((CacheableManager<?,java.security.Principal>)manager);
      deploymentInfo.addListener(Servlets.listener(CacheInvalidationSessionListener.class,new ImmediateInstanceFactory<EventListener>(listener)));
    }
  }
}
