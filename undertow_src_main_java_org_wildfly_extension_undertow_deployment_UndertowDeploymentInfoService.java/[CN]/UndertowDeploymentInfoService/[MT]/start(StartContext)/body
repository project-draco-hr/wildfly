{
  DeploymentInfo deploymentInfo=createServletConfig();
  handleSessionReplication(deploymentInfo);
  handleIdentityManager(deploymentInfo);
  if (mergedMetaData.getSessionConfig() != null && mergedMetaData.getSessionConfig().getSessionTimeoutSet()) {
    deploymentInfo.setDefaultSessionTimeout(mergedMetaData.getSessionConfig().getSessionTimeout() * 60);
  }
  for (  final SetupAction action : setupActions) {
    deploymentInfo.addThreadSetupAction(new ThreadSetupAction(){
      private final Handle handle=new Handle(){
        @Override public void tearDown(){
          action.teardown(Collections.<String,Object>emptyMap());
        }
      }
;
      @Override public Handle setup(      final HttpServerExchange exchange){
        action.setup(Collections.<String,Object>emptyMap());
        return handle;
      }
    }
);
  }
  this.deploymentInfo=deploymentInfo;
}
