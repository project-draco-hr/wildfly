{
  if (state != State.STARTED) {
    log.debugf("Ignoring stop call; current state is %s",this.state);
    return;
  }
  state=State.STOPPING;
  try {
    stopService();
    state=State.STOPPED;
  }
 catch (  InterruptedException e) {
    state=State.FAILED;
    Thread.currentThread().interrupt();
    log.exceptionInStop(e);
  }
catch (  Exception e) {
    state=State.FAILED;
    log.exceptionInStop(e);
  }
catch (  Error e) {
    state=State.FAILED;
    throw e;
  }
}
