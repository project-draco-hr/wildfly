{
  if (sync && this.allowSyncListeners) {
synchronized (this.syncMembershipListeners) {
      this.syncMembershipListeners.add(listener);
    }
  }
 else {
synchronized (this.asyncMembershipListeners) {
      this.asyncMembershipListeners.add(listener);
    }
  }
}
