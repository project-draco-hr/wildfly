{
  if (this.directory) {
    if (this.recursive) {
      if (that.directory) {
        return (that.cpath.length() >= this.cpath.length()) && that.cpath.startsWith(this.cpath);
      }
 else {
        return ((that.cpath.length() >= this.cpath.length()) && that.cpath.startsWith(this.cpath));
      }
    }
 else {
      if (that.directory) {
        if (that.recursive)         return false;
 else         return (this.cpath.equals(that.cpath));
      }
 else {
        int last=that.cpath.lastIndexOf('/');
        if (last == -1)         return false;
 else {
          return (this.cpath.length() == (last + 1)) && this.cpath.regionMatches(0,that.cpath,0,last + 1);
        }
      }
    }
  }
 else   if (that.directory) {
    return false;
  }
 else {
    return (this.cpath.equals(that.cpath));
  }
}
