{
  int mask=Action.NONE.mask;
  if (actions == null || actions.length() == 0) {
    return mask;
  }
  Action action=Action.forName(actions);
  if (action != null) {
    return action.mask;
  }
  String[] sa=actions.split(",");
  for (  String s : sa) {
    String key=s.toLowerCase();
    action=Action.forName(key);
    if (action == null) {
      throw new IllegalArgumentException("invalid permission, unknown action: " + s);
    }
    int i=action.mask;
    mask|=i;
  }
  return mask;
}
