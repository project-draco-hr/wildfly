{
  if (nodes.isEmpty())   throw new IllegalStateException("Node name '" + nodeName + "' should follow a node type.");
  nodes.get(nodes.size() - 1).name=nodeName;
}
