{
  if (failedAttributes == null) {
    return "";
  }
  final TransformationTarget tgt=context.getTarget();
  final String legacyHostName=tgt.getHostName();
  final ModelVersion coreVersion=tgt.getVersion();
  final String subsystemName=findSubsystemName(address);
  final ModelVersion usedVersion=subsystemName == null ? coreVersion : tgt.getSubsystemVersion(subsystemName);
  List<String> messages=new ArrayList<String>();
  for (  Map.Entry<RejectAttributeLogAdapter,Set<String>> entry : failedAttributes.entrySet()) {
    messages.add(entry.getKey().getDetailMessage(entry.getValue()));
  }
  if (op == null) {
    if (coreVersion.getMajor() >= 1 && coreVersion.getMinor() >= 4) {
      if (subsystemName != null) {
        throw ControllerMessages.MESSAGES.rejectAttributesSubsystemModelResourceTransformer(address,legacyHostName,subsystemName,usedVersion,messages);
      }
      throw ControllerMessages.MESSAGES.rejectAttributesCoreModelResourceTransformer(address,legacyHostName,usedVersion,messages);
    }
  }
  if (op == null) {
    if (subsystemName != null) {
      ControllerLogger.TRANSFORMER_LOGGER.rejectAttributesSubsystemModelResourceTransformer(address,legacyHostName,subsystemName,usedVersion,messages);
    }
 else {
      ControllerLogger.TRANSFORMER_LOGGER.rejectAttributesCoreModelResourceTransformer(address,legacyHostName,usedVersion,messages);
    }
    return null;
  }
 else {
    if (subsystemName != null) {
      return ControllerMessages.MESSAGES.rejectAttributesSubsystemModelOperationTransformer(op,address,legacyHostName,subsystemName,usedVersion,messages);
    }
 else {
      return ControllerMessages.MESSAGES.rejectAttributesCoreModelOperationTransformer(op,address,legacyHostName,usedVersion,messages);
    }
  }
}
