{
  if (failedAttributes == null) {
    return "";
  }
  final TransformationTarget tgt=context.getContext().getTarget();
  final String legacyHostName=tgt.getHostName();
  final ModelVersion coreVersion=tgt.getVersion();
  final String subsystemName=findSubsystemName(address);
  final ModelVersion usedVersion=subsystemName == null ? coreVersion : tgt.getSubsystemVersion(subsystemName);
  final TransformersLogger logger=context.getContext().getLogger();
  final boolean error=op == null && tgt.isIgnoredResourceListAvailableAtRegistration();
  List<String> messages=error ? new ArrayList<String>() : null;
  for (  Map.Entry<String,Map<String,ModelNode>> entry : failedAttributes.entrySet()) {
    RejectAttributeChecker checker=failedCheckers.get(entry.getKey());
    String message=checker.getRejectionLogMessage(entry.getValue());
    if (error) {
      messages.add(message);
    }
 else {
      if (op == null) {
        logger.logAttributeWarning(address,null,message,entry.getValue().keySet());
      }
 else {
        return logger.getAttributeWarning(address,op,message,entry.getValue().keySet());
      }
    }
  }
  return null;
}
