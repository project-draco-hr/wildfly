{
  LogContext.setLogContextSelector(CONTEXT_SELECTOR);
  final SubsystemRegistration subsystem=context.registerSubsystem(SUBSYSTEM_NAME,MANAGEMENT_API_MAJOR_VERSION,MANAGEMENT_API_MINOR_VERSION,MANAGEMENT_API_MICRO_VERSION);
  final ManagementResourceRegistration registration=subsystem.registerSubsystemModel(LoggingRootResource.INSTANCE);
  registration.registerOperationHandler(GenericSubsystemDescribeHandler.DEFINITION,DESCRIBE_HANDLER);
  final ResolvePathHandler resolvePathHandler;
  if (context.getProcessType().isServer()) {
    resolvePathHandler=ResolvePathHandler.Builder.of(context.getPathManager()).setParentAttribute(CommonAttributes.FILE).build();
  }
 else {
    resolvePathHandler=null;
  }
  registerSubModels(registration,resolvePathHandler,true);
  registerSubModels(registration.registerSubModel(new SimpleResourceDefinition(LOGGING_PROFILE_PATH,getResourceDescriptionResolver(),LoggingProfileOperations.ADD_PROFILE,LoggingProfileOperations.REMOVE_PROFILE)),resolvePathHandler,false);
  final TransformersSubRegistration reg=subsystem.registerModelTransformers(ModelVersion.create(1,1,0),new ResourceTransformer(){
    @Override public void transformResource(    ResourceTransformationContext context,    PathAddress address,    Resource resource) throws OperationFailedException {
      final ResourceTransformationContext childContext=context.addTransformedResource(PathAddress.EMPTY_ADDRESS,resource);
      childContext.processChildren(resource);
    }
  }
);
  registerTransformersSubModels(reg,reg.registerSubResource(LOGGING_PROFILE_PATH,true));
  subsystem.registerXMLElementWriter(LoggingSubsystemParser.INSTANCE);
}
