{
  final List<ServletContainerInitializer> scis=new ArrayList<ServletContainerInitializer>();
  InputStream is=null;
  try {
    is=sci.openStream();
    BufferedReader reader=new BufferedReader(new InputStreamReader(is));
    String servletContainerInitializerClassName=reader.readLine().trim();
    while (servletContainerInitializerClassName != null) {
      try {
        if (!servletContainerInitializerClassName.isEmpty()) {
          int pos=servletContainerInitializerClassName.indexOf('#');
          if (pos > 0) {
            servletContainerInitializerClassName=servletContainerInitializerClassName.substring(0,pos);
          }
          servletContainerInitializerClassName=servletContainerInitializerClassName.trim();
          ServletContainerInitializer service=(ServletContainerInitializer)classLoader.loadClass(servletContainerInitializerClassName).newInstance();
          if (service != null) {
            scis.add(service);
          }
        }
        servletContainerInitializerClassName=reader.readLine();
      }
 catch (      Exception e) {
        if (error) {
          throw UndertowLogger.ROOT_LOGGER.errorProcessingSCI(jar,e);
        }
 else {
          UndertowLogger.ROOT_LOGGER.skippedSCI(jar,e);
        }
      }
    }
  }
 catch (  Exception e) {
    if (error) {
      throw UndertowLogger.ROOT_LOGGER.errorProcessingSCI(jar,e);
    }
 else {
      UndertowLogger.ROOT_LOGGER.skippedSCI(jar,e);
    }
  }
 finally {
    try {
      if (is != null)       is.close();
    }
 catch (    IOException e) {
    }
  }
  return scis;
}
