{
  StateTransferResourceDefinition.buildTransformation(version,builder);
  if (InfinispanModel.VERSION_4_0_0.requiresTransformation(version)) {
    builder.addChildResource(PartitionHandlingResourceDefinition.PATH,new RequiredChildResourceDiscardPolicy());
  }
 else {
    PartitionHandlingResourceDefinition.buildTransformation(version,builder);
  }
  if (InfinispanModel.VERSION_2_0_0.requiresTransformation(version)) {
    final ResourceTransformationDescriptionBuilder backupsBuilder=builder.addChildResource(BackupsResourceDefinition.PATH,new RequiredChildResourceDiscardPolicy());
    backupsBuilder.rejectChildResource(BackupResourceDefinition.WILDCARD_PATH);
    builder.addChildResource(BackupForResourceDefinition.PATH,new RequiredChildResourceDiscardPolicy());
  }
 else {
    BackupsResourceDefinition.buildTransformation(version,builder);
    BackupForResourceDefinition.buildTransformation(version,builder);
  }
  ClusteredCacheResourceDefinition.buildTransformation(version,builder);
}
