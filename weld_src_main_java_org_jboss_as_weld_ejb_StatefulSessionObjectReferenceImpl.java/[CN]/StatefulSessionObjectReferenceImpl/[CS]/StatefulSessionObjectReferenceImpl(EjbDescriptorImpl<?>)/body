{
  createServiceName=descriptor.getCreateServiceName();
  final Map<String,ServiceName> viewServices=new HashMap<String,ServiceName>();
  final Map<String,Class<?>> views=new HashMap<String,Class<?>>();
  for (  BusinessInterfaceDescriptor<?> view : descriptor.getRemoteBusinessInterfaces()) {
    views.put(view.getInterface().getName(),view.getInterface());
  }
  for (  BusinessInterfaceDescriptor<?> view : descriptor.getLocalBusinessInterfaces()) {
    views.put(view.getInterface().getName(),view.getInterface());
  }
  for (  ViewDescription view : descriptor.getComponentDescription().getViews()) {
    final Class<?> viewClass=views.get(view.getViewClassName());
    if (viewClass != null) {
      final Set<Class<?>> seen=new HashSet<Class<?>>();
      final Set<Class<?>> toProcess=new HashSet<Class<?>>();
      toProcess.add(viewClass);
      while (!toProcess.isEmpty()) {
        Iterator<Class<?>> it=toProcess.iterator();
        final Class<?> clazz=it.next();
        it.remove();
        seen.add(clazz);
        viewServices.put(clazz.getName(),view.getServiceName());
        final Class<?> superclass=clazz.getSuperclass();
        if (superclass != Object.class && superclass != null && !seen.contains(superclass)) {
          toProcess.add(superclass);
        }
        for (        Class<?> iface : clazz.getInterfaces()) {
          if (!seen.contains(iface)) {
            toProcess.add(iface);
          }
        }
      }
    }
  }
  id=getComponent().createSession();
  this.viewServices=viewServices;
}
