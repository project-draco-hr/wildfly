{
  if (isRemoved()) {
    throw new NoSuchEJBException("Bean has been removed");
  }
  if (viewServices.containsKey(businessInterfaceType.getName())) {
    final ServiceController<?> serviceController=CurrentServiceContainer.getServiceContainer().getRequiredService(viewServices.get(businessInterfaceType.getName()));
    final ComponentView view=(ComponentView)serviceController.getValue();
    return (S)view.createInstance(Collections.<Object,Object>singletonMap(SessionID.SESSION_ID_KEY,id)).getInstance();
  }
 else {
    throw new IllegalStateException("View of type " + businessInterfaceType + " not found on bean "+ ejbComponent);
  }
}
