{
  final ServiceTarget serviceTarget=context.getServiceTarget();
  final String intf=resolvedConfig.get(INTERFACE).isDefined() ? resolvedConfig.get(INTERFACE).asString() : null;
  final int port=resolvedConfig.get(PORT).asInt();
  final boolean fixedPort=resolvedConfig.get(FIXED_PORT).asBoolean(false);
  final String mcastAddr=resolvedConfig.get(MULTICAST_ADDRESS).isDefined() ? resolvedConfig.get(MULTICAST_ADDRESS).asString() : null;
  final int mcastPort=resolvedConfig.get(MULTICAST_PORT).isDefined() ? resolvedConfig.get(MULTICAST_PORT).asInt() : 0;
  final InetAddress mcastInet=mcastAddr == null ? null : InetAddress.getByName(mcastAddr);
  final SocketBindingService service=new SocketBindingService(name,port,fixedPort,mcastInet,mcastPort);
  final ServiceBuilder<SocketBinding> builder=serviceTarget.addService(SocketBinding.JBOSS_BINDING_NAME.append(name),service);
  if (intf != null) {
    builder.addDependency(NetworkInterfaceService.JBOSS_NETWORK_INTERFACE.append(intf),NetworkInterfaceBinding.class,service.getInterfaceBinding());
  }
  return builder.addDependency(SocketBindingManager.SOCKET_BINDING_MANAGER,SocketBindingManager.class,service.getSocketBindings()).setInitialMode(Mode.ON_DEMAND).install();
}
