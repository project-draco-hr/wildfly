{
  final PathAddress rootAddress=PathAddress.pathAddress(PathAddress.pathAddress(operation.require(OP_ADDR)).getLastElement());
  final ModelNode subModel=context.readModel(PathAddress.EMPTY_ADDRESS);
  final ModelNode subsystemAdd=new ModelNode();
  subsystemAdd.get(OP).set(ADD);
  subsystemAdd.get(OP_ADDR).set(rootAddress.toModelNode());
  if (subModel.hasDefined(MODIFY_WSDL_ADDRESS)) {
    subsystemAdd.get(MODIFY_WSDL_ADDRESS).set(subModel.get(MODIFY_WSDL_ADDRESS));
  }
  if (subModel.hasDefined(WSDL_HOST)) {
    subsystemAdd.get(WSDL_HOST).set(subModel.get(WSDL_HOST));
  }
  if (subModel.hasDefined(WSDL_PORT)) {
    subsystemAdd.get(WSDL_PORT).set(subModel.get(WSDL_PORT));
  }
  if (subModel.hasDefined(WSDL_SECURE_PORT)) {
    subsystemAdd.get(WSDL_SECURE_PORT).set(subModel.get(WSDL_SECURE_PORT));
  }
  context.getResult().add(subsystemAdd);
  context.completeStep();
}
