{
  final HostControllerClient client=clients.get(server.getHostName());
  List<UpdateResultHandlerResponse<?>> responses;
  if (client == null) {
    log.debugf("Unknown host controller %s",server.getHostName());
    responses=new ArrayList<UpdateResultHandlerResponse<?>>();
    final UpdateResultHandlerResponse<?> failure=UpdateResultHandlerResponse.createFailureResponse(new IllegalStateException("unknown host " + server.getHostName()));
    for (int i=0; i < updates.size(); i++) {
      responses.add(failure);
    }
  }
 else {
    responses=client.updateServerModel(server.getServerName(),updates,allowOverallRollback);
  }
  return responses;
}
