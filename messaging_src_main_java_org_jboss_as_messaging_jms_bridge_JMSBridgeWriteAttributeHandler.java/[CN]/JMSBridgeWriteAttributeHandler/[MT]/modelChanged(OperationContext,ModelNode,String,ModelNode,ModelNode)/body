{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    final OperationContext context,    final ModelNode operation) throws OperationFailedException {
      final AttributeDefinition attr=attributes.get(attributeName);
      final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS);
      if (attr.hasAlternative(resource.getModel())) {
        context.setRollbackOnly();
        throw new OperationFailedException(new ModelNode().set(MESSAGES.altAttributeAlreadyDefined(attributeName)));
      }
      context.completeStep();
    }
  }
,OperationContext.Stage.VERIFY);
  context.reloadRequired();
  if (context.completeStep() != OperationContext.ResultAction.KEEP) {
    context.revertReloadRequired();
  }
}
