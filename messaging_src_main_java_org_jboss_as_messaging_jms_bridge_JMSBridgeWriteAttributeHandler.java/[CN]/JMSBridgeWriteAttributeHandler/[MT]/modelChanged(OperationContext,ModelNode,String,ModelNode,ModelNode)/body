{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    final OperationContext context,    final ModelNode operation) throws OperationFailedException {
      final AttributeDefinition attr=attributes.get(attributeName);
      final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS);
      if (attr.hasAlternative(resource.getModel())) {
        context.setRollbackOnly();
        throw new OperationFailedException(new ModelNode().set(MESSAGES.altAttributeAlreadyDefined(attributeName)));
      }
      context.stepCompleted();
    }
  }
,OperationContext.Stage.VERIFY);
  context.reloadRequired();
  context.completeStep(OperationContext.RollbackHandler.REVERT_RELOAD_REQUIRED_ROLLBACK_HANDLER);
}
