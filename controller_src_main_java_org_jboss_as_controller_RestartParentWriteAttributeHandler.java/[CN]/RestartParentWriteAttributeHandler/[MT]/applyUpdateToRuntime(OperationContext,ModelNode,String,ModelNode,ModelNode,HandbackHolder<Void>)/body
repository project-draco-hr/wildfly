{
  if (context.isBooting()) {
    return false;
  }
  PathAddress address=getParentAddress(PathAddress.pathAddress(operation.require(OP_ADDR)));
  ServiceName serviceName=getParentServiceName(address);
  ServiceController<?> service=serviceName != null ? context.getServiceRegistry(false).getService(serviceName) : null;
  if (service == null) {
    return false;
  }
  boolean restartServices=context.isResourceServiceRestartAllowed();
  if (restartServices) {
    ModelNode parentModel=getModel(context,address);
    if (parentModel != null && context.markResourceRestarted(address,this)) {
      context.removeService(serviceName);
      final ServiceVerificationHandler verificationHandler=new ServiceVerificationHandler();
      recreateParentService(context,address,parentModel,verificationHandler);
      context.addStep(verificationHandler,OperationContext.Stage.VERIFY);
    }
  }
  return !restartServices;
}
