{
  if (!doneBootup.get()) {
    return;
  }
  try {
    moveFile(file,getVersionedFile(file));
    int seq=sequence.get();
    if (seq > CURRENT_HISTORY_LENGTH) {
      File delete=getVersionedFile(file,seq - CURRENT_HISTORY_LENGTH);
      if (delete.exists()) {
        delete.delete();
      }
    }
  }
 catch (  IOException e) {
    throw new ConfigurationPersistenceException("Failed to back up " + file,e);
  }
}
