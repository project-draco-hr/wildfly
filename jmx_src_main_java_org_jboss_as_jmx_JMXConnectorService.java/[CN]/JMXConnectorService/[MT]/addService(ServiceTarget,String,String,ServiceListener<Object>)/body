{
  JMXConnectorService jmxConnectorService=new JMXConnectorService();
  ServiceBuilder builder=target.addService(JMXConnectorService.SERVICE_NAME,jmxConnectorService).addDependency(MBeanServerService.SERVICE_NAME,MBeanServer.class,jmxConnectorService.getMBeanServerServiceInjector()).addDependency(SocketBinding.JBOSS_BINDING_NAME.append(registryBinding),SocketBinding.class,jmxConnectorService.getRegistryPortBinding()).addDependency(SocketBinding.JBOSS_BINDING_NAME.append(serverBinding),SocketBinding.class,jmxConnectorService.getServerPortBinding()).setInitialMode(ServiceController.Mode.ACTIVE);
  if (listeners != null) {
    builder.addListener(listeners);
  }
  return builder.install();
}
