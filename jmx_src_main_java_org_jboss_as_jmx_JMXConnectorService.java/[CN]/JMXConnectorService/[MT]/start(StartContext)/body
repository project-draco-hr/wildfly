{
  log.info("Starting remote JMX connector");
  try {
    RMIServerSocketFactory serverSocketFactory=new JMXServerSocketFactory(getRmiRegistryAddress());
    registry=LocateRegistry.createRegistry(getRmiRegistryPort(),null,serverSocketFactory);
    HashMap<String,Object> env=new HashMap<String,Object>();
    rmiServer=new RMIJRMPServerImpl(getRmiServerPort(),null,serverSocketFactory,env);
    JMXServiceURL url=buildJMXServiceURL();
    adapter=new RMIConnectorServer(url,env,rmiServer,mbeanServerValue.getValue());
    adapter.start();
    registry.rebind(RMI_BIND_NAME,rmiServer.toStub());
  }
 catch (  Exception e) {
    throw new StartException(e);
  }
}
