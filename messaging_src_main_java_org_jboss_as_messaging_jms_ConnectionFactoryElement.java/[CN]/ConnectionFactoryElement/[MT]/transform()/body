{
  final ConnectionFactoryConfiguration configuration=new ConnectionFactoryConfigurationImpl(name,jndiBindings());
  if (discoveryGroupName != null) {
    if (initialWaitTimeout != null)     configuration.setInitialWaitTimeout(initialWaitTimeout);
    if (discoveryGroupName != null)     configuration.setDiscoveryGroupName(discoveryGroupName);
  }
 else {
    if (this.connectorRef != null && !this.connectorRef.isEmpty()) {
      List<Pair<String,String>> connectorNames=new ArrayList<Pair<String,String>>();
      for (      final ConnectionFactoryConnectorRef ref : this.connectorRef) {
        connectorNames.add(new Pair<String,String>(ref.getConnectorName(),ref.getBackupName()));
      }
      configuration.setConnectorNames(connectorNames);
    }
  }
  if (clientID != null)   configuration.setClientID(clientID);
  if (clientFailureCheckPeriod != null)   configuration.setClientFailureCheckPeriod(clientFailureCheckPeriod);
  if (connectionTTL != null)   configuration.setConnectionTTL(connectionTTL);
  if (callTimeout != null)   configuration.setCallTimeout(callTimeout);
  if (cacheLargeMessagesClient != null)   configuration.setCacheLargeMessagesClient(cacheLargeMessagesClient);
  if (minLargeMessageSize != null)   configuration.setMinLargeMessageSize(minLargeMessageSize);
  if (consumerWindowSize != null)   configuration.setConsumerWindowSize(consumerWindowSize);
  if (consumerMaxRate != null)   configuration.setConsumerMaxRate(consumerMaxRate);
  if (confirmationWindowSize != null)   configuration.setConfirmationWindowSize(confirmationWindowSize);
  if (producerWindowSize != null)   configuration.setProducerWindowSize(producerWindowSize);
  if (producerMaxRate != null)   configuration.setProducerMaxRate(producerMaxRate);
  if (blockOnAcknowledge != null)   configuration.setBlockOnAcknowledge(blockOnAcknowledge);
  if (blockOnDurableSend != null)   configuration.setBlockOnDurableSend(blockOnDurableSend);
  if (blockOnNonDurableSend != null)   configuration.setBlockOnNonDurableSend(blockOnNonDurableSend);
  if (autoGroup != null)   configuration.setAutoGroup(autoGroup);
  if (preAcknowledge != null)   configuration.setPreAcknowledge(preAcknowledge);
  if (loadBalancingPolicyClassName != null)   configuration.setLoadBalancingPolicyClassName(loadBalancingPolicyClassName);
  if (transactionBatchSize != null)   configuration.setTransactionBatchSize(transactionBatchSize);
  if (dupsOKBatchSize != null)   configuration.setDupsOKBatchSize(dupsOKBatchSize);
  if (useGlobalPools != null)   configuration.setUseGlobalPools(useGlobalPools);
  if (scheduledThreadPoolMaxSize != null)   configuration.setScheduledThreadPoolMaxSize(scheduledThreadPoolMaxSize);
  if (threadPoolMaxSize != null)   configuration.setThreadPoolMaxSize(threadPoolMaxSize);
  if (retryInterval != null)   configuration.setRetryInterval(retryInterval);
  if (retryIntervalMultiplier != null)   configuration.setRetryIntervalMultiplier(retryIntervalMultiplier);
  if (maxRetryInterval != null)   configuration.setMaxRetryInterval(maxRetryInterval);
  if (reconnectAttempts != null)   configuration.setReconnectAttempts(reconnectAttempts);
  if (failoverOnServerShutdown != null)   configuration.setFailoverOnServerShutdown(failoverOnServerShutdown);
  if (failoverOnInitialConnection != null)   configuration.setFailoverOnInitialConnection(failoverOnInitialConnection);
  if (groupID != null)   configuration.setGroupID(groupID);
  return configuration;
}
