{
  final ManagementChannelHandler handler=new ManagementChannelHandler(ManagementClientChannelStrategy.create(channel),getExecutor());
  UserInfo userInfo=channel.getConnection().getUserInfo();
  final Subject subject;
  if (userInfo instanceof SubjectUserInfo) {
    subject=((SubjectUserInfo)userInfo).getSubject();
  }
 else {
    subject=new Subject();
  }
  handler.addHandlerFactory(new ModelControllerClientOperationHandler(getController(),handler,subject));
  channel.receiveMessage(handler.getReceiver());
  return handler;
}
