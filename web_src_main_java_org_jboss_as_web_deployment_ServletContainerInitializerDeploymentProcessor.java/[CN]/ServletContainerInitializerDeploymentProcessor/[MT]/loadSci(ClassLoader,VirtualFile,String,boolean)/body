{
  ServletContainerInitializer service=null;
  InputStream is=null;
  try {
    is=sci.openStream();
    BufferedReader reader=new BufferedReader(new InputStreamReader(is));
    String servletContainerInitializerClassName=reader.readLine();
    int pos=servletContainerInitializerClassName.indexOf('#');
    if (pos > 0) {
      servletContainerInitializerClassName=servletContainerInitializerClassName.substring(0,pos);
    }
    servletContainerInitializerClassName=servletContainerInitializerClassName.trim();
    service=(ServletContainerInitializer)classLoader.loadClass(servletContainerInitializerClassName).newInstance();
  }
 catch (  Exception e) {
    if (error) {
      throw new DeploymentUnitProcessingException("Deployment error processing SCI for JAR: " + jar,e);
    }
 else {
      Logger.getLogger("org.jboss.web").info("Skipped SCI for JAR: " + jar,e);
    }
  }
 finally {
    try {
      if (is != null)       is.close();
    }
 catch (    IOException e) {
    }
  }
  return service;
}
