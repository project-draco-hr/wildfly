{
  if (inputStreams.length == 0) {
    return executeOperation(operation,OperationTransactionControl.COMMIT);
  }
 else {
    ExecutorService executor=Executors.newCachedThreadPool();
    try {
      ModelControllerClient client=controller.createClient(executor);
      OperationBuilder builder=OperationBuilder.create(operation);
      for (      InputStream in : inputStreams) {
        builder.addInputStream(in);
      }
      Operation op=builder.build();
      try {
        return client.execute(op);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  finally {
      executor.shutdownNow();
    }
  }
}
