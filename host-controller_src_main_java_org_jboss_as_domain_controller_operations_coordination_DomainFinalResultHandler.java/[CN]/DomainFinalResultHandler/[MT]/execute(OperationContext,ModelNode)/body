{
  context.completeStep(new OperationContext.ResultHandler(){
    @Override public void handleResult(    OperationContext.ResultAction resultAction,    OperationContext context,    ModelNode operation){
      final boolean isDomain=isDomainOperation(operation);
      boolean shouldContinue=collectDomainFailure(context,isDomain);
      shouldContinue=shouldContinue && collectContextFailure(context,isDomain);
      shouldContinue=shouldContinue && collectHostFailures(context,isDomain);
      if (shouldContinue) {
        ModelNode contextResult=context.getResult();
        contextResult.setEmptyObject();
        contextResult.set(getDomainResults(operation));
        if (domainOperationContext.getServerResults().size() > 0) {
          populateServerGroupResults(context);
        }
 else {
          context.getServerResults();
        }
      }
    }
  }
);
}
