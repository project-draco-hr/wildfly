{
  ModelNode hostFailureResults=null;
  for (  Map.Entry<String,ModelNode> entry : domainOperationContext.getHostControllerResults().entrySet()) {
    ModelNode hostResult=entry.getValue();
    if (hostResult.has(FAILURE_DESCRIPTION)) {
      if (hostFailureResults == null) {
        hostFailureResults=new ModelNode();
      }
      final ModelNode desc=hostResult.hasDefined(FAILURE_DESCRIPTION) ? hostResult.get(FAILURE_DESCRIPTION) : new ModelNode().set(DomainControllerLogger.ROOT_LOGGER.unexplainedFailure());
      hostFailureResults.get(entry.getKey()).set(desc);
    }
  }
  final ModelNode coordinator=domainOperationContext.getCoordinatorResult();
  if (!isDomain && coordinator != null && coordinator.has(FAILURE_DESCRIPTION)) {
    if (hostFailureResults == null) {
      hostFailureResults=new ModelNode();
    }
    final ModelNode desc=coordinator.hasDefined(FAILURE_DESCRIPTION) ? coordinator.get(FAILURE_DESCRIPTION) : new ModelNode().set(DomainControllerLogger.ROOT_LOGGER.unexplainedFailure());
    hostFailureResults.get(domainOperationContext.getLocalHostInfo().getLocalHostName()).set(desc);
  }
  if (hostFailureResults != null) {
    if (!context.getFailureDescription().isDefined() || context.getFailureDescription().getType() == ModelType.OBJECT) {
      context.getFailureDescription().get(HOST_FAILURE_DESCRIPTIONS).set(hostFailureResults);
    }
 else {
      DomainControllerLogger.CONTROLLER_LOGGER.debugf("Failure description is not of type OBJECT '%s'",context.getFailureDescription());
    }
    return false;
  }
  return true;
}
