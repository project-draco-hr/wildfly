{
  File file=new File(logDir,"test-file.log");
  readFile(file,1);
  Assert.assertTrue(server.queryNames(OBJECT_NAME,null).contains(OBJECT_NAME));
  List<ModelNode> records=readFile(file,2);
  checkJmxBootRecordHeader(records.get(1),true,new String[]{ObjectName.class.getName(),QueryExp.class.getName()},new String[]{OBJECT_NAME.toString(),null});
  ModelNode op=createRemoveJmxHandlerReferenceOperation("test-file");
  executeForResult(op);
  readFile(file,2);
  Assert.assertTrue(server.queryNames(OBJECT_NAME,null).contains(OBJECT_NAME));
  records=readFile(file,2);
  op=createAddJmxHandlerReferenceOperation("test-file");
  executeForResult(op);
  readFile(file,2);
  Assert.assertTrue(server.queryNames(OBJECT_NAME,null).contains(OBJECT_NAME));
  records=readFile(file,1);
  checkJmxBootRecordHeader(records.get(0),true,new String[]{ObjectName.class.getName(),QueryExp.class.getName()},new String[]{OBJECT_NAME.toString(),null});
}
