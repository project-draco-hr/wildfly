{
  final InterceptorContext currentInvocationContext=CurrentInvocationContext.get();
  final EJBComponent ejbComponent=(EJBComponent)currentInvocationContext.getPrivateData(Component.class);
  if (ejbComponent == null) {
    throw new IllegalStateException("EJBComponent has not been set in the current invocation context " + currentInvocationContext);
  }
  return ejbComponent.getTimerService();
}
