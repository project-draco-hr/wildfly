{
  Boolean startFailed=depUnit.removeAttachment(OSGiConstants.DEFERRED_ACTIVATION_FAILED);
  if (Boolean.TRUE.equals(startFailed))   return false;
  XBundle bundle=brev.getBundle();
  if (bundle.getState() == Bundle.UNINSTALLED || brev.getState() == State.UNINSTALLED)   return false;
  if (bundle.getBundleRevision() != brev)   return false;
  if (BundleLifecycleIntegration.isBundleRefreshing(bundle))   return false;
  return true;
}
