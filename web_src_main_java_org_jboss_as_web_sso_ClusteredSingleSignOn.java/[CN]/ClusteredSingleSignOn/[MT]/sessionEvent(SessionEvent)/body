{
  WebLogger.WEB_SSO_LOGGER.tracef("received SessionEvent %s",event.toString());
  if (!Session.SESSION_DESTROYED_EVENT.equals(event.getType()))   return;
  Session session=event.getSession();
  WebLogger.WEB_SSO_LOGGER.tracef("Process session destroyed on %s",session);
  String ssoId=null;
synchronized (reverse) {
    ssoId=reverse.get(session);
  }
  if (ssoId == null) {
    WebLogger.WEB_SSO_LOGGER.tracef("ignoring as SSO is already closed for session %s",session);
    return;
  }
  boolean timedOut;
  boolean stopped=false;
  if ((timedOut=isSessionTimedOut(session)) || (stopped=isManagerStopped(session))) {
    WebLogger.WEB_SSO_LOGGER.tracef("remove session %s from SSO %s, isSessionTimedOut=%s, isManagerStopped=%s",session,ssoId,timedOut,stopped);
    removeSession(ssoId,session);
    processExpires();
  }
 else {
    WebLogger.WEB_SSO_LOGGER.tracef("user logged out of SSO %s",ssoId);
    logout(ssoId);
  }
}
