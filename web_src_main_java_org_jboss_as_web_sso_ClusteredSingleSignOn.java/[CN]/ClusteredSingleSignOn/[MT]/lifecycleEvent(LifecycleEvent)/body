{
  String type=event.getType();
  if (Lifecycle.BEFORE_STOP_EVENT.equals(type) || Lifecycle.STOP_EVENT.equals(type) || Lifecycle.AFTER_STOP_EVENT.equals(type)) {
    Lifecycle source=event.getLifecycle();
    boolean removed=activeManagers.remove(source);
    if (removed) {
      source.removeLifecycleListener(this);
      WebLogger.WEB_SSO_LOGGER.tracef("ClusteredSSO: removed stopped manager %s",source);
    }
  }
}
