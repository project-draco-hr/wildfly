{
  if (!modIgnored[0] || parent.getType() != DistributionContentItem.Type.MODULE_ROOT || parent.getType() != DistributionContentItem.Type.MODULE_PARENT) {
    DistributionContentItem item=structure.getContentItem(file,parent);
    if (item.getType() == DistributionContentItem.Type.MODULE_ROOT) {
      modIgnored[0]=true;
    }
 else     if (item.getType() == DistributionContentItem.Type.IGNORED) {
      modIgnored[1]=true;
    }
    if (item.getType() != DistributionContentItem.Type.IGNORED) {
      File[] children=file.listFiles();
      if (children != null) {
        for (        File child : children) {
          if (processModIgnored(child,item,structure,modIgnored)) {
            break;
          }
        }
      }
    }
  }
  return modIgnored[0] && modIgnored[1];
}
