{
  try {
    ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(patchFile));
    for (    File file : tmp.listFiles()) {
      if (file.isDirectory()) {
        addDirectoryToZip(file,file.getName(),zos);
      }
 else {
        addFileToZip(file,null,zos);
      }
    }
    zos.close();
  }
 catch (  IOException e) {
    throw new RuntimeException("Failed creating patch file " + patchFile,e);
  }
  System.out.println("\nPrepared " + patchFile.getName() + " at "+ patchFile.getAbsolutePath());
}
