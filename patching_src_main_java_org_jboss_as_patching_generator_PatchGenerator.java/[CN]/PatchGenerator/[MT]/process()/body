{
  try {
    createTempStructure();
    analyzeDifferences();
    try {
      preparePatchXml();
    }
 catch (    IOException e) {
      throw new RuntimeException("Failed creating patch.xml file",e);
    }
    copyContent();
    preparePatchFile();
  }
  finally {
    cleanFile(tmp);
  }
}
