{
  if (callbacks.length > 0) {
    for (    Callback callback : callbacks) {
      if (callback instanceof CallerPrincipalCallback) {
        if (this.callerPrincipalCallback == null) {
          CallerPrincipalCallback callerCallback=(CallerPrincipalCallback)callback;
          if (callerCallback.getPrincipal() != null)           this.callerPrincipalCallback=new CallerPrincipalCallback(callerCallback.getSubject(),callerCallback.getPrincipal());
 else           this.callerPrincipalCallback=new CallerPrincipalCallback(callerCallback.getSubject(),callerCallback.getName());
        }
      }
 else       if (callback instanceof PasswordValidationCallback) {
        if (this.passwordValidationCallback == null) {
          PasswordValidationCallback passCallback=(PasswordValidationCallback)callback;
          this.passwordValidationCallback=new PasswordValidationCallback(passCallback.getSubject(),passCallback.getUsername(),passCallback.getPassword());
        }
      }
 else       if (callback instanceof GroupPrincipalCallback) {
        if (this.groupPrincipalCallback == null) {
          GroupPrincipalCallback groupCallback=(GroupPrincipalCallback)callback;
          this.groupPrincipalCallback=new GroupPrincipalCallback(groupCallback.getSubject(),groupCallback.getGroups());
        }
      }
 else       ROOT_LOGGER.tracef("Callback %s not supported",callback.getClass().getCanonicalName());
    }
  }
}
