{
  boolean result=true;
  if (controller.getMode() == Mode.ACTIVE) {
    controller.setMode(Mode.NEVER);
    final StabilityMonitor monitor=new StabilityMonitor();
    monitor.addController(controller);
    try {
      if (!monitor.awaitStability(timeout,unit)) {
        WEB_LOGGER.debugf("Timeout stopping context: %s",controller.getName());
      }
    }
 catch (    final InterruptedException e) {
    }
 finally {
      monitor.removeController(controller);
    }
  }
  return result;
}
