{
  final String address=CommonAttributes.CLUSTER_CONNECTION_ADDRESS.validateResolvedOperation(model).asString();
  final String connectorName=CommonAttributes.CONNECTOR_REF.validateResolvedOperation(model).asString();
  final long retryInterval=CommonAttributes.CLUSTER_CONNECTION_RETRY_INTERVAL.validateResolvedOperation(model).asLong();
  final boolean duplicateDetection=CommonAttributes.CLUSTER_CONNECTION_USE_DUPLICATE_DETECTION.validateResolvedOperation(model).asBoolean();
  final boolean forwardWhenNoConsumers=CommonAttributes.FORWARD_WHEN_NO_CONSUMERS.validateResolvedOperation(model).asBoolean();
  final int maxHops=CommonAttributes.MAX_HOPS.validateResolvedOperation(model).asInt();
  final int confirmationWindowSize=CommonAttributes.CONFIRMATION_WINDOW_SIZE.validateResolvedOperation(model).asInt();
  final ModelNode discoveryNode=CommonAttributes.DISCOVERY_GROUP_NAME.validateResolvedOperation(model);
  final String discoveryGroupName=discoveryNode.isDefined() ? discoveryNode.asString() : null;
  final List<String> staticConnectors=discoveryGroupName == null ? getStaticConnectors(model) : null;
  final boolean allowDirectOnly=CommonAttributes.ALLOW_DIRECT_CONNECTIONS_ONLY.validateResolvedOperation(model).asBoolean();
  if (discoveryGroupName != null) {
    return new ClusterConnectionConfiguration(name,address,connectorName,retryInterval,duplicateDetection,forwardWhenNoConsumers,maxHops,confirmationWindowSize,discoveryGroupName);
  }
 else {
    return new ClusterConnectionConfiguration(name,address,connectorName,retryInterval,duplicateDetection,forwardWhenNoConsumers,maxHops,confirmationWindowSize,staticConnectors,allowDirectOnly);
  }
}
