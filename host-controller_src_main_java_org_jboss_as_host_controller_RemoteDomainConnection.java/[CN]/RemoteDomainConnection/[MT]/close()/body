{
synchronized (this) {
    closing=true;
    try {
      if (isConnected()) {
        try {
          channelHandler.executeRequest(new UnregisterModelControllerRequest(),null).getResult().await();
        }
 catch (        InterruptedException e) {
          Thread.currentThread().interrupt();
        }
      }
    }
  finally {
      try {
        connectionManager.shutdown();
      }
  finally {
        super.close();
        closing=false;
      }
    }
  }
}
