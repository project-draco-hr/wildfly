{
  PathAddress pa=PathAddress.pathAddress(PathElement.pathElement(HOST,"localhost"),PathElement.pathElement(SERVER_GROUP,"server-four"));
  final MockOperationContext operationContext=getOperationContext(rollback,pa);
  String serverGroupName=badServerGroup ? "bad-server-group" : "group-one";
  String socketBindingGroupName;
  if (socketBindingGroupOverride == SocketBindingGroupOverrideType.GOOD) {
    socketBindingGroupName="binding-two";
  }
 else   if (socketBindingGroupOverride == SocketBindingGroupOverrideType.BAD) {
    socketBindingGroupName="bad-socket-binding-group";
  }
 else {
    socketBindingGroupName=null;
  }
  final ModelNode operation=new ModelNode();
  operation.get(OP_ADDR).set(pa.toModelNode());
  operation.get(OP).set(ADD);
  operation.get(GROUP).set(serverGroupName);
  if (socketBindingGroupName != null) {
    operation.get(SOCKET_BINDING_GROUP).set(socketBindingGroupName);
  }
  ServerAddHandler.create(new MockHostControllerInfo(master)).execute(operationContext,operation);
  if (master && (socketBindingGroupOverride == SocketBindingGroupOverrideType.BAD || badServerGroup)) {
    Assert.fail();
  }
  Assert.assertFalse(operationContext.isReloadRequired());
}
