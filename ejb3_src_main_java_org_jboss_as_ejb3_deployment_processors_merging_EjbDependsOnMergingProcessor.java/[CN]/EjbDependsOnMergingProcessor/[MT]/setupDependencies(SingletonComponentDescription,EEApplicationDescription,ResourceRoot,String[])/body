{
  for (  String annotationValue : annotationValues) {
    final Set<ComponentDescription> components=applicationDescription.getComponents(annotationValue,deploymentRoot.getRoot());
    if (components.isEmpty()) {
      throw new DeploymentUnitProcessingException("Could not find EJB " + annotationValue + " referenced by @DependsOn annotation in "+ description.getComponentClassName());
    }
 else     if (components.size() != 1) {
      throw new DeploymentUnitProcessingException("More than one EJB called" + annotationValue + " referenced by @DependsOn annotation in "+ description.getComponentClassName()+ " Components: "+ components);
    }
    final ComponentDescription component=components.iterator().next();
    description.addDependency(component.getStartServiceName(),DependencyType.REQUIRED);
    description.getDependsOn().add(component.getStartServiceName());
    if (logger.isDebugEnabled()) {
      logger.debugf(description.getEJBName() + " bean is dependent on " + component.getComponentName());
    }
  }
}
