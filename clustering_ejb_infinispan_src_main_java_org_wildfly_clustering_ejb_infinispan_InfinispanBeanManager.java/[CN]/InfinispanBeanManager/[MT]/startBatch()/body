{
  final Cache<?,?> cache=this.groupCache;
  final boolean started=cache.startBatch();
  return new Batch(){
    @Override public void close(){
      this.end(true);
    }
    @Override public void discard(){
      this.end(false);
    }
    private void end(    boolean success){
      if (started) {
        cache.endBatch(success);
      }
    }
  }
;
}
