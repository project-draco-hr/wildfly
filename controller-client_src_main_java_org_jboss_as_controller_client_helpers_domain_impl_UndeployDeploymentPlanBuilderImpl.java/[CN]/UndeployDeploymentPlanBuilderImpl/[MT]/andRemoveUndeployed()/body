{
  DeploymentSetPlanImpl currentSet=getCurrentDeploymentSetPlan();
  if (currentSet.hasServerGroupPlans()) {
    throw ControllerClientLogger.ROOT_LOGGER.cannotAddDeploymentActionsAfterStart();
  }
  DeploymentActionImpl mod=DeploymentActionImpl.getRemoveAction(undeployModification.getDeploymentUnitUniqueName());
  DeploymentSetPlanImpl newSet=currentSet.addAction(mod);
  return new RemoveDeploymentPlanBuilderImpl(this,newSet);
}
