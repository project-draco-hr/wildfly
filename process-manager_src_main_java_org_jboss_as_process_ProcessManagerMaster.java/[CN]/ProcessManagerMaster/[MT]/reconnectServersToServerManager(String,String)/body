{
  if (shutdown.get()) {
    return;
  }
  try {
    InetAddress.getLocalHost();
  }
 catch (  UnknownHostException e) {
    log.error("Invalid address " + smAddress,e);
    return;
  }
  int port;
  try {
    port=Integer.valueOf(smPort);
  }
 catch (  NumberFormatException e) {
    log.error("Port should be a number " + smPort);
    return;
  }
synchronized (processes) {
    ManagedProcess sm=processes.get(SERVER_MANAGER_PROCESS_NAME);
    for (    ManagedProcess process : processes.values()) {
      if (!process.getProcessName().equals(SERVER_MANAGER_PROCESS_NAME)) {
        try {
          if (process.isStart()) {
            process.reconnectToServerManager(smAddress,port);
          }
 else {
            sm.down(process.getProcessName());
          }
        }
 catch (        IOException e) {
          log.warnf("Could not send RECONNECT_SERVER_MANAGER command to " + process.getProcessName());
        }
      }
    }
  }
}
