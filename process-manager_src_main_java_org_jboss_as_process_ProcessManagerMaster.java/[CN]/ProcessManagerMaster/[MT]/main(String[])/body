{
  ParsedArgs parsedArgs=ParsedArgs.parse(args);
  if (parsedArgs == null) {
    return;
  }
  final ProcessManagerMaster master=new ProcessManagerMaster(parsedArgs.pmAddress,parsedArgs.pmPort);
  master.start();
  List<String> command=new ArrayList<String>(parsedArgs.command);
  command.add(CommandLineConstants.INTERPROCESS_PM_ADDRESS);
  command.add(master.getInetAddress().getHostAddress());
  command.add(CommandLineConstants.INTERPROCESS_PM_PORT);
  command.add(String.valueOf(master.getPort()));
  command.add(CommandLineConstants.INTERPROCESS_NAME);
  command.add(SERVER_MANAGER_PROCESS_NAME);
  command.add(CommandLineConstants.INTERPROCESS_SM_ADDRESS);
  command.add(parsedArgs.smAddress.getHostAddress());
  command.add(CommandLineConstants.INTERPROCESS_SM_PORT);
  command.add(String.valueOf(parsedArgs.smPort));
  master.addProcess(SERVER_MANAGER_PROCESS_NAME,command,System.getenv(),parsedArgs.workingDir,RespawnPolicy.DefaultRespawnPolicy.INSTANCE);
  master.startProcess(SERVER_MANAGER_PROCESS_NAME);
}
