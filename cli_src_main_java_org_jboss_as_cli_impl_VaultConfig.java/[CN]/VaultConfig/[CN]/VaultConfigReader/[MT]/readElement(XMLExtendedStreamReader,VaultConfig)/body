{
  String rootName=reader.getLocalName();
  if (VAULT.equals(rootName) == false) {
    throw new XMLStreamException("Unexpected element: " + rootName);
  }
  boolean done=false;
  while (reader.hasNext() && done == false) {
    int tag=reader.nextTag();
    if (tag == XMLStreamConstants.START_ELEMENT) {
      final String localName=reader.getLocalName();
      if (localName.equals(VAULT_OPTION)) {
        final String name=reader.getAttributeValue(null,NAME);
        if (name == null) {
          throw new XMLStreamException("Attribute '" + NAME + "' is not found for element '"+ VAULT_OPTION+ "' at "+ reader.getLocation());
        }
        final String value=reader.getAttributeValue(null,VALUE);
        if (value == null) {
          throw new XMLStreamException("Attribute '" + VALUE + "' is not found for element "+ VAULT_OPTION+ "' at "+ reader.getLocation());
        }
        config.addOption(name.trim(),value.trim());
        CliConfigImpl.CliConfigReader.requireNoContent(reader);
      }
 else {
        throw new XMLStreamException("Unexpected element: " + localName);
      }
    }
 else     if (tag == XMLStreamConstants.END_ELEMENT) {
      final String localName=reader.getLocalName();
      if (localName.equals(VAULT)) {
        done=true;
      }
    }
  }
}
