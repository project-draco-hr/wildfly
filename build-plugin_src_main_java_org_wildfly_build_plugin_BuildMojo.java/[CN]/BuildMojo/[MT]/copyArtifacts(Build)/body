{
  File baseDir=new File(buildName,serverName);
  for (  CopyArtifact copy : build.getCopyArtifacts()) {
    File target=new File(baseDir,copy.getToLocation());
    if (!target.getParentFile().isDirectory()) {
      if (!target.getParentFile().mkdirs()) {
        throw new IOException("Could not create directory " + target.getParentFile());
      }
    }
    Artifact artifact=artifactMap.get(copy.getArtifact());
    if (artifact == null) {
      throw new RuntimeException("Could not find artifact " + copy.getArtifact() + " make sure it is a dependency of the project");
    }
    if (copy.isExtract()) {
      extractArtifact(artifact.getFile(),target,copy);
    }
 else {
      copyFile(artifact.getFile(),target);
    }
  }
}
