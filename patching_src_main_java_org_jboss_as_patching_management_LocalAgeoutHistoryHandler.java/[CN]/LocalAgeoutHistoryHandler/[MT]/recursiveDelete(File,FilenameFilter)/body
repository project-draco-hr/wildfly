{
  boolean ok=true;
  if (root.isDirectory()) {
    final File[] files=root.listFiles(filter);
    for (    File file : files) {
      ok&=recursiveDelete(file,filter);
    }
    return ok && (root.delete() || !root.exists());
  }
 else {
    ok&=root.delete() || !root.exists();
  }
  return ok;
}
