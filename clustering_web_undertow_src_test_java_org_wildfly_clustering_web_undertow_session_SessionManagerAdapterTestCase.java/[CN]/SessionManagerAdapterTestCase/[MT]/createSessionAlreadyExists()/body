{
  HttpServerExchange exchange=new HttpServerExchange(null);
  SessionConfig config=mock(SessionConfig.class);
  String requestedSessionId="session.route1";
  String sessionId="session";
  when(config.findSessionId(exchange)).thenReturn(requestedSessionId);
  when(this.manager.containsSession(sessionId)).thenReturn(true);
  IllegalStateException exception=null;
  try {
    this.adapter.createSession(exchange,config);
  }
 catch (  IllegalStateException e) {
    exception=e;
  }
  assertNotNull(exception);
}
