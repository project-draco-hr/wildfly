{
  final SubsystemFactory<?> factory=element.getSubsystemFactory(namespaceUri);
  if (factory == null) {
    throw new UpdateFailedException("Subsystem '" + namespaceUri + "' is not configured in this domain");
  }
  if (!element.getProfile(profileName).addSubsystem(namespaceUri,factory.createSubsystemElement())) {
    throw new UpdateFailedException("Subsystem '" + namespaceUri + "' is already configured in profile '"+ profileName+ "'");
  }
}
