{
  final Endpoint endpoint;
  try {
    boolean ok=false;
    endpoint=Remoting.createEndpoint(endpointName,optionMap);
    try {
      endpoint.addConnectionProvider("remote",new RemoteConnectionProviderFactory(),OptionMap.create(Options.SSL_ENABLED,Boolean.FALSE));
      ok=true;
    }
  finally {
      if (!ok) {
        endpoint.closeAsync();
      }
    }
  }
 catch (  IOException e) {
    throw new StartException("Failed to start service",e);
  }
  this.endpoint=endpoint;
}
