{
  Set<RealmGroup> groupPrincipals=getUsersGroups(userName,password);
  assertEquals("Number of groups",groups.length,groupPrincipals.size());
  Collection<String> expectedGroups=Arrays.asList(groups);
  for (  RealmGroup current : groupPrincipals) {
    assertTrue(String.format("User not expected to be in group '%s'",current.getName()),expectedGroups.remove(current.getName()));
  }
  assertTrue(String.format("User not in expected groups '%s'",expectedGroups.toString()),expectedGroups.isEmpty());
}
