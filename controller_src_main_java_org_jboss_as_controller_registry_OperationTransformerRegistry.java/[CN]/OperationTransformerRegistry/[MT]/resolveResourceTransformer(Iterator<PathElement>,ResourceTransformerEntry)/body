{
  if (!iterator.hasNext()) {
    if (resourceTransformer == null) {
      return inherited;
    }
    return resourceTransformer;
  }
 else {
    final ResourceTransformerEntry inheritedEntry=resourceTransformer.inherited ? resourceTransformer : inherited;
    final PathElement element=iterator.next();
    final String key=element.getKey();
    SubRegistry registry=subRegistriesUpdater.get(this,key);
    if (registry == null) {
      return inherited;
    }
    return registry.resolveResourceTransformer(iterator,element.getValue(),inheritedEntry);
  }
}
