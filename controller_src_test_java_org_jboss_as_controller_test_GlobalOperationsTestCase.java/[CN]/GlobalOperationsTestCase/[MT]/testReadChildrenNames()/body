{
  ModelNode operation=createOperation(READ_CHILDREN_NAMES_OPERATION,"profile","profileA");
  operation.get(CHILD_TYPE).set("subsystem");
  ModelNode result=executeForResult(operation);
  assertNotNull(result);
  assertEquals(ModelType.LIST,result.getType());
  assertEquals(2,result.asList().size());
  List<String> names=modelNodeListToStringList(result.asList());
  assertTrue(names.contains("subsystem1"));
  assertTrue(names.contains("subsystem2"));
  operation=createOperation(READ_CHILDREN_NAMES_OPERATION,"profile","profileA","subsystem","subsystem1");
  operation.get(CHILD_TYPE).set("type2");
  result=executeForResult(operation);
  assertNotNull(result);
  assertEquals(ModelType.LIST,result.getType());
  names=modelNodeListToStringList(result.asList());
  assertEquals(1,names.size());
  assertTrue(names.contains("other"));
  operation.get(CHILD_TYPE).set("non-existent-child");
  try {
    result=executeForResult(operation);
    fail("Expected error for non-existent child");
  }
 catch (  OperationFailedException expected) {
  }
  operation=createOperation(READ_CHILDREN_NAMES_OPERATION,"profile","profileC","subsystem","subsystem4");
  operation.get(CHILD_TYPE).set("type1");
  try {
    result=executeForResult(operation);
    fail("Expected error for type1 child under subsystem4");
  }
 catch (  OperationFailedException expected) {
  }
  operation=createOperation(READ_CHILDREN_NAMES_OPERATION,"profile","profileC","subsystem","subsystem5");
  operation.get(CHILD_TYPE).set("type1");
  result=executeForResult(operation);
  assertNotNull(result);
  assertEquals(ModelType.LIST,result.getType());
  assertTrue(result.asList().isEmpty());
}
