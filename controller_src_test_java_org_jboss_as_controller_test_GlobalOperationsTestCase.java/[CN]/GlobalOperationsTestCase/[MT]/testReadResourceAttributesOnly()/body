{
  ModelNode operation=createOperation(READ_RESOURCE_OPERATION);
  operation.get(ATTRIBUTES_ONLY).set(true);
  ModelNode result=executeForResult(operation);
  Assert.assertEquals(0,result.keys().size());
  operation.get(OP_ADDR).add("profile","profileB");
  result=executeForResult(operation);
  Assert.assertEquals(1,result.keys().size());
  Assert.assertEquals("Profile B",result.get("name").asString());
  operation.get(OP_ADDR).setEmptyList().add("profile","profileA").add("subsystem","subsystem1");
  result=executeForResult(operation);
  Assert.assertEquals(3,result.keys().size());
  List<ModelNode> list=result.get("attr1").asList();
  Assert.assertEquals(2,list.size());
  Assert.assertEquals(1,list.get(0).asInt());
  Assert.assertEquals(2,list.get(1).asInt());
  assertTrue(result.has("read-only"));
  assertTrue(result.has("read-write"));
  assertFalse(result.hasDefined("read-only"));
  assertFalse(result.hasDefined("read-write"));
  operation.get(RECURSIVE).set(true);
  executeForFailure(operation);
}
