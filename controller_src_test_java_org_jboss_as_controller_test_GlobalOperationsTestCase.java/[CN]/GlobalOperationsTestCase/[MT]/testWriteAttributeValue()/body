{
  ModelNode read=createOperation(READ_ATTRIBUTE_OPERATION,"profile","profileA","subsystem","subsystem2");
  read.get(NAME).set("long");
  ModelNode result=CONTROLLER.execute(read);
  assertEquals(ModelType.LONG,result.getType());
  long original=result.asLong();
  ModelNode write=createOperation(WRITE_ATTRIBUTE_OPERATION,"profile","profileA","subsystem","subsystem2");
  write.get(NAME).set("long");
  try {
    write.get(VALUE).set(99999L);
    CONTROLLER.execute(write);
    result=CONTROLLER.execute(read);
    assertEquals(ModelType.LONG,result.getType());
    assertEquals(99999L,result.asLong());
    write.get(VALUE).set("Not Valid");
    try {
      CONTROLLER.execute(write);
      fail("Expected error setting long property to string");
    }
 catch (    Exception expected) {
    }
  }
  finally {
    write.get(VALUE).set(original);
    CONTROLLER.execute(write);
    result=CONTROLLER.execute(read);
    assertEquals(ModelType.LONG,result.getType());
    assertEquals(original,result.asLong());
  }
  write.get(NAME).set("string1");
  write.get(VALUE).set("Hello");
  try {
    CONTROLLER.execute(write);
    fail("Expected error setting property with no write handler");
  }
 catch (  Exception expected) {
  }
}
