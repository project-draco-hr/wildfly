{
  final DomainClient client=domainSlaveLifecycleUtil.getDomainClient();
  final ModelNode addServer=new ModelNode();
  addServer.get(OP).set(ADD);
  addServer.get(OP_ADDR).set(newServerConfigAddress);
  addServer.get(GROUP).set("minimal");
  addServer.get(SOCKET_BINDING_GROUP).set("standard-sockets");
  addServer.get(SOCKET_BINDING_PORT_OFFSET).set(650);
  addServer.get(AUTO_START).set(false);
  Assert.assertFalse(exists(client,newServerConfigAddress));
  Assert.assertFalse(exists(client,newRunningServerAddress));
  ModelNode result=client.execute(addServer);
  validateResponse(result,false);
  Assert.assertTrue(exists(client,newServerConfigAddress));
  Assert.assertTrue(exists(client,newRunningServerAddress));
  startServer(client,"slave","new-server");
  Assert.assertTrue(checkState(client,newServerConfigAddress,"STARTED"));
  Assert.assertTrue(exists(client,newServerConfigAddress));
  Assert.assertTrue(exists(client,newRunningServerAddress));
  final ModelNode stopServer=new ModelNode();
  stopServer.get(OP).set("stop");
  stopServer.get(OP_ADDR).set(newServerConfigAddress);
  stopServer.get("blocking").set(true);
  result=client.execute(stopServer);
  validateResponse(result);
  Assert.assertTrue(checkState(client,newServerConfigAddress,"DISABLED"));
  Assert.assertTrue(exists(client,newServerConfigAddress));
  Assert.assertTrue(exists(client,newRunningServerAddress));
  final ModelNode removeServer=new ModelNode();
  removeServer.get(OP).set(REMOVE);
  removeServer.get(OP_ADDR).set(newServerConfigAddress);
  result=client.execute(removeServer);
  validateResponse(result);
  Assert.assertFalse(exists(client,newServerConfigAddress));
  Assert.assertFalse(exists(client,newRunningServerAddress));
}
