{
  ModelNode cacheName=this.attribute.resolveModelAttribute(context,model);
  ServiceRegistry registry=context.getServiceRegistry(true);
  if (registry.getService(this.serviceName) != null) {
    context.removeService(this.serviceName);
  }
  ServiceName dependency=cacheName.isDefined() ? CacheFactoryBuilderService.getServiceName(cacheName.asString()) : this.defaultServiceName;
  if (dependency != null) {
    ServiceController<?> controller=this.installValueService(context,this.serviceName,CacheFactoryBuilder.class,dependency);
    if (newControllers != null) {
      newControllers.add(controller);
    }
  }
}
