{
  if (interceptorFactories.containsKey(interceptor.getInterceptorClassName())) {
    return interceptorFactories.get(interceptor.getInterceptorClassName());
  }
  try {
    final Class<?> interceptorClass=module.getClassLoader().loadClass(interceptor.getInterceptorClassName());
    final List<LifecycleInterceptorFactory> postConstructInterceptors=createLifecycleInterceptors(interceptor.getPostConstructs(),module,index);
    final List<LifecycleInterceptorFactory> preDestroyInterceptors=createLifecycleInterceptors(interceptor.getPreDestroys(),module,index);
    configuration.addPostConstructLifecycles(postConstructInterceptors);
    configuration.addPreDestroyLifecycles(preDestroyInterceptors);
    final InjectingInterceptorInstanceFactory instanceFactory=new InjectingInterceptorInstanceFactory(new SimpleInterceptorInstanceFactory(interceptorClass),interceptorClass,configuration,postConstructInterceptors,preDestroyInterceptors);
    interceptorFactories.put(interceptor.getInterceptorClassName(),instanceFactory);
    return instanceFactory;
  }
 catch (  ClassNotFoundException e) {
    throw new DeploymentUnitProcessingException("Failed to load interceptor class " + interceptor.getInterceptorClassName());
  }
}
