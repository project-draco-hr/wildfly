{
  final String name;
  if (deploymentUnit.getParent() == null) {
    name=deploymentUnit.getName();
  }
 else {
    name=deploymentUnit.getParent().getName() + "--" + deploymentUnit.getName();
  }
  final TimerServiceFactoryService factoryService=new TimerServiceFactoryService(name,module);
  final ServiceBuilder<TimerServiceFactory> factoryBuilder=serviceTarget.addService(deploymentUnit.getServiceName().append(TimerServiceFactoryService.SERVICE_NAME),factoryService);
  factoryBuilder.addDependency(TransactionManagerService.SERVICE_NAME,TransactionManager.class,factoryService.getTransactionManagerInjectedValue());
  factoryBuilder.addDependency(TransactionSynchronizationRegistryService.SERVICE_NAME,TransactionSynchronizationRegistry.class,factoryService.getTransactionSynchronizationRegistryInjectedValue());
  factoryBuilder.addDependency(ServiceBuilder.DependencyType.OPTIONAL,TimerServiceFactoryService.PATH_SERVICE_NAME,String.class,factoryService.getPath());
  factoryBuilder.addDependency(timerServiceThreadPool,ExecutorService.class,factoryService.getExecutorService());
  factoryBuilder.install();
}
