{
  final String processName=NewManagedServer.getServerProcessName(serverName);
  final NewManagedServer existing=servers.get(processName);
  if (existing != null) {
    log.warnf("existing server [%s] with state: " + existing.getState());
    return determineServerStatus(serverName);
  }
  log.info("starting server " + serverName);
  final NewManagedServer server=createManagedServer(serverName,hostModel,domainModel);
  servers.put(processName,server);
  try {
    server.createServerProcess();
  }
 catch (  IOException e) {
    log.error("Failed to create server process " + serverName,e);
  }
  try {
    server.startServerProcess();
  }
 catch (  IOException e) {
    log.error("Failed to start server " + serverName,e);
  }
  return determineServerStatus(serverName);
}
