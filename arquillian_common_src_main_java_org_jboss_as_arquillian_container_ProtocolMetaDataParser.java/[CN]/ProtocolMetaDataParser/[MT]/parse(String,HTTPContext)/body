{
  ProtocolMetaData protocol=new ProtocolMetaData();
  protocol.addContext(context);
  try {
    if (isWebArchive(deploymentName)) {
      extractWebArchiveContexts(context,deploymentName);
    }
 else     if (isEnterpriseArchive(deploymentName)) {
      extractEnterpriseArchiveContexts(context,deploymentName);
    }
  }
 catch (  Exception e) {
    throw new DeploymentException("Could not parse deployment metadata",e);
  }
  return protocol;
}
