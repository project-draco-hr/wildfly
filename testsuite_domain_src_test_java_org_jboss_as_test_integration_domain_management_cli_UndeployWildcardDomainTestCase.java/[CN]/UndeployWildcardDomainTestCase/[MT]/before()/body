{
  CLITestSuite.createSupport(UndeployWildcardDomainTestCase.class.getSimpleName());
  String tempDir=System.getProperty("java.io.tmpdir");
  WebArchive war=ShrinkWrap.create(WebArchive.class,"cli-test-app1.war");
  war.addClass(SimpleServlet.class);
  war.addAsWebResource(new StringAsset("Version0"),"page.html");
  cliTestApp1War=new File(tempDir + File.separator + war.getName());
  new ZipExporterImpl(war).exportTo(cliTestApp1War,true);
  war=ShrinkWrap.create(WebArchive.class,"cli-test-app2.war");
  war.addClass(SimpleServlet.class);
  war.addAsWebResource(new StringAsset("Version1"),"page.html");
  cliTestApp2War=new File(tempDir + File.separator + war.getName());
  new ZipExporterImpl(war).exportTo(cliTestApp2War,true);
  war=ShrinkWrap.create(WebArchive.class,"cli-test-another.war");
  war.addClass(SimpleServlet.class);
  war.addAsWebResource(new StringAsset("Version2"),"page.html");
  cliTestAnotherWar=new File(tempDir + File.separator + war.getName());
  new ZipExporterImpl(war).exportTo(cliTestAnotherWar,true);
  war=ShrinkWrap.create(WebArchive.class,"cli-test-app3.war");
  war.addClass(SimpleServlet.class);
  war.addAsWebResource(new StringAsset("Version3"),"page.html");
  final EnterpriseArchive ear=ShrinkWrap.create(EnterpriseArchive.class,"cli-test-app.ear");
  ear.add(war,new BasicPath("/"),ZipExporter.class);
  cliTestAppEar=new File(tempDir + File.separator + ear.getName());
  new ZipExporterImpl(ear).exportTo(cliTestAppEar,true);
  final Iterator<String> sgI=CLITestSuite.serverGroups.keySet().iterator();
  if (!sgI.hasNext()) {
    fail("Server groups aren't available.");
  }
  sgOne=sgI.next();
  if (!sgI.hasNext()) {
    fail("Second server groups isn't available.");
  }
  sgTwo=sgI.next();
}
