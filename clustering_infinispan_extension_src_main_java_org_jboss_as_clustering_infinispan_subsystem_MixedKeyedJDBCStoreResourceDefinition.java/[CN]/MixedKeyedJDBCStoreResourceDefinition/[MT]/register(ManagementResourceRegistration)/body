{
  ManagementResourceRegistration registration=parentRegistration.registerSubModel(this);
  parentRegistration.registerAlias(LEGACY_PATH,new SimpleAliasEntry(registration));
  ResourceDescriptor descriptor=new ResourceDescriptor(this.getResourceDescriptionResolver()).addAttributes(JDBCStoreResourceDefinition.Attribute.class).addAttributes(StoreResourceDefinition.Attribute.class).addExtraParameters(DeprecatedAttribute.class).addExtraParameters(JDBCStoreResourceDefinition.DeprecatedAttribute.class).addCapabilities(Capability.class).addRequiredChildren(BinaryTableResourceDefinition.PATH,StringTableResourceDefinition.PATH).addRequiredSingletonChildren(StoreWriteThroughResourceDefinition.PATH);
  ResourceServiceHandler handler=new SimpleResourceServiceHandler<>(new MixedKeyedJDBCStoreBuilderFactory());
  new AddStepHandler(descriptor,handler){
    @Override protected void populateModel(    OperationContext context,    ModelNode operation,    Resource resource) throws OperationFailedException {
      translateAddOperation(context,operation);
      this.addTableStep(context,operation,DeprecatedAttribute.BINARY_TABLE,BinaryTableResourceDefinition.PATH,new BinaryTableBuilderFactory());
      this.addTableStep(context,operation,DeprecatedAttribute.STRING_TABLE,StringTableResourceDefinition.PATH,new StringTableBuilderFactory());
      super.populateModel(context,operation,resource);
    }
    private void addTableStep(    OperationContext context,    ModelNode operation,    DeprecatedAttribute attribute,    PathElement path,    ResourceServiceBuilderFactory<TableManipulationConfiguration> provider){
      if (operation.hasDefined(attribute.getDefinition().getName())) {
        ModelNode addTableOperation=Util.createAddOperation(context.getCurrentAddress().append(path));
        ModelNode parameters=operation.get(attribute.getDefinition().getName());
        for (        Property parameter : parameters.asPropertyList()) {
          addTableOperation.get(parameter.getName()).set(parameter.getValue());
        }
        context.addStep(addTableOperation,registration.getOperationHandler(PathAddress.pathAddress(path),ModelDescriptionConstants.ADD),context.getCurrentStage());
      }
    }
  }
.register(registration);
  new RemoveStepHandler(descriptor,handler).register(registration);
  registration.registerReadWriteAttribute(DeprecatedAttribute.BINARY_TABLE.getDefinition(),BinaryKeyedJDBCStoreResourceDefinition.LEGACY_READ_TABLE_HANDLER,BinaryKeyedJDBCStoreResourceDefinition.LEGACY_WRITE_TABLE_HANDLER);
  registration.registerReadWriteAttribute(DeprecatedAttribute.STRING_TABLE.getDefinition(),StringKeyedJDBCStoreResourceDefinition.LEGACY_READ_TABLE_HANDLER,StringKeyedJDBCStoreResourceDefinition.LEGACY_WRITE_TABLE_HANDLER);
  new BinaryTableResourceDefinition().register(registration);
  new StringTableResourceDefinition().register(registration);
  super.register(registration);
}
