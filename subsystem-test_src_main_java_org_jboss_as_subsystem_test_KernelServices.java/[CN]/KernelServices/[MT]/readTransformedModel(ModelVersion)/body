{
  if (legacyServices == null) {
    throw new IllegalStateException("Can only be called for the main controller");
  }
  ModelNode op=new ModelNode();
  op.get(OP).set(READ_TRANSFORMED_RESOURCE_OPERATION);
  op.get(OP_ADDR).set(PathAddress.EMPTY_ADDRESS.toModelNode());
  op.get(RECURSIVE).set(true);
  op.get(SUBSYSTEM).set(mainSubsystemName);
  op.get(ModelDescriptionConstants.MANAGEMENT_MAJOR_VERSION).set(modelVersion.getMajor());
  op.get(ModelDescriptionConstants.MANAGEMENT_MINOR_VERSION).set(modelVersion.getMinor());
  op.get(ModelDescriptionConstants.MANAGEMENT_MICRO_VERSION).set(modelVersion.getMicro());
  ModelNode result=executeOperation(op);
  return AbstractSubsystemTest.checkResultAndGetContents(result);
}
