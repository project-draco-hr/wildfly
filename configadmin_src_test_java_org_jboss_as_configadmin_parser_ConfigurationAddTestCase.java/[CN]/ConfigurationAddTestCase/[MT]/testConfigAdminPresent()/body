{
  Hashtable<String,String> dict=new Hashtable<String,String>();
  dict.put("x.y","a b");
  ModelNode operation=getOperationModelNode("some.config",dict);
  ModelNode model=new ModelNode();
  ConfigurationAdd.INSTANCE.populateModel(operation,model);
  ModelNode propValue=model.get(ConfigurationResource.ENTRIES.getName(),"x.y");
  Assert.assertEquals(dict.get("x.y"),propValue.asString());
  ConfigAdminServiceImpl mockCAS=Mockito.mock(ConfigAdminServiceImpl.class);
  ServiceController mockCASServiceController=Mockito.mock(ServiceController.class);
  Mockito.when(mockCASServiceController.getValue()).thenReturn(mockCAS);
  ServiceRegistry mockServiceRegistry=Mockito.mock(ServiceRegistry.class);
  Mockito.when(mockServiceRegistry.getService(ConfigAdmin.SERVICE_NAME)).thenReturn(mockCASServiceController);
  OperationContext mockOperationContext=Mockito.mock(OperationContext.class);
  Mockito.when(mockOperationContext.resolveExpressions(propValue)).thenReturn(propValue);
  Mockito.when(mockOperationContext.getServiceRegistry(true)).thenReturn(mockServiceRegistry);
  ConfigurationAdd.INSTANCE.performRuntime(mockOperationContext,operation,model,null,null);
  Mockito.verify(mockCAS).putConfigurationInternal("some.config",dict);
  assertNull(getInitializationService());
}
