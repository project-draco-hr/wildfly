{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    byte[] tmpBuffer=new byte[1000];
    int bytesRead;
    while ((bytesRead=input.read(tmpBuffer)) != -1)     baos.write(tmpBuffer,0,bytesRead);
    return baos.toByteArray();
  }
 catch (  java.io.IOException ioException) {
    throw MESSAGES.failedToReadByteArray(ioException);
  }
 finally {
    safeClose(baos);
    safeClose(input);
  }
}
