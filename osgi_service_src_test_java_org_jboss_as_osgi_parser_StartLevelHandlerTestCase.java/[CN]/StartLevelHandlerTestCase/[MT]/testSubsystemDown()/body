{
  ServiceController sc=Mockito.mock(ServiceController.class);
  Mockito.when(sc.getState()).thenReturn(ServiceController.State.DOWN);
  ServiceRegistry sr=Mockito.mock(ServiceRegistry.class);
  Mockito.when(sr.getRequiredService(Services.START_LEVEL)).thenReturn(sc);
  ModelNode failureNode=new ModelNode();
  OperationContext ctx=Mockito.mock(OperationContext.class);
  Mockito.when(ctx.getServiceRegistry(false)).thenReturn(sr);
  Mockito.when(ctx.getFailureDescription()).thenReturn(failureNode);
  StartLevelHandler handler=StartLevelHandler.READ_HANDLER;
  Assert.assertFalse(failureNode.isDefined());
  handler.execute(ctx,new ModelNode());
  Assert.assertTrue(failureNode.isDefined());
}
