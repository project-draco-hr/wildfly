{
  ServiceController sc=Mockito.mock(ServiceController.class);
  Mockito.when(sc.getState()).thenReturn(ServiceController.State.DOWN);
  ServiceRegistry sr=Mockito.mock(ServiceRegistry.class);
  Mockito.when(sr.getRequiredService(Services.START_LEVEL)).thenReturn(sc);
  ModelNode result=new ModelNode("test");
  OperationContext ctx=Mockito.mock(OperationContext.class);
  Mockito.when(ctx.getServiceRegistry(false)).thenReturn(sr);
  Mockito.when(ctx.getResult()).thenReturn(result);
  StartLevelHandler handler=StartLevelHandler.READ_HANDLER;
  Assert.assertTrue(result.isDefined());
  handler.execute(ctx,new ModelNode());
  Assert.assertFalse(result.isDefined());
}
