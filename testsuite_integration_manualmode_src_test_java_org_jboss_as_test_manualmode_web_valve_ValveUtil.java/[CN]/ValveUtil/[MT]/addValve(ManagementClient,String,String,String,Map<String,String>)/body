{
  List<ModelNode> updates=new ArrayList<ModelNode>();
  ModelNode op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).set(getValveAddr(valveName));
  op.get("enabled").set("true");
  op.get("class-name").set(classname);
  op.get("module").set(modulename);
  updates.add(op);
  if (params != null) {
    for (    String paramName : params.keySet()) {
      op=new ModelNode();
      op.get(OP).set("add-param");
      op.get(OP_ADDR).set(getValveAddr(valveName));
      op.get("param-name").set(paramName);
      op.get("param-value").set(params.get(paramName));
      updates.add(op);
    }
  }
  applyUpdates(managementClient.getControllerClient(),updates);
}
