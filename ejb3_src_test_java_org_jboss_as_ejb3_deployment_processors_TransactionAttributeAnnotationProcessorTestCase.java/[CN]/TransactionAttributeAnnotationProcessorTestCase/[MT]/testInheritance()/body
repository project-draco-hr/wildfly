{
  DeploymentUnit deploymentUnit=mockDeploymentUnit();
  EjbDeploymentMarker.mark(deploymentUnit);
  DeploymentPhaseContext phaseContext=null;
  Indexer indexer=new Indexer();
  index(indexer,SomeClass.class);
  index(indexer,ABean.class);
  CompositeIndex index=new CompositeIndex(Arrays.asList(indexer.complete()));
  final EEModuleDescription moduleDescription=new EEModuleDescription("TestApp","TestModule");
  final EEApplicationClasses applicationClassesDescription=new EEApplicationClasses();
  final EjbJarDescription ejbJarDescription=new EjbJarDescription(moduleDescription,applicationClassesDescription,false);
  final ServiceName duServiceName=deploymentUnit.getServiceName();
  EJBComponentDescription componentDescription=new StatelessComponentDescription(ABean.class.getSimpleName(),ABean.class.getName(),ejbJarDescription,duServiceName);
  TransactionAttributeAnnotationProcessor processor=new TransactionAttributeAnnotationProcessor();
  processor.processComponentConfig(deploymentUnit,phaseContext,index,componentDescription);
  assertEquals(REQUIRED,componentDescription.getTransactionAttribute(MethodIntf.LOCAL,ABean.class.getName(),"aMethod"));
  assertEquals(SUPPORTS,componentDescription.getTransactionAttribute(MethodIntf.LOCAL,SomeClass.class.getName(),"bMethod"));
  assertEquals(REQUIRES_NEW,componentDescription.getTransactionAttribute(MethodIntf.LOCAL,ABean.class.getName(),"cMethod"));
}
