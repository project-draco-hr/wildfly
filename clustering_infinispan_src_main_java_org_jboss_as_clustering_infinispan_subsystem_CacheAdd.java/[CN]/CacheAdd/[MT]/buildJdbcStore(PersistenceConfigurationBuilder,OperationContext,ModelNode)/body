{
  boolean useStringKeyedTable=store.hasDefined(ModelKeys.STRING_KEYED_TABLE);
  boolean useBinaryKeyedTable=store.hasDefined(ModelKeys.BINARY_KEYED_TABLE);
  if (useStringKeyedTable && !useBinaryKeyedTable) {
    JdbcStringBasedStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcStringBasedStoreConfigurationBuilder.class);
    buildStringKeyedTable(builder.table(),context,store.get(ModelKeys.STRING_KEYED_TABLE));
    return builder;
  }
 else   if (useBinaryKeyedTable && !useStringKeyedTable) {
    JdbcBinaryStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcBinaryStoreConfigurationBuilder.class);
    buildBinaryKeyedTable(builder.table(),context,store.get(ModelKeys.BINARY_KEYED_TABLE));
    return builder;
  }
  JdbcMixedStoreConfigurationBuilder builder=persistenceBuilder.addStore(JdbcMixedStoreConfigurationBuilder.class);
  buildStringKeyedTable(builder.stringTable(),context,store.get(ModelKeys.STRING_KEYED_TABLE));
  buildBinaryKeyedTable(builder.binaryTable(),context,store.get(ModelKeys.BINARY_KEYED_TABLE));
  return builder;
}
