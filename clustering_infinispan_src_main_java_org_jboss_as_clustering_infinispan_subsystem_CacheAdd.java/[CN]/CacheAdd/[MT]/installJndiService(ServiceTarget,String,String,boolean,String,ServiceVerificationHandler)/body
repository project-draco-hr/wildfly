{
  final ServiceName cacheServiceName=CacheService.getServiceName(containerName,cacheName);
  final ContextNames.BindInfo binding=createCacheBinding((jndiName != null) ? JndiNameFactory.parse(jndiName) : createJndiName(containerName,cacheName));
  final BinderService binder=new BinderService(binding.getBindName());
  ServiceBuilder<?> builder=target.addService(binding.getBinderServiceName(),binder).addAliases(ContextNames.JAVA_CONTEXT_SERVICE_NAME.append(binding.getBindName())).addDependency(cacheServiceName,Cache.class,new ManagedReferenceInjector<Cache>(binder.getManagedObjectInjector())).addDependency(binding.getParentContextServiceName(),ServiceBasedNamingStore.class,binder.getNamingStoreInjector()).setInitialMode(ServiceController.Mode.PASSIVE);
  if (defaultCache) {
    ContextNames.BindInfo defaultBinding=createCacheBinding(createJndiName(containerName,CacheContainer.DEFAULT_CACHE_ALIAS));
    builder.addAliases(defaultBinding.getBinderServiceName(),ContextNames.JAVA_CONTEXT_SERVICE_NAME.append(defaultBinding.getBindName()));
  }
  return builder.install();
}
