{
  final String stringValue=reader.getAttributeValue(index);
  if (allowExpression) {
    ModelNode expression=parsePossibleExpression(stringValue);
    if (expression.getType() == ModelType.EXPRESSION) {
      return expression;
    }
  }
  try {
    final int value=Integer.parseInt(stringValue);
    if (value < minInclusive || value > maxInclusive) {
      throw new XMLStreamException("Illegal value " + value + " for attribute '"+ reader.getAttributeName(index)+ "' must be between "+ minInclusive+ " and "+ maxInclusive+ " (inclusive)",reader.getLocation());
    }
    return new ModelNode().set(value);
  }
 catch (  NumberFormatException nfe) {
    throw new XMLStreamException("Illegal value '" + stringValue + "' for attribute '"+ reader.getAttributeName(index)+ "' must be an integer",reader.getLocation(),nfe);
  }
}
