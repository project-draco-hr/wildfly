{
  context.addStep(new AbstractDeploymentChainStep(){
    @Override protected void execute(    DeploymentProcessorTarget processorTarget){
      processorTarget.addDeploymentProcessor(MessagingExtension.SUBSYSTEM_NAME,Phase.PARSE,Phase.PARSE_MESSAGING_XML_RESOURCES,new MessagingXmlParsingDeploymentUnitProcessor());
      processorTarget.addDeploymentProcessor(MessagingExtension.SUBSYSTEM_NAME,Phase.PARSE,Phase.PARSE_EE_ANNOTATIONS,new MessagingJMSDefinitionAnnotationParser());
      processorTarget.addDeploymentProcessor(MessagingExtension.SUBSYSTEM_NAME,Phase.POST_MODULE,Phase.POST_MODULE_EJB_REF,new MessagingJMSDefinitionDeploymentProcessor());
      processorTarget.addDeploymentProcessor(MessagingExtension.SUBSYSTEM_NAME,Phase.INSTALL,Phase.INSTALL_MESSAGING_XML_RESOURCES,new MessagingXmlInstallDeploymentUnitProcessor());
      processorTarget.addDeploymentProcessor(MessagingExtension.SUBSYSTEM_NAME,Phase.INSTALL,Phase.INSTALL_JMS_BINDINGS,new MessagingJndiBindingProcessor());
    }
  }
,OperationContext.Stage.RUNTIME);
}
