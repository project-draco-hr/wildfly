{
  final MessagingSubsystemElement element=new MessagingSubsystemElement();
  if (bindingsDirectory != null)   element.setBindingsDirectory(getBindingsDirectory());
  if (journalDirectory != null)   element.setJournalDirectory(getJournalDirectory());
  if (largeMessagesDirectory != null)   element.setLargeMessagesDirectory(getLargeMessagesDirectory());
  if (pagingDirectory != null)   element.setPagingDirectory(getPagingDirectory());
  if (clustered != null)   element.setClustered(isClustered());
  if (persistenceEnabled != null)   element.setPersistenceEnabled(persistenceEnabled);
  if (journalMinFiles != null)   element.setJournalMinFiles(getJournalMinFiles());
  if (journalFileSize != null)   element.setJournalFileSize(getJournalFileSize());
  if (journalType != null)   element.setJournalType(getJournalType());
  for (  AbstractTransportElement<?> acceptorSpec : acceptors) {
    element.addAcceptor(acceptorSpec);
  }
  for (  AddressSettingsElement addressSpec : addressSettings) {
    element.addAddressSettings(addressSpec);
  }
  for (  AbstractTransportElement<?> connectorSpec : connectors) {
    element.addConnector(connectorSpec);
  }
  for (  SecuritySettingsElement securitySetting : securitySettings) {
    element.addSecuritySetting(securitySetting);
  }
  for (  QueueElement queue : queues) {
    element.addQueue(queue);
  }
  return element;
}
