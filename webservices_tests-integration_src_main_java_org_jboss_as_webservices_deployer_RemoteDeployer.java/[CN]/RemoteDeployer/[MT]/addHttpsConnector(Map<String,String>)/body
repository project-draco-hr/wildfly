{
  httpsConnSemaphore.acquire();
  try {
    final ModelNode composite=Util.getEmptyOperation(COMPOSITE,new ModelNode());
    final ModelNode steps=composite.get(STEPS);
    ModelNode op=createOpNode("subsystem=web/connector=jbws-test-https-connector",ADD);
    op.get("socket-binding").set("https");
    op.get("scheme").set("https");
    op.get("protocol").set("HTTP/1.1");
    op.get("secure").set(true);
    op.get("enabled").set(true);
    steps.add(op);
    ModelNode ssl=createOpNode("subsystem=web/connector=jbws-test-https-connector/ssl=configuration",ADD);
    if (sslOptions != null) {
      for (      final String k : sslOptions.keySet()) {
        ssl.get(k).set(sslOptions.get(k));
      }
    }
    steps.add(ssl);
    applyUpdate(composite,getModelControllerClient());
  }
 catch (  Exception e) {
    httpsConnSemaphore.release();
    throw e;
  }
}
