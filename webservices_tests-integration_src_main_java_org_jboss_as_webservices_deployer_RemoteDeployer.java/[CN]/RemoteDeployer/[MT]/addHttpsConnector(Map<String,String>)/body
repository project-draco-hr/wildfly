{
  final String realmName="jbws-test-https-realm";
  httpsConnSemaphore.acquire();
  try {
    addSecurityRealm(realmName,sslOptions);
    final ModelNode composite=Util.getEmptyOperation(COMPOSITE,new ModelNode());
    final ModelNode steps=composite.get(STEPS);
    ModelNode op=createOpNode("subsystem=undertow/server=default-server/https-listener=jbws-test-https-listener","add");
    op.get("socket-binding").set("https");
    op.get("security-realm").set(realmName);
    steps.add(op);
    applyUpdate(composite);
  }
 catch (  Exception e) {
    httpsConnSemaphore.release();
    throw e;
  }
}
