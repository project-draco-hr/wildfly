{
synchronized (securityDomainUsers) {
    int count=securityDomainUsers.get(name);
    if (count > 1) {
      securityDomainUsers.put(name,(count - 1));
      return;
    }
 else {
      securityDomainUsers.remove(name);
    }
    final ModelNode op=new ModelNode();
    op.get(OP).set(REMOVE);
    op.get(OP_ADDR).add(SUBSYSTEM,"security");
    op.get(OP_ADDR).add(SECURITY_DOMAIN,name);
    op.get(OPERATION_HEADERS,ALLOW_RESOURCE_SERVICE_RESTART).set(true);
    op.get(OPERATION_HEADERS,ROLLBACK_ON_RUNTIME_FAILURE).set(false);
    applyUpdate(op);
  }
}
