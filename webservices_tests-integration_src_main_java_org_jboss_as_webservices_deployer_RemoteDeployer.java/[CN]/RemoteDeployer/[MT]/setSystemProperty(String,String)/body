{
  if (propName == null || propName.trim().length() == 0) {
    throw new IllegalArgumentException("Empty system property name specified!");
  }
  ModelNode op=createOpNode("system-property=" + propName,READ_RESOURCE_OPERATION);
  String previousValue=null;
  try {
    ModelNode response=applyUpdate(op);
    String rawResult=response.get(RESULT).asString();
    previousValue=rawResult.substring(13,rawResult.length() - 2);
  }
 catch (  Exception e) {
    if (!e.getMessage().contains("WFLYCTL0216")) {
      throw e;
    }
  }
  if (previousValue != null) {
    op=createOpNode("system-property=" + propName,REMOVE);
    applyUpdate(op);
  }
  if (propValue != null) {
    op=createOpNode("system-property=" + propName,ADD);
    op.get("value").set(propValue);
    applyUpdate(op);
  }
  return previousValue;
}
