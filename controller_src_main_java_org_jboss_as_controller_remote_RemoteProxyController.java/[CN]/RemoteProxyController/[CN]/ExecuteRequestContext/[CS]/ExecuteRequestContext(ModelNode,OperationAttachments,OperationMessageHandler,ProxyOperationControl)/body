{
  this.control=new ProxyOperationControl(){
    @Override public void operationFailed(    ModelNode response){
      if (completed.compareAndSet(false,true)) {
        delegate.operationFailed(response);
      }
      prepareOrFailedLatch.countDown();
    }
    @Override public void operationCompleted(    ModelNode response){
      if (completed.compareAndSet(false,true)) {
        delegate.operationCompleted(response);
      }
    }
    @Override public void operationPrepared(    OperationTransaction transaction,    ModelNode result){
      delegate.operationPrepared(transaction,result);
      prepareOrFailedLatch.countDown();
    }
  }
;
  this.operation=operation;
  this.attachments=attachments;
  this.messageHandler=messageHandler;
}
