{
  final ModelNode recursive=Resource.Tools.readModel(resource);
  final ModelNode result=transformModel(context,recursive);
  final TransformationTarget target=context.getTarget();
  final ResourceDefinition definition=loader.load(target);
  final ManagementResourceRegistration targetDefinition=ManagementResourceRegistration.Factory.create(definition);
  final Resource transformed=TransformationUtils.modelToResource(address,targetDefinition,result,false);
  context.addTransformedRecursiveResource(PathAddress.EMPTY_ADDRESS,transformed);
}
