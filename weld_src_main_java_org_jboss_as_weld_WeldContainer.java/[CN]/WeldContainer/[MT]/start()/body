{
  if (started) {
    throw WeldMessages.MESSAGES.alreadyRunning("WeldContainer");
  }
  ModuleGroupSingletonProvider.addClassLoaders(deployment.getModule().getClassLoader(),deployment.getSubDeploymentClassLoaders());
  started=true;
  ClassLoader oldTccl=SecurityActions.getContextClassLoader();
  try {
    SecurityActions.setContextClassLoader(deployment.getModule().getClassLoader());
    bootstrap.startContainer(environment,deployment);
    bootstrap.startInitialization();
    bootstrap.deployBeans();
    bootstrap.validateBeans();
    bootstrap.endInitialization();
  }
  finally {
    SecurityActions.setContextClassLoader(oldTccl);
  }
}
