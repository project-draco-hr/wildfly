{
  if (!started) {
    throw new IllegalStateException("WeldContainer is not started");
  }
  ClassLoader oldTccl=SecurityActions.getContextClassLoader();
  try {
    SecurityActions.setContextClassLoader(deployment.getModule().getClassLoader());
    bootstrap.shutdown();
  }
  finally {
    SecurityActions.setContextClassLoader(oldTccl);
    ModuleGroupSingletonProvider.removeClassLoader(deployment.getModule().getClassLoader());
  }
  started=false;
}
