{
  log.info("Starting RBAC soak test: " + numClients + " concurrent clients, "+ numIterations+ " iterations each");
  TestClient[] clients=new TestClient[numClients];
  for (int i=0; i < numClients; i++) {
    TestClient client=new TestClient(i + 1,pickTestClientType(),pickRole());
    client.start();
    clients[i]=client;
  }
  int failures=0;
  for (  TestClient client : clients) {
    try {
      client.join();
    }
 catch (    InterruptedException e) {
    }
    if (client.failed) {
      failures++;
    }
  }
  log.info("Finished RBAC soak test with " + failures + " clients failing");
  if (failures > 0) {
    fail("Got " + failures + " clients failing");
  }
}
