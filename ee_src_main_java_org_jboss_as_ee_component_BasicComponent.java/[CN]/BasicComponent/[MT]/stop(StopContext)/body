{
  if (stopping.compareAndSet(false,true)) {
    stopContext.asynchronous();
synchronized (this) {
      gate=false;
    }
    stopContext.complete();
  }
}
