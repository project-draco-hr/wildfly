{
  waitForComponentStart();
  context.getContextData().put(Component.class,this);
  final Interceptor componentInstancePostConstructInterceptor=this.postConstruct.create(context);
  final Interceptor componentInstancePreDestroyInterceptor=this.getPreDestroy().create(context);
  @SuppressWarnings("unchecked") final AtomicReference<ManagedReference> instanceReference=(AtomicReference<ManagedReference>)context.getContextData().get(BasicComponentInstance.INSTANCE_KEY);
  instanceReference.set(instance);
  final Map<Method,InterceptorFactory> interceptorFactoryMap=this.getInterceptorFactoryMap();
  final IdentityHashMap<Method,Interceptor> interceptorMap=new IdentityHashMap<Method,Interceptor>();
  for (  Method method : interceptorFactoryMap.keySet()) {
    interceptorMap.put(method,interceptorFactoryMap.get(method).create(context));
  }
  final BasicComponentInstance basicComponentInstance=this.instantiateComponentInstance(instanceReference,componentInstancePreDestroyInterceptor,interceptorMap,context);
  if (invokePostConstruct) {
    final InterceptorContext interceptorContext=new InterceptorContext();
    interceptorContext.putPrivateData(Component.class,this);
    interceptorContext.putPrivateData(ComponentInstance.class,basicComponentInstance);
    interceptorContext.putPrivateData(InvocationType.class,InvocationType.POST_CONSTRUCT);
    interceptorContext.setContextData(new HashMap<String,Object>());
    try {
      componentInstancePostConstructInterceptor.processInvocation(interceptorContext);
    }
 catch (    Exception e) {
      throw MESSAGES.componentConstructionFailure(e);
    }
  }
  componentInstanceCreated(basicComponentInstance,context);
  return basicComponentInstance;
}
