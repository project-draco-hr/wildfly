{
  TimerServiceImpl timerService=new TimerServiceImpl(timer,invoker,timerPersistence,transactionManager,executor);
  String timedObjectId=invoker.getTimedObjectId();
  if (TimerServiceRegistry.isRegistered(timedObjectId)) {
    TimerServiceRegistry.unregisterTimerService(timedObjectId);
    logger.warn("Unregistered an already registered Timerservice with id " + timedObjectId + " and a new instance will be registered");
  }
  TimerServiceRegistry.registerTimerService(timerService);
  return timerService;
}
