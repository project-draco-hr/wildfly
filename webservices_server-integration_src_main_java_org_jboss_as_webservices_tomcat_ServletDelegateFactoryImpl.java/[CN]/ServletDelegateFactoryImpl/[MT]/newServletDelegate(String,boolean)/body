{
  final ClassLoaderProvider provider=ClassLoaderProvider.getDefaultProvider();
  final ClassLoader classLoader=isJaxWs ? provider.getServerIntegrationClassLoader() : provider.getServerJAXRPCIntegrationClassLoader();
  try {
    final Class<?> clazz=classLoader.loadClass(servletClassName);
    return (ServletDelegate)clazz.newInstance();
  }
 catch (  Exception e) {
    throw new RuntimeException("Could not create servlet delegate: " + servletClassName,e);
  }
}
