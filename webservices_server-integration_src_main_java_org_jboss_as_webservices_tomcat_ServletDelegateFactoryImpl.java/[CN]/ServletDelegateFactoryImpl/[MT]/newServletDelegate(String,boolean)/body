{
  final ClassLoaderProvider provider=ClassLoaderProvider.getDefaultProvider();
  final ClassLoader classLoader=isJaxWs ? provider.getServerIntegrationClassLoader() : provider.getServerJAXRPCIntegrationClassLoader();
  try {
    final Class<?> clazz=classLoader.loadClass(servletClassName);
    return (ServletDelegate)clazz.newInstance();
  }
 catch (  final Exception e) {
    throw WSLogger.ROOT_LOGGER.cannotInstantiateServletDelegate(e,servletClassName);
  }
}
