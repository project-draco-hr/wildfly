{
  SyslogServer.shutdown();
  server.setThread(null);
  server.getConfig().removeAllEventHandlers();
  ModelNode op=Util.createRemoveOperation(AUDIT_LOG_LOGGER_SYSLOG_HANDLER_ADDR);
  op.get(OPERATION_HEADERS,ROLLBACK_ON_RUNTIME_FAILURE).set(false);
  op.get(OPERATION_HEADERS,ALLOW_RESOURCE_SERVICE_RESTART).set(true);
  Utils.applyUpdate(op,managementClient.getControllerClient());
  op=Util.createRemoveOperation(AUDIT_SYSLOG_HANDLER_ADDR);
  op.get(OPERATION_HEADERS,ROLLBACK_ON_RUNTIME_FAILURE).set(false);
  op.get(OPERATION_HEADERS,ALLOW_RESOURCE_SERVICE_RESTART).set(true);
  Utils.applyUpdate(op,managementClient.getControllerClient());
  Utils.applyUpdate(Util.getWriteAttributeOperation(AUDIT_LOG_LOGGER_ADDR,LOG_READ_ONLY,false),managementClient.getControllerClient());
}
