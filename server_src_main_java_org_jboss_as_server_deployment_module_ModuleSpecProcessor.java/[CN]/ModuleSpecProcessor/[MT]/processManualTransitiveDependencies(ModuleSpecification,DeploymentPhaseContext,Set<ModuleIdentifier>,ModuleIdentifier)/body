{
  final ServiceController<ModuleSpecification> controller=(ServiceController<ModuleSpecification>)phaseContext.getServiceRegistry().getService(ServiceModuleLoader.moduleInformationServiceName(identifier));
  if (controller == null) {
    logger.warnf("Could not resolve transitive dependencies for module %s ",identifier);
    return;
  }
  try {
    final ModuleSpecification specification=controller.getValue();
    final List<ModuleDependency> allDeps=specification.getAllDependencies();
    for (    final ModuleDependency dependency : allDeps) {
      if (deps.contains(dependency.getIdentifier())) {
        continue;
      }
      deps.add(dependency.getIdentifier());
      moduleSpecification.addSystemDependency(dependency);
      if (dependency.getIdentifier().getName().startsWith(ServiceModuleLoader.MODULE_PREFIX)) {
        processManualTransitiveDependencies(moduleSpecification,phaseContext,deps,dependency.getIdentifier());
      }
    }
  }
 catch (  IllegalStateException e) {
    logger.warnf("Could not resolve transitive dependencies for module %s ",identifier);
  }
}
