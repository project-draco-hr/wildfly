{
  final ServiceController<ModuleSpecification> controller=(ServiceController<ModuleSpecification>)phaseContext.getServiceRegistry().getService(ServiceModuleLoader.moduleInformationServiceName(identifier));
  if (controller == null) {
    logger.warnf("Could not resolve transitive dependencies for module %s ",identifier);
    return;
  }
  try {
    ModuleSpecification specification=controller.getValue();
    for (    ModuleDependency dependency : specification.getDependencies()) {
      if (deps.contains(dependency)) {
        continue;
      }
      deps.add(dependency.getIdentifier());
      moduleSpecification.addDependency(dependency);
      if (dependency.getIdentifier().getName().startsWith(ServiceModuleLoader.MODULE_PREFIX)) {
        processManualTransitiveDependencies(moduleSpecification,phaseContext,deps,dependency.getIdentifier());
      }
    }
  }
 catch (  IllegalStateException e) {
    logger.warnf("Could not resolve transitive dependencies for module %s ",identifier);
  }
}
