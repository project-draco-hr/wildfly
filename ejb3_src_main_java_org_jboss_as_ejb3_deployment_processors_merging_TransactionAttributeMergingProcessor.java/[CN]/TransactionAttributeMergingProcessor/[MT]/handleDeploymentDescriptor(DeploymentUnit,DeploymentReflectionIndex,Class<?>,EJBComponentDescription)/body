{
  EjbJarMetaData ejbJarMetadata=deploymentUnit.getAttachment(EjbDeploymentAttachmentKeys.EJB_JAR_METADATA);
  if (ejbJarMetadata != null) {
    final AssemblyDescriptorMetaData assemblyDescriptor=ejbJarMetadata.getAssemblyDescriptor();
    if (assemblyDescriptor != null) {
      final ContainerTransactionsMetaData containerTransactions=assemblyDescriptor.getContainerTransactionsByEjbName(componentDescription.getEJBName());
      if (containerTransactions != null) {
        for (        final ContainerTransactionMetaData containerTx : containerTransactions) {
          final TransactionAttributeType txAttr=containerTx.getTransAttribute();
          final Integer timeout=timeout(containerTx);
          final MethodsMetaData methods=containerTx.getMethods();
          for (          final MethodMetaData method : methods) {
            final String methodName=method.getMethodName();
            final MethodIntf defaultMethodIntf=(componentDescription instanceof MessageDrivenComponentDescription) ? MethodIntf.MESSAGE_ENDPOINT : MethodIntf.BEAN;
            final MethodIntf methodIntf=this.getMethodIntf(method.getMethodIntf(),defaultMethodIntf);
            if (methodName.equals("*")) {
              if (txAttr != null)               componentDescription.getTransactionAttributes().setAttribute(methodIntf,null,txAttr);
              if (timeout != null)               componentDescription.getTransactionTimeouts().setAttribute(methodIntf,null,timeout);
            }
 else {
              final MethodParametersMetaData methodParams=method.getMethodParams();
              if (methodParams == null) {
                if (txAttr != null)                 componentDescription.getTransactionAttributes().setAttribute(methodIntf,txAttr,methodName);
                if (timeout != null)                 componentDescription.getTransactionTimeouts().setAttribute(methodIntf,timeout,methodName);
              }
 else {
                if (txAttr != null)                 componentDescription.getTransactionAttributes().setAttribute(methodIntf,txAttr,null,methodName,this.getMethodParams(methodParams));
                if (timeout != null)                 componentDescription.getTransactionTimeouts().setAttribute(methodIntf,timeout,null,methodName,this.getMethodParams(methodParams));
              }
            }
          }
        }
      }
    }
  }
}
