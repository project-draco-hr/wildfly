{
  final ParseResult<Standalone> parseResult=new ParseResult<Standalone>();
  try {
    final XMLMapper mapper=createXMLMapper();
    URL configURL=getClass().getResource("/domain-with-messaging.xml");
    Assert.assertNotNull("domain-with-messaging.xml url is not null",configURL);
    System.out.println("configURL = " + configURL);
    BufferedReader reader=new BufferedReader(new InputStreamReader(configURL.openStream()));
    mapper.parseDocument(parseResult,XMLInputFactory.newInstance().createXMLStreamReader(reader));
    MessagingSubsystemElement mse=MessagingSubsystemParser.getLastSubsystemElement();
    ConfigurationElement config=mse.getConfiguration();
    Configuration jmsConfig=config.getConfiguration();
    Assert.assertEquals("bindings-directory","${jboss.server.data.dir}/hornetq/bindings",jmsConfig.getBindingsDirectory());
    Assert.assertEquals("journal-min-files",10,jmsConfig.getJournalMinFiles());
  }
 catch (  Exception e) {
    throw new RuntimeException("domain-with-messaging.xml",e);
  }
}
