{
  final ServiceName lookupName=buildServiceName(name);
  final List<ServiceName> children=listChildren(lookupName);
  final String[] lookupParts=lookupName.toArray();
  final Set<String> childContexts=new HashSet<String>();
  final List<Binding> results=new ArrayList<Binding>();
  for (  ServiceName child : children) {
    final String[] childParts=child.toArray();
    if (childParts.length > lookupParts.length + 1) {
      childContexts.add(childParts[lookupParts.length]);
    }
 else {
      final Object binding=lookup(child);
      results.add(new Binding(childParts[childParts.length - 1],binding));
    }
  }
  for (  String contextName : childContexts) {
    results.add(new Binding(contextName,new NamingContext(((Name)name.clone()).add(contextName),this,null)));
  }
  return results;
}
