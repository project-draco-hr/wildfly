{
  final DomainClient masterClient=domainMasterLifecycleUtil.getDomainClient();
  ModelNode serverAddTf=getAddThreadFactoryOperation(new ModelNode().add("host","master").add("server","main-one").add("subsystem","threads").add("thread-factory","test-pool-123abc"));
  ModelNode desc=validateFailedResponse(masterClient.execute(serverAddTf));
  String errorCode=getNotAuthorizedErrorCode();
  Assert.assertTrue(desc.toString() + " does not contain " + errorCode,desc.toString().contains(errorCode));
  ModelNode slaveThreeAddress=new ModelNode().add("host","slave").add("server","main-three").add("subsystem","threads").add("thread-factory","test-pool-123abc");
  serverAddTf=getAddThreadFactoryOperation(slaveThreeAddress);
  desc=validateFailedResponse(masterClient.execute(serverAddTf));
  Assert.assertTrue(desc.toString() + " does not contain " + errorCode,desc.toString().contains(errorCode));
}
