{
  if (deploymentHash == null) {
    File file=new File(serverEnvironment.getValue().getServerSystemDeployDir(),name);
    return VFS.mountZip(file,mountPoint,TempFileProviderService.provider());
  }
  String sha1=bytesToHexString(deploymentHash);
  String partA=sha1.substring(0,2);
  String partB=sha1.substring(2);
  File base=new File(repoRoot,partA);
  File hashDir=new File(base,partB);
  File content=new File(hashDir,CONTENT);
  if (name.endsWith("war")) {
    return VFS.mountZipExpanded(content,mountPoint,TempFileProviderService.provider());
  }
 else {
    return VFS.mountZip(content,mountPoint,TempFileProviderService.provider());
  }
}
