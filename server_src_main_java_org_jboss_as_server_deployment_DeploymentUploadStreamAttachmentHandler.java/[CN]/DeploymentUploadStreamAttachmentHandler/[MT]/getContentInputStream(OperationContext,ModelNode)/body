{
  streamValidator.validate(operation);
  int streamIndex=operation.get(INPUT_STREAM_INDEX).asInt();
  int maxIndex=operationContext.getInputStreams().size() - 1;
  if (streamIndex > maxIndex) {
    throw new OperationFailedException(new ModelNode().set(String.format("Invalid '" + INPUT_STREAM_INDEX + "' value: %s, the maximum index is %s",streamIndex,maxIndex)));
  }
  InputStream in=operationContext.getInputStreams().get(streamIndex);
  if (in == null) {
    throw new OperationFailedException(new ModelNode().set(String.format("Null stream at index %s",streamIndex)));
  }
  return in;
}
