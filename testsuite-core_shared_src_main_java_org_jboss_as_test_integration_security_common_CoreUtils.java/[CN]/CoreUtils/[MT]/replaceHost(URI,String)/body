{
  final String origHost=uri == null ? null : uri.getHost();
  final String newHost=NetworkUtils.formatPossibleIpv6Address(host);
  if (origHost == null || newHost == null || newHost.equals(origHost)) {
    return uri;
  }
  return new URI(uri.toString().replace(origHost,newHost));
}
