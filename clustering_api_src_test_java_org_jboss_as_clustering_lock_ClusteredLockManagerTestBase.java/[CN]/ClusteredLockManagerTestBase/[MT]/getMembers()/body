{
  TesteeSet<T> testeeSet=getTesteeSet(node1,1,2);
  T testee=testeeSet.impl;
  List<ClusterNode> members=testee.getCurrentView();
  assertEquals(2,members.size());
  assertEquals(node1,members.get(1));
  ClusterNode dead=members.get(0);
  assertFalse(node1.equals(dead));
  List<ClusterNode> newView=getView(node1,0,3);
  newView.remove(dead);
  List<ClusterNode> addedMembers=new ArrayList<ClusterNode>(newView);
  addedMembers.removeAll(members);
  List<ClusterNode> deadMembers=new ArrayList<ClusterNode>();
  deadMembers.add(dead);
  testee.membershipChanged(deadMembers,addedMembers,newView);
  members=testee.getCurrentView();
  assertEquals(2,members.size());
  assertEquals(node1,members.get(0));
  assertFalse(node1.equals(members.get(1)));
  assertFalse(members.contains(dead));
}
