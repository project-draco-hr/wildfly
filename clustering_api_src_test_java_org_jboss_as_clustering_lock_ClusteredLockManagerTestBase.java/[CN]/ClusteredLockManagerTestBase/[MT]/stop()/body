{
  TesteeSet<T> testeeSet=getTesteeSet(node1,0,1);
  T testee=testeeSet.impl;
  testee.stop();
  verify(testee.getGroupMembershipNotifier()).unregisterGroupMembershipListener(same(testee));
  verify(testee.getGroupRpcDispatcher()).unregisterRPCHandler(eq("test"),same(testeeSet.target));
  assertEquals("Current view is empty when stopped",0,testee.getCurrentView().size());
  try {
    testee.lock("id",1000);
    fail("Call to lock() should fail if stopped");
  }
 catch (  IllegalStateException good) {
  }
  try {
    testee.unlock("id");
    fail("Call to unlock() should fail if stopped");
  }
 catch (  IllegalStateException good) {
  }
}
