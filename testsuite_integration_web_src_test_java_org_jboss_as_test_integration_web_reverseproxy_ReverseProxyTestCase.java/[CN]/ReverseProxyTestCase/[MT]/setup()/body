{
  if (mc == null) {
    mc=managementClient;
    ModelNode op=new ModelNode();
    ModelNode addr=new ModelNode();
    addr.add(ModelDescriptionConstants.SUBSYSTEM,"undertow");
    addr.add("configuration","handler");
    addr.add("reverse-proxy","myproxy");
    op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
    op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
    ManagementOperations.executeOperation(managementClient.getControllerClient(),op);
    op=new ModelNode();
    addr=new ModelNode();
    addr.add(ModelDescriptionConstants.SUBSYSTEM,"undertow");
    addr.add("configuration","handler");
    addr.add("reverse-proxy","myproxy");
    addr.add("host",managementClient.getWebUri().toString() + "/server1");
    op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
    op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
    ManagementOperations.executeOperation(managementClient.getControllerClient(),op);
    op=new ModelNode();
    addr=new ModelNode();
    addr.add(ModelDescriptionConstants.SUBSYSTEM,"undertow");
    addr.add("configuration","handler");
    addr.add("reverse-proxy","myproxy");
    addr.add("host",managementClient.getWebUri().toString() + "/server2");
    op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
    op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
    ManagementOperations.executeOperation(managementClient.getControllerClient(),op);
    op=new ModelNode();
    addr=new ModelNode();
    addr.add(ModelDescriptionConstants.SUBSYSTEM,"undertow");
    addr.add("server","default-server");
    addr.add("host","default-host");
    addr.add("location","/proxy");
    op.get(ModelDescriptionConstants.OP_ADDR).set(addr);
    op.get("handler").set("myproxy");
    op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
    ManagementOperations.executeOperation(managementClient.getControllerClient(),op);
  }
}
