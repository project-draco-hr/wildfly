{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
  final JBossServiceXmlDescriptor serviceXmlDescriptor=deploymentUnit.getAttachment(JBossServiceXmlDescriptor.ATTACHMENT_KEY);
  if (serviceXmlDescriptor == null) {
    return;
  }
  moduleSpecification.addDependency(new ModuleDependency(Module.getSystemModuleLoader(),JBOSS_LOGGING_ID,false,false,false));
  moduleSpecification.addDependency(new ModuleDependency(Module.getSystemModuleLoader(),JBOSS_MODULES_ID,false,false,false));
}
