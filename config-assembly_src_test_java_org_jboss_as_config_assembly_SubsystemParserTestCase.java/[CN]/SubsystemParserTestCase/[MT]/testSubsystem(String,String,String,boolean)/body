{
  URL url=this.getClass().getResource(xml);
  Assert.assertNotNull(url);
  SubsystemParser subsystemParser=new SubsystemParser(null,supplement,new File(url.toURI()));
  subsystemParser.parse();
  Assert.assertNotNull(subsystemParser.getExtensionModule());
  Assert.assertEquals(extensionModule,subsystemParser.getExtensionModule());
  if (compareWithOriginal) {
    String marshalled=marshall(subsystemParser);
    Assert.assertEquals(normalizeXML(trimOriginalXml(url)),normalizeXML(marshalled));
  }
  return subsystemParser;
}
