{
  final ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(message);
  ObjectInputStream objectInputStream=null;
  try {
    objectInputStream=new ObjectInputStream(byteArrayInputStream);
    final ServerCommand serverCommand=(ServerCommand)objectInputStream.readObject();
    return serverCommand;
  }
  finally {
    if (objectInputStream != null)     objectInputStream.close();
  }
}
