{
  final ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(message);
  final Unmarshaller unmarshaller=MARSHALLER_FACTORY.createUnmarshaller(CONFIG);
  try {
    unmarshaller.start(Marshalling.createByteInput(byteArrayInputStream));
    final ServerCommand serverCommand=unmarshaller.readObject(ServerCommand.class);
    unmarshaller.finish();
    unmarshaller.close();
    return serverCommand;
  }
  finally {
    safeClose(unmarshaller);
  }
}
