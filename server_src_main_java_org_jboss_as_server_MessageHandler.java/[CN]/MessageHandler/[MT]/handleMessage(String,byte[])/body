{
  final ServerCommand serverCommand;
  try {
    serverCommand=readServerCommand(message);
  }
 catch (  Exception e) {
    throw new RuntimeException("Failed to read server command",e);
  }
  if (serverCommand == null)   throw new RuntimeException("Server command is null");
  if ("START".equals(serverCommand.getCommand())) {
    final Standalone standalone=(Standalone)serverCommand.getArgs()[0];
    try {
      server.start(standalone);
    }
 catch (    ServerStartException e) {
      throw new RuntimeException("Failed to start server",e);
    }
  }
 else   if ("STOP".equals(serverCommand.getCommand())) {
    server.stop();
  }
}
