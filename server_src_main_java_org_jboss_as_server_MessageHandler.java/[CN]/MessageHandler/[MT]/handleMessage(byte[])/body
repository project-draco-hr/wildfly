{
  final ServerCommand serverCommand;
  try {
    serverCommand=readServerCommand(message);
  }
 catch (  Exception e) {
    throw new RuntimeException("Failed to read server command",e);
  }
  if (serverCommand == null)   throw new RuntimeException("Server command is null");
switch (serverCommand.getCommand()) {
case START:
    final Standalone standalone=(Standalone)serverCommand.getArgs()[0];
  try {
    server.start(standalone);
  }
 catch (  ServerStartException e) {
    logger.error("Failed to start server",e);
  }
break;
case STOP:
server.stop();
break;
}
}
