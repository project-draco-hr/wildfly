{
  if (!domainOperationContext.isFailureReported() && context.hasFailureDescription()) {
    ModelNode formattedFailure=new ModelNode();
    if (isDomain) {
      ModelNode failure=context.getFailureDescription();
      if (failure.isDefined())       formattedFailure.get(DOMAIN_FAILURE_DESCRIPTION).set(failure);
 else       formattedFailure.get(DOMAIN_FAILURE_DESCRIPTION).set("Unexplained failure");
    }
 else {
      ModelNode hostFailureProperty=new ModelNode();
      ModelNode contextFailure=context.getFailureDescription();
      ModelNode hostFailure=contextFailure.isDefined() ? contextFailure : new ModelNode().set("Unexplained failure");
      hostFailureProperty.add(domainOperationContext.getLocalHostInfo().getLocalHostName(),hostFailure);
      formattedFailure.get(HOST_FAILURE_DESCRIPTIONS).set(hostFailureProperty);
    }
    context.getFailureDescription().set(formattedFailure);
    return true;
  }
  return false;
}
