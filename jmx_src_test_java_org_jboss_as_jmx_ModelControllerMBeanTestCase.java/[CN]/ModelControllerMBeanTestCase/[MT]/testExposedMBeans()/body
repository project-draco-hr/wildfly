{
  MBeanServerConnection connection=setupAndGetConnection(null);
  int count=connection.getMBeanCount();
  Set<ObjectInstance> instances=connection.queryMBeans(null,null);
  Set<ObjectName> objectNames=connection.queryNames(null,null);
  Assert.assertEquals(count,instances.size());
  Assert.assertEquals(count,objectNames.size());
  checkSameMBeans(instances,objectNames);
  assertContainsNames(objectNames,ROOT_NAME,INTERFACE_NAME,SOCKET_BINDING_GROUP_NAME,SERVER_SOCKET_BINDING_NAME,REGISTRY_SOCKET_BINDING_NAME,SUBSYSTEM_NAME);
  Set<ObjectInstance> filteredInstances=connection.queryMBeans(createObjectName(Constants.DOMAIN + ":socket-binding-group=*,*"),null);
  Set<ObjectName> filteredNames=connection.queryNames(createObjectName(Constants.DOMAIN + ":socket-binding-group=*,*"),null);
  Assert.assertEquals(3,filteredInstances.size());
  Assert.assertEquals(3,filteredNames.size());
  checkSameMBeans(filteredInstances,filteredNames);
  assertContainsNames(objectNames,SOCKET_BINDING_GROUP_NAME,SERVER_SOCKET_BINDING_NAME,REGISTRY_SOCKET_BINDING_NAME);
}
