{
  MBeanServerConnection connection=setupAndGetConnection(new BaseAdditionalInitialization(TYPE_STANDALONE));
  int count=connection.getMBeanCount();
  checkQueryMBeans(connection,count,null);
  checkQueryMBeans(connection,count,new ObjectName("*:*"));
  Set<ObjectInstance> filteredInstances=connection.queryMBeans(createObjectName(LEGACY_DOMAIN + ":socket-binding-group=*,*"),null);
  Set<ObjectName> filteredNames=connection.queryNames(createObjectName(LEGACY_DOMAIN + ":socket-binding-group=*,*"),null);
  Assert.assertEquals(2,filteredInstances.size());
  Assert.assertEquals(2,filteredNames.size());
  checkSameMBeans(filteredInstances,filteredNames);
  assertContainsNames(filteredNames,LEGACY_SOCKET_BINDING_GROUP_NAME,LEGACY_SERVER_SOCKET_BINDING_NAME);
  filteredInstances=connection.queryMBeans(createObjectName(EXPR_DOMAIN + ":socket-binding-group=*,*"),null);
  filteredNames=connection.queryNames(createObjectName(EXPR_DOMAIN + ":socket-binding-group=*,*"),null);
  Assert.assertEquals(2,filteredInstances.size());
  Assert.assertEquals(2,filteredNames.size());
  checkSameMBeans(filteredInstances,filteredNames);
  assertContainsNames(filteredNames,EXPR_SOCKET_BINDING_GROUP_NAME,EXPR_SERVER_SOCKET_BINDING_NAME);
}
