{
  Set<ObjectInstance> instances=connection.queryMBeans(filter,null);
  Set<ObjectName> objectNames=connection.queryNames(filter,null);
  Assert.assertEquals(count,instances.size());
  Assert.assertEquals(count,objectNames.size());
  checkSameMBeans(instances,objectNames);
  assertContainsNames(objectNames,LEGACY_ROOT_NAME,LEGACY_INTERFACE_NAME,LEGACY_SOCKET_BINDING_GROUP_NAME,LEGACY_SERVER_SOCKET_BINDING_NAME,LEGACY_SUBSYSTEM_NAME,EXPR_ROOT_NAME,EXPR_INTERFACE_NAME,EXPR_SOCKET_BINDING_GROUP_NAME,EXPR_SERVER_SOCKET_BINDING_NAME,EXPR_SUBSYSTEM_NAME);
}
