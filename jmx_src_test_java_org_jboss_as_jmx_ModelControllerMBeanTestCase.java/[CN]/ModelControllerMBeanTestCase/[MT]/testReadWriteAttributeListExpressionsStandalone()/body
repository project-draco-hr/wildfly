{
  MBeanServerConnection connection=setupAndGetConnection(new MBeanInfoAdditionalInitialization(TYPE_STANDALONE,new TestExtension(true)));
  ObjectName name=createObjectName(EXPR_DOMAIN + ":subsystem=test");
  String[] attrNames=new String[]{"roInt","int","bigint","bigdec","boolean","bytes","double","string","list","long","type"};
  AttributeList list=connection.getAttributes(name,attrNames);
  Assert.assertEquals(list.size(),attrNames.length);
  checkAttributeList(attrNames,list,"1","2","3","4","false",new byte[]{5,6},"7.0","8",Collections.singletonList("9"),"10","INT");
  list=new AttributeList();
  list.add(new Attribute("int","${should.not.exist!!!!!:102}"));
  list.add(new Attribute("bigint","${should.not.exist!!!!!:103}"));
  list.add(new Attribute("bigdec","${should.not.exist!!!!!:104}"));
  list.add(new Attribute("boolean","${should.not.exist!!!!!:true}"));
  list.add(new Attribute("bytes",new byte[]{105,106}));
  list.add(new Attribute("double","${should.not.exist!!!!!:107.0}"));
  list.add(new Attribute("string","${should.not.exist!!!!!:108}"));
  list.add(new Attribute("list",new String[]{"${should.not.exist!!!!!:109}"}));
  list.add(new Attribute("long","${should.not.exist!!!!!:110L}"));
  list.add(new Attribute("type","${should.not.exist!!!!!:STRING}"));
  connection.setAttributes(name,list);
  list=connection.getAttributes(name,attrNames);
  checkAttributeList(attrNames,list,"1","${should.not.exist!!!!!:102}","${should.not.exist!!!!!:103}","${should.not.exist!!!!!:104}","${should.not.exist!!!!!:true}",new byte[]{105,106},"${should.not.exist!!!!!:107.0}","${should.not.exist!!!!!:108}",Collections.singletonList("${should.not.exist!!!!!:109}"),"${should.not.exist!!!!!:110L}","${should.not.exist!!!!!:STRING}");
}
