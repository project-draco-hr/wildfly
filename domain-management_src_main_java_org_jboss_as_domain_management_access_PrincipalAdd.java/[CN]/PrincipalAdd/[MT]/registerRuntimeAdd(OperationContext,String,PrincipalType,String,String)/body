{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      if (roleMapper.addPrincipal(roleName,principalType,matchType,name,realm,context.isBooting())) {
        registerRollbackHandler(context,roleName,principalType,name,realm);
      }
 else {
        throw MESSAGES.inconsistentRbacRuntimeState();
      }
    }
  }
,Stage.RUNTIME);
}
