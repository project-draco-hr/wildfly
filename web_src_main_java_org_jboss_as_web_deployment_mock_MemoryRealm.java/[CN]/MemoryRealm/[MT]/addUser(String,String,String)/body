{
  ArrayList<String> list=new ArrayList<String>();
  roles+=",";
  while (true) {
    int comma=roles.indexOf(',');
    if (comma < 0)     break;
    String role=roles.substring(0,comma).trim();
    list.add(role);
    roles=roles.substring(comma + 1);
  }
  GenericPrincipal principal=new GenericPrincipal(this,username,password,list);
  principals.put(username,principal);
}
