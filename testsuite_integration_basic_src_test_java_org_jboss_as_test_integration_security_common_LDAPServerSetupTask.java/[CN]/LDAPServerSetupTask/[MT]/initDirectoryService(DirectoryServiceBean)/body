{
  LOGGER.info("Initializing the DirectoryService...");
  directoryService=ApacheDirectoryServiceBuilder.createDirectoryService(directoryServiceBean,instanceLayout,schemaManager);
  SchemaPartition schemaPartition=new SchemaPartition(schemaManager);
  schemaPartition.setWrappedPartition(schemaLdifPartition);
  directoryService.setSchemaPartition(schemaPartition);
  directoryService.addPartition(configPartition);
  directoryService.setInstanceLayout(instanceLayout);
  configureDirectoryService();
  directoryService.startup();
  AttributeType ocAt=schemaManager.lookupAttributeTypeRegistry(SchemaConstants.OBJECT_CLASS_AT);
  MANDATORY_ENTRY_ATOP_MAP.put(ocAt.getName(),new AttributeTypeOptions(ocAt));
  AttributeType uuidAt=schemaManager.lookupAttributeTypeRegistry(SchemaConstants.ENTRY_UUID_AT);
  MANDATORY_ENTRY_ATOP_MAP.put(uuidAt.getName(),new AttributeTypeOptions(uuidAt));
  AttributeType csnAt=schemaManager.lookupAttributeTypeRegistry(SchemaConstants.ENTRY_CSN_AT);
  MANDATORY_ENTRY_ATOP_MAP.put(csnAt.getName(),new AttributeTypeOptions(csnAt));
  AttributeType creatorAt=schemaManager.lookupAttributeTypeRegistry(SchemaConstants.CREATORS_NAME_AT);
  MANDATORY_ENTRY_ATOP_MAP.put(creatorAt.getName(),new AttributeTypeOptions(creatorAt));
  AttributeType createdTimeAt=schemaManager.lookupAttributeTypeRegistry(SchemaConstants.CREATE_TIMESTAMP_AT);
  MANDATORY_ENTRY_ATOP_MAP.put(createdTimeAt.getName(),new AttributeTypeOptions(createdTimeAt));
  if (isConfigPartitionFirstExtraction) {
    LOGGER.info("begining to update config partition LDIF files after modifying manadatory attributes");
    configPartition.setEnableRewriting(false);
    updateMandatoryOpAttributes(configPartition);
    configPartition.setEnableRewriting(true);
    LOGGER.info("config partition data was successfully updated");
  }
  if (isSchemaPartitionFirstExtraction) {
    LOGGER.info("begining to update schema partition LDIF files after modifying manadatory attributes");
    updateMandatoryOpAttributes(schemaLdifPartition);
    LOGGER.info("schema partition data was successfully updated");
  }
  LOGGER.info("DirectoryService initialized");
}
