{
  Set<String> stringHashes=new HashSet<String>();
  for (  byte[] b : hashes) {
    stringHashes.add(HashUtil.bytesToHexString(b));
  }
  final File root=getRepoRoot();
  for (  String top : root.list()) {
    if (top.length() == 2) {
      final File topDir=new File(root,top);
      if (topDir.isDirectory()) {
        for (        String inner : topDir.list()) {
          if (!stringHashes.contains(top + inner)) {
            final File staleDeployment=new File(topDir,inner);
            deleteFileRecursively(staleDeployment);
            if (topDir.list().length == 0) {
              topDir.delete();
            }
          }
        }
      }
    }
  }
}
