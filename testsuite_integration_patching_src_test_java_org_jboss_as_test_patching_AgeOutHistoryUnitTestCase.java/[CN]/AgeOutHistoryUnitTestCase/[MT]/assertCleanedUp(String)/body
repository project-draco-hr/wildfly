{
  final File base=newFile(PatchingTestUtil.BASE_MODULE_DIRECTORY,"system","layers","base");
  final File overlays=new File(base,".overlays");
  for (  final String patch : patches) {
    final File overlay=new File(overlays,patch);
    Assert.assertFalse(overlay.exists());
  }
  final File installation=newFile(ROOT,".installation","patches");
  for (  final String patch : patches) {
    final File history=new File(installation,patch);
    Assert.assertTrue(history.exists());
    Assert.assertTrue(newFile(history,"patch.xml").exists());
    Assert.assertTrue(newFile(history,"rollback.xml").exists());
    Assert.assertEquals(2,history.list().length);
  }
}
