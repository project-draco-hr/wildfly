{
  final ModelNode response=readHistory(client);
  assertTrue(response.has("outcome"));
  assertEquals("success",response.get("outcome").asString());
  assertTrue(response.has("result"));
  final List<ModelNode> list=response.get("result").asList();
  if (ids == null || ids.length == 0) {
    assertTrue(list.isEmpty());
  }
 else {
    assertEquals(list.toString(),ids.length,list.size());
    for (int i=0; i < ids.length; ++i) {
      final ModelNode patch=list.get(i);
      assertEquals(ids[i],patch.get("patch-id").asString());
      final String type=isCumulative[i] ? Patch.PatchType.CUMULATIVE.getName() : Patch.PatchType.ONE_OFF.getName();
      assertEquals(type,patch.get("type").asString());
    }
  }
}
