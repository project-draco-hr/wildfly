{
  ModelNode server=sessionData.get(name);
  boolean credentials=server.hasDefined(ModelKeys.CREDENTIALS);
  if (credentials) {
    writer.writeStartElement(Element.forName(name).getLocalName());
  }
 else {
    writer.writeEmptyElement(Element.forName(name).getLocalName());
  }
  writer.writeAttribute(Attribute.SERVER_ADDRESS.getLocalName(),server.get(ModelKeys.SERVER_ADDRESS).asString());
  writer.writeAttribute(Attribute.SERVER_PORT.getLocalName(),server.get(ModelKeys.SERVER_PORT).asString());
  if (credentials) {
    writer.writeEmptyElement(Element.LOGIN.getLocalName());
    writer.writeAttribute(Attribute.USERNAME.getLocalName(),server.get(ModelKeys.CREDENTIALS).get(ModelKeys.USERNAME).asString());
    writer.writeAttribute(Attribute.PASSWORD.getLocalName(),server.get(ModelKeys.CREDENTIALS).get(ModelKeys.PASSWORD).asString());
    writer.writeEndElement();
  }
}
