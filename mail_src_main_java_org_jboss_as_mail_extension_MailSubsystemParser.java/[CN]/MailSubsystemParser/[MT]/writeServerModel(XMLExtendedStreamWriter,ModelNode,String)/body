{
  ModelNode server=sessionData.get(name);
  boolean credentials=server.hasDefined(ModelKeys.CREDENTIALS);
  if (credentials) {
    writer.writeStartElement(Element.forName(name).getLocalName());
  }
 else {
    writer.writeEmptyElement(Element.forName(name).getLocalName());
  }
  boolean sslDefined=server.get(ModelKeys.SSL).asBoolean(false);
  if (sslDefined) {
    writer.writeAttribute(Attribute.SSL.getLocalName(),server.get(ModelKeys.SSL).asString());
  }
  writer.writeAttribute(Attribute.OUTBOUND_SOCKET_BINDING_REF.getLocalName(),server.get(ModelKeys.OUTBOUND_SOCKET_BINDING_REF).asString());
  if (credentials) {
    writer.writeEmptyElement(Element.LOGIN.getLocalName());
    writer.writeAttribute(Attribute.USERNAME.getLocalName(),server.get(ModelKeys.CREDENTIALS).get(ModelKeys.USERNAME).asString());
    writer.writeAttribute(Attribute.PASSWORD.getLocalName(),server.get(ModelKeys.CREDENTIALS).get(ModelKeys.PASSWORD).asString());
    writer.writeEndElement();
  }
}
