{
  try {
    log.info("Starting Domain Controller");
    if (configPersister == null) {
      configPersister=new DomainConfigurationPersisterImpl(getDomainConfigDir());
    }
    if (deploymentRepository == null) {
      deploymentRepository=new DomainDeploymentRepository(getDomainDeploymentsDir());
    }
    log.info("Parsing Domain Configuration");
    domainModel=parseDomain(xmlMapper.getValue());
    deploymentPlanHandler=new DomainDeploymentHandler(this,scheduledExecutorService.getValue());
    pollingFuture=scheduledExecutorService.getValue().scheduleAtFixedRate(new Runnable(){
      public void run(){
        for (        ServerManagerClient client : clients.values()) {
          if (!client.isActive()) {
            log.warnf("Registered Server Manager [%s] is no longer active",client.getId());
          }
        }
      }
    }
,30L,30L,TimeUnit.SECONDS);
  }
 catch (  IllegalStateException e) {
    throw new StartException("Failed to start " + getClass().getSimpleName(),e);
  }
}
