{
  ServerStatus status=restartServer(server.getHostName(),server.getServerName(),gracefulTimeout);
switch (status) {
case STARTED:
case STARTING:
    return UpdateResultHandlerResponse.createRestartResponse();
default :
{
    UpdateFailedException ufe=new UpdateFailedException("Server " + server + " did not restart. Server status is "+ status);
    return UpdateResultHandlerResponse.createFailureResponse(ufe);
  }
}
}
