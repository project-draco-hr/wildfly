{
  KernelServices kernelServices=createEmptyRoot();
  ModelNode read=Util.createOperation(READ_ATTRIBUTE_OPERATION,PathAddress.EMPTY_ADDRESS);
  read.get(NAME).set(NAME);
  ModelNode originalName=kernelServices.executeForResult(read);
  ModelNode write=Util.createOperation(WRITE_ATTRIBUTE_OPERATION,PathAddress.EMPTY_ADDRESS);
  write.get(NAME).set(NAME);
  write.get(VALUE).set("test");
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(write));
  Assert.assertEquals("test",kernelServices.executeForResult(read).asString());
  write.get(VALUE).set(new ModelNode());
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(write));
  Assert.assertEquals(originalName,kernelServices.executeForResult(read));
}
