{
  cliOut.reset();
  final CommandContext ctx=CLITestUtil.getCommandContext(cliOut);
  try {
    ctx.connectController();
    ctx.handle("try");
    ctx.handle(this.getAddPropertyReq("try"));
    ctx.handle("finally");
    ctx.handle(this.getWritePropertyReq("finally"));
    ctx.handle("end-try");
    cliOut.reset();
    ctx.handle(getReadPropertyReq());
    assertEquals("finally",getValue());
  }
  finally {
    ctx.handleSafe(getRemovePropertyReq());
    ctx.terminateSession();
    cliOut.reset();
  }
}
