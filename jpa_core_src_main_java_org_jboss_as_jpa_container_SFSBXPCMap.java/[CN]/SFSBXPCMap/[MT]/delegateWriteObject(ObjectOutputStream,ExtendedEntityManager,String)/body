{
  boolean isPassivating=false;
  SFSBXPCMap sfsbxpcMap=SFSBXPCMap.getXpcMap(puScopedName);
  List<SFSBContextHandle> sfsbList=sfsbxpcMap.getSFSBList(extendedEntityManager);
  ROOT_LOGGER.tracef("starting serializing of %d SFSBXPCMap entries",sfsbList.size());
  out.writeInt(sfsbList.size());
  for (  SFSBContextHandle sfsbContextHandle : sfsbList) {
    out.writeObject(sfsbContextHandle.getSerializable());
    ROOT_LOGGER.tracef("serialized SFSBXPCMap entry %s",sfsbContextHandle.getSerializable().toString());
  }
  if (isPassivating) {
    sfsbList=sfsbxpcMap.getSFSBList(extendedEntityManager);
    if (sfsbList != null) {
      for (      SFSBContextHandle sfsbContextHandle : sfsbList) {
        Set XPCSet=sfsbxpcMap.contextToXPCMap.get(sfsbContextHandle);
        if (XPCSet != null) {
          XPCSet.remove(extendedEntityManager);
        }
      }
      sfsbxpcMap.XPCToContextMap.remove(extendedEntityManager);
    }
  }
}
