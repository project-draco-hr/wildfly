{
  if (!hostControllerInfo.isMasterDomainController()) {
    throw new UnsupportedOperationException("Registration of remote hosts is not supported on slave host controllers");
  }
  PathAddress pa=hostControllerClient.getProxyNodeAddress();
  PathElement pe=pa.getElement(0);
  ProxyController existingController=modelNodeRegistration.getProxyController(pa);
  if (existingController != null || hostControllerInfo.getLocalHostName().equals(pe.getValue())) {
    if ((existingController instanceof RemoteProxyController)) {
      if (((RemoteProxyController)existingController).ping(3000)) {
        throw new IllegalArgumentException("There is already a registered host named '" + pe.getValue() + "'");
      }
      unregisterRemoteHost(pe.getValue());
    }
  }
  modelNodeRegistration.registerProxyController(pe,hostControllerClient);
  hostProxies.put(pe.getValue(),hostControllerClient);
  Logger.getLogger("org.jboss.domain").info("Registered remote slave host " + pe.getValue());
}
