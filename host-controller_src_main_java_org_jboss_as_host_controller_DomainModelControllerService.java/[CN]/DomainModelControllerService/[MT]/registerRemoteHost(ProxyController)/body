{
  if (!hostControllerInfo.isMasterDomainController()) {
    throw SlaveRegistrationException.forHostIsNotMaster();
  }
  if (runningModeControl.getRunningMode() == RunningMode.ADMIN_ONLY) {
    throw SlaveRegistrationException.forMasterInAdminOnlyMode(runningModeControl.getRunningMode());
  }
  PathAddress pa=hostControllerClient.getProxyNodeAddress();
  PathElement pe=pa.getElement(0);
  ProxyController existingController=modelNodeRegistration.getProxyController(pa);
  if (existingController != null || hostControllerInfo.getLocalHostName().equals(pe.getValue())) {
    throw SlaveRegistrationException.forHostAlreadyExists(pe.getValue());
  }
  modelNodeRegistration.registerProxyController(pe,hostControllerClient);
  hostProxies.put(pe.getValue(),hostControllerClient);
  DOMAIN_LOGGER.registeredRemoteSlaveHost(pe.getValue());
}
