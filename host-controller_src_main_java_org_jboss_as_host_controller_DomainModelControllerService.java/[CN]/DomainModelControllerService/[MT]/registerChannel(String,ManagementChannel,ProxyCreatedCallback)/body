{
  PathAddress addr=PathAddress.pathAddress(PathElement.pathElement(HOST,hostName));
  if (modelNodeRegistration.getProxyController(addr) != null) {
    throw new IllegalArgumentException("There is already a registered slave named '" + hostName + "'");
  }
  if (unregisteredHostChannels.containsKey(hostName)) {
    throw new IllegalArgumentException("Already have a connection for host " + hostName);
  }
  unregisteredHostChannels.put(hostName,channel);
  proxyCreatedCallbacks.put(hostName,callback);
  channel.addCloseHandler(new CloseHandler<Channel>(){
    public void handleClose(    final Channel closed,    final IOException exception){
      unregisteredHostChannels.remove(hostName);
      proxyCreatedCallbacks.remove(hostName);
    }
  }
);
}
