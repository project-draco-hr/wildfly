{
  if (!hostControllerInfo.isMasterDomainController()) {
    throw new UnsupportedOperationException("Registration of remote hosts is not supported on slave host controllers");
  }
  PathAddress pa=hostControllerClient.getProxyNodeAddress();
  PathElement pe=pa.getElement(0);
  Logger.getLogger("org.jboss.domain").info("Registering host " + pe.getValue());
  if (modelNodeRegistration.getProxyController(pa) != null || hostControllerInfo.getLocalHostName().equals(pe.getValue())) {
    throw new IllegalArgumentException("There is already a registered host named '" + pe.getValue() + "'");
  }
  modelNodeRegistration.registerProxyController(pe,hostControllerClient);
  hostProxies.put(pe.getValue(),hostControllerClient);
}
