{
  if (stateValues.isSilentOrNonInteractive() == false) {
    if (rePrompt == false) {
      theConsole.printf(MESSAGES.passwordPrompt());
      char[] tempChar=theConsole.readPassword(" : ");
      if (tempChar == null || tempChar.length == 0) {
        return new ErrorState(theConsole,MESSAGES.noPasswordExiting());
      }
      stateValues.setPassword(tempChar);
      return new ValidatePasswordState(theConsole,stateValues);
    }
 else {
      theConsole.printf(MESSAGES.passwordConfirmationPrompt());
      char[] secondTempChar=theConsole.readPassword(" : ");
      if (secondTempChar == null) {
        secondTempChar=new char[0];
      }
      if (Arrays.equals(stateValues.getPassword(),secondTempChar) == false) {
        return new ErrorState(theConsole,MESSAGES.passwordMisMatch(),new PromptPasswordState(theConsole,stateValues,false));
      }
      return stateValues.groupPropertiesFound() ? new PromptGroupsState(theConsole,stateValues) : new PreModificationState(theConsole,stateValues);
    }
  }
  return new ValidatePasswordState(theConsole,stateValues);
}
