{
  StringBuilder illegalServers=null;
  for (  ServerElement server : hostModel.getServers()) {
    if (serverGroupName.equals(server.getServerGroup())) {
      if (illegalServers == null) {
        illegalServers=new StringBuilder(server.getName());
      }
 else {
        illegalServers.append(", ");
        illegalServers.append(server.getName());
      }
    }
  }
  if (illegalServers != null) {
    throw new UpdateFailedException(String.format("Cannot remove server group %s as it still has member servers %s",serverGroupName,illegalServers.toString()));
  }
  return Collections.emptyList();
}
