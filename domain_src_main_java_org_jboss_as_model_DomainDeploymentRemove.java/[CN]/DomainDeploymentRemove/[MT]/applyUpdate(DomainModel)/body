{
  Set<String> mappings=element.getServerGroupDeploymentsMappings(uniqueName);
  if (mappings.size() > 0) {
    Iterator<String> iter=mappings.iterator();
    StringBuffer sb=new StringBuffer(iter.next());
    while (iter.hasNext()) {
      sb.append(", ");
      sb.append(iter.next());
    }
    throw new UpdateFailedException("Deployment " + uniqueName + " cannot be removed as it is mapped to server groups "+ sb.toString());
  }
  if (!element.removeDeployment(uniqueName)) {
    throw new UpdateFailedException("Deployment '" + uniqueName + "' is not configured");
  }
}
