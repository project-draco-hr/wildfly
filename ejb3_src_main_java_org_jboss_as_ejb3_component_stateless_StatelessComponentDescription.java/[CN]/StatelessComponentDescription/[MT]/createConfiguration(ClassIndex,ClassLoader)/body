{
  final ComponentConfiguration statelessComponentConfiguration=new ComponentConfiguration(this,classIndex,moduleClassLoder);
  statelessComponentConfiguration.setComponentCreateServiceFactory(new StatelessComponentCreateServiceFactory());
  final StatelessComponentDescription statelessComponentDescription=(StatelessComponentDescription)statelessComponentConfiguration.getComponentDescription();
  statelessComponentConfiguration.getCreateDependencies().add(new PoolInjectingConfigurator(statelessComponentDescription));
  if (TransactionManagementType.BEAN.equals(this.getTransactionManagementType())) {
    getConfigurators().add(new ComponentConfigurator(){
      @Override public void configure(      final DeploymentPhaseContext context,      final ComponentDescription description,      final ComponentConfiguration configuration) throws DeploymentUnitProcessingException {
        configuration.addComponentInterceptor(EjbBMTInterceptor.FACTORY,InterceptorOrder.Component.BMT_TRANSACTION_INTERCEPTOR,false);
      }
    }
);
  }
  getConfigurators().add(new ComponentConfigurator(){
    @Override public void configure(    final DeploymentPhaseContext context,    final ComponentDescription description,    final ComponentConfiguration configuration) throws DeploymentUnitProcessingException {
      if (TransactionManagementType.CONTAINER.equals(getTransactionManagementType())) {
        configuration.addTimeoutViewInterceptor(TimerCMTTxInterceptor.FACTORY,InterceptorOrder.View.CMT_TRANSACTION_INTERCEPTOR);
      }
      configuration.addTimeoutViewInterceptor(StatelessComponentInstanceAssociatingFactory.instance(),InterceptorOrder.View.ASSOCIATING_INTERCEPTOR);
    }
  }
);
  return statelessComponentConfiguration;
}
