{
  String objectStoreDir=pathInjector.getValue();
  final ObjectStoreEnvironmentBean defaultActionStoreObjectStoreEnvironmentBean=BeanPopulator.getNamedInstance(ObjectStoreEnvironmentBean.class,"default");
  if (useHornetqJournalStore) {
    HornetqJournalEnvironmentBean hornetqJournalEnvironmentBean=BeanPopulator.getDefaultInstance(com.arjuna.ats.internal.arjuna.objectstore.hornetq.HornetqJournalEnvironmentBean.class);
    hornetqJournalEnvironmentBean.setStoreDir(objectStoreDir + "/HornetqObjectStore");
    defaultActionStoreObjectStoreEnvironmentBean.setObjectStoreType("com.arjuna.ats.internal.arjuna.objectstore.hornetq.HornetqObjectStoreAdaptor");
  }
 else {
    defaultActionStoreObjectStoreEnvironmentBean.setObjectStoreDir(objectStoreDir);
  }
  final ObjectStoreEnvironmentBean stateStoreObjectStoreEnvironmentBean=BeanPopulator.getNamedInstance(ObjectStoreEnvironmentBean.class,"stateStore");
  stateStoreObjectStoreEnvironmentBean.setObjectStoreDir(objectStoreDir);
  final ObjectStoreEnvironmentBean communicationStoreObjectStoreEnvironmentBean=BeanPopulator.getNamedInstance(ObjectStoreEnvironmentBean.class,"communicationStore");
  communicationStoreObjectStoreEnvironmentBean.setObjectStoreDir(objectStoreDir);
}
