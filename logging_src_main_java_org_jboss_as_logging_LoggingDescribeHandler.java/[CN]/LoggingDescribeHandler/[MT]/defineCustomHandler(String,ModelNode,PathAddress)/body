{
  ModelNode add=Util.getEmptyOperation(ADD,rootAddress.append(PathElement.pathElement(CUSTOM_HANDLER,name)).toModelNode());
  if (handler.hasDefined(ENCODING)) {
    add.get(ENCODING).set(handler.get(ENCODING));
  }
  if (handler.hasDefined(FORMATTER)) {
    add.get(FORMATTER).set(handler.get(FORMATTER));
  }
  if (handler.hasDefined(LEVEL)) {
    add.get(LEVEL).set(handler.get(LEVEL));
  }
  if (handler.hasDefined(QUEUE_LENGTH)) {
    add.get(QUEUE_LENGTH).set(handler.get(QUEUE_LENGTH));
  }
  if (handler.hasDefined(CLASS)) {
    add.get(CLASS).set(handler.get(CLASS));
  }
  if (handler.hasDefined(MODULE)) {
    add.get(MODULE).set(handler.get(MODULE));
  }
  if (handler.hasDefined(PROPERTIES)) {
    add.get(PROPERTIES).set(handler.get(PROPERTIES));
  }
  return add;
}
