{
  if (this.isLifecycleCallbackInvocation() && !this.isSingletonBeanInvocation()) {
    throw MESSAGES.failToCreateTimerDoLifecycle();
  }
  if (initialExpiration == null) {
    throw MESSAGES.initialExpirationIsNull();
  }
  if (intervalDuration < 0) {
    throw MESSAGES.invalidIntervalDuration();
  }
  UUID uuid=UUID.randomUUID();
  TimerImpl timer=new TimerImpl(uuid.toString(),this,initialExpiration,intervalDuration,info,persistent,currentPrimaryKey(),TimerState.CREATED);
  this.startTimer(timer);
  this.addTimer(timer);
  this.persistTimer(timer);
  return timer;
}
