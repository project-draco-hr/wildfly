{
  if (!transactionActive()) {
    timer.setTimerState(TimerState.ACTIVE);
    timer.scheduleTimeout();
  }
 else {
    registerTimerWithTx(timer);
  }
  this.persistTimer(timer);
}
