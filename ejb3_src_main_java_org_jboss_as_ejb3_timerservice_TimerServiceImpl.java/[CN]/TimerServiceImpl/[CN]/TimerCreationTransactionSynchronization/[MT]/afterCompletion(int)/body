{
  if (this.timer.persistent) {
synchronized (TimerServiceImpl.this.persistentWaitingOnTxCompletionTimers) {
      TimerServiceImpl.this.persistentWaitingOnTxCompletionTimers.remove(this.timer.getTimerHandle());
    }
  }
  if (status == Status.STATUS_COMMITTED) {
    logger.debug("commit timer creation: " + this.timer);
    TimerState timerState=this.timer.getState();
switch (timerState) {
case ACTIVE:
      this.timer.scheduleTimeout();
    break;
}
}
 else if (status == Status.STATUS_ROLLEDBACK) {
logger.debug("Rolling back timer creation: " + this.timer);
TimerState timerState=this.timer.getState();
switch (timerState) {
case ACTIVE:
  if (this.timer.isPersistent()) {
    timerPersistence.removeTimer(this.timer.getPersistentState());
  }
this.timer.setTimerState(TimerState.CANCELED);
break;
}
}
}
