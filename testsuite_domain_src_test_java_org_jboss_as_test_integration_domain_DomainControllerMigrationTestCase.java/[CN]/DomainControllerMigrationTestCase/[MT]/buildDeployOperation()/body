{
  ModelNode addDeploymentOp=new ModelNode();
  addDeploymentOp.get(ModelDescriptionConstants.ADDRESS).add("deployment","SimpleServlet.war");
  addDeploymentOp.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  addDeploymentOp.get("content").get(0).get("input-stream-index").set(0);
  addDeploymentOp.get(ModelDescriptionConstants.RUNTIME_NAME).set(DEPLOYMENT_NAME);
  ModelNode deployOp=new ModelNode();
  deployOp.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.ADD);
  deployOp.get(ModelDescriptionConstants.ADDRESS).add(ModelDescriptionConstants.SERVER_GROUP,"main-server-group");
  deployOp.get(ModelDescriptionConstants.ADDRESS).add(ModelDescriptionConstants.DEPLOYMENT,DEPLOYMENT_NAME);
  deployOp.get(ModelDescriptionConstants.ENABLED).set(true);
  ModelNode[] steps=new ModelNode[2];
  steps[0]=addDeploymentOp;
  steps[1]=deployOp;
  ModelNode compositeOp=ModelUtil.createCompositeNode(steps);
  OperationBuilder ob=new OperationBuilder(compositeOp,true);
  ob.addInputStream(new FileInputStream(warFile));
  return ob.build();
}
