{
  int cpuCount=Runtime.getRuntime().availableProcessors();
  int defaultThreads=cpuCount * 2;
  String maxThreads=SecurityActions.getSystemProperty(BOOTSTRAP_MAX_THREADS);
  if (maxThreads != null && maxThreads.length() > 0) {
    try {
      int max=Integer.decode(maxThreads);
      defaultThreads=Math.min(max,defaultThreads);
    }
 catch (    NumberFormatException ex) {
      log.warnf(ex,"Failed to parse property(%s), value(%s) as an integer",BOOTSTRAP_MAX_THREADS,maxThreads);
    }
  }
  return defaultThreads;
}
