{
  int cpuCount=Runtime.getRuntime().availableProcessors();
  int defaultThreads=cpuCount * 2;
  String maxThreads=WildFlySecurityManager.getPropertyPrivileged(BOOTSTRAP_MAX_THREADS,null);
  if (maxThreads != null && maxThreads.length() > 0) {
    try {
      int max=Integer.decode(maxThreads);
      defaultThreads=Math.max(max,1);
    }
 catch (    NumberFormatException ex) {
      ServerLogger.ROOT_LOGGER.failedToParseCommandLineInteger(BOOTSTRAP_MAX_THREADS,maxThreads);
    }
  }
  return defaultThreads;
}
