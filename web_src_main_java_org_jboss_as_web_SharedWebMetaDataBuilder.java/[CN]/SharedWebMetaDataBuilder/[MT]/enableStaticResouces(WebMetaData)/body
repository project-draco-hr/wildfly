{
  final WebStaticResourcesElement resourcesConfig=containerConfig.getStaticResources();
  if (resourcesConfig != null && resourcesConfig.isDisabled()) {
    return;
  }
  final ServletMetaData servlet=new ServletMetaData();
  servlet.setName("DefaultServlet");
  servlet.setLoadOnStartup("" + 1);
  if (resourcesConfig != null && resourcesConfig.isWebDav() != null && Boolean.TRUE.equals(resourcesConfig.isWebDav())) {
    servlet.setServletClass("org.apache.catalina.servlets.WebdavServlet");
  }
 else {
    servlet.setServletClass("org.apache.catalina.servlets.DefaultServlet");
  }
  final List<ParamValueMetaData> initParams=new ArrayList<ParamValueMetaData>();
  if (resourcesConfig != null && resourcesConfig.isDisabled() != null)   initParams.add(createParameter("listings",String.valueOf(resourcesConfig.isListings())));
 else   initParams.add(createParameter("listings","false"));
  if (resourcesConfig != null && resourcesConfig.isReadOnly() != null)   initParams.add(createParameter("readonly",String.valueOf(resourcesConfig.isReadOnly())));
 else   initParams.add(createParameter("readonly","true"));
  if (resourcesConfig != null && resourcesConfig.getSendfileSize() != null)   initParams.add(createParameter("sendfile",String.valueOf(resourcesConfig.getSendfileSize())));
 else   initParams.add(createParameter("sendfile","49152"));
  if (resourcesConfig != null && resourcesConfig.getFileEncoding() != null)   initParams.add(createParameter("file-encoding",String.valueOf(resourcesConfig.getFileEncoding())));
  if (resourcesConfig != null && resourcesConfig.getSecret() != null)   initParams.add(createParameter("secret",String.valueOf(resourcesConfig.getSecret())));
  if (resourcesConfig != null && resourcesConfig.getMaxDepth() != null)   initParams.add(createParameter("max-depth",String.valueOf(resourcesConfig.getMaxDepth())));
 else   initParams.add(createParameter("max-depth","3"));
  servlet.setInitParam(initParams);
  metadata.getServlets().add(servlet);
  addServletMapping("DefaultServlet",metadata,"/");
}
