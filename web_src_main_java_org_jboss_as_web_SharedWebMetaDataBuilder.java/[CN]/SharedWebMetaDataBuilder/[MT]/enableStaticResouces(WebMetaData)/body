{
  final ModelNode resourcesConfig=containerConfig.get(STATIC_RESOURCES);
  if (resourcesConfig.has(DISABLED) && resourcesConfig.get(DISABLED).asBoolean()) {
    return;
  }
  final ServletMetaData servlet=new ServletMetaData();
  servlet.setName("default");
  servlet.setLoadOnStartup("" + 1);
  if (resourcesConfig.has(WEBDAV) && resourcesConfig.get(WEBDAV).asBoolean()) {
    servlet.setServletClass("org.apache.catalina.servlets.WebdavServlet");
  }
 else {
    servlet.setServletClass("org.apache.catalina.servlets.DefaultServlet");
  }
  final List<ParamValueMetaData> initParams=new ArrayList<ParamValueMetaData>();
  if (resourcesConfig.has(LISTINGS)) {
    initParams.add(createParameter("listings",resourcesConfig.get(LISTINGS).asString()));
  }
 else {
    initParams.add(createParameter("listings","false"));
  }
  if (resourcesConfig.has(READ_ONLY)) {
    initParams.add(createParameter("readonly",resourcesConfig.get(READ_ONLY).asString()));
  }
 else {
    initParams.add(createParameter("readonly","true"));
  }
  if (resourcesConfig.has(SENDFILE)) {
    initParams.add(createParameter("sendfile",resourcesConfig.get(SENDFILE).asString()));
  }
 else {
    initParams.add(createParameter("sendfile","49152"));
  }
  if (resourcesConfig.has(FILE_ENCONDING)) {
    initParams.add(createParameter("file-encoding",resourcesConfig.get(FILE_ENCONDING).asString()));
  }
  if (resourcesConfig.has(SECRET)) {
    initParams.add(createParameter("secret",resourcesConfig.get(SECRET).asString()));
  }
  if (resourcesConfig.has(MAX_DEPTH)) {
    initParams.add(createParameter("max-depth",resourcesConfig.get(MAX_DEPTH).asString()));
  }
 else {
    initParams.add(createParameter("max-depth","3"));
  }
  servlet.setInitParam(initParams);
  metadata.getServlets().add(servlet);
  addServletMapping("default",metadata,"/");
}
