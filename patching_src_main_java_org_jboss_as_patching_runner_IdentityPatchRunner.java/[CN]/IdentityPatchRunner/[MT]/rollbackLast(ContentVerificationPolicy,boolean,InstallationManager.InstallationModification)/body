{
  String patchId;
  final List<String> oneOffs=modification.getPatchIDs();
  if (oneOffs.isEmpty()) {
    patchId=modification.getCumulativePatchID();
    if (patchId == null || Constants.NOT_PATCHED.equals(patchId)) {
      throw PatchMessages.MESSAGES.noPatchesApplied();
    }
  }
 else {
    patchId=oneOffs.get(oneOffs.size() - 1);
  }
  return rollbackPatch(patchId,contentPolicy,false,resetConfiguration,modification);
}
