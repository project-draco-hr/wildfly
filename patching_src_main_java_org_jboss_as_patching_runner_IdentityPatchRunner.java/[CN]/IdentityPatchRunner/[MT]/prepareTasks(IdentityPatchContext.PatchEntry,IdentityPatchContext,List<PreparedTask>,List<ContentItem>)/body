{
  for (  final PatchingTasks.ContentTaskDefinition definition : entry.getModifications().values()) {
    final PatchingTask task=createTask(definition,context,entry);
    try {
      if (!task.prepare(entry) || definition.hasConflicts()) {
        final ContentItem item=task.getContentItem();
        if (!context.isIgnored(item)) {
          conflicts.add(item);
        }
      }
      tasks.add(new PreparedTask(task,entry));
    }
 catch (    IOException e) {
      throw new PatchingException(e);
    }
  }
}
