{
  final String stateId=ctx.getState().getId();
  if (ArgumentValueState.ID.equals(stateId)) {
    if (currentState != null) {
      if (stack == null) {
        stack=new ArrayDeque<ValueState>();
      }
      stack.push(currentState);
      currentState=new DefaultValueState(currentState instanceof ListValueState);
    }
 else {
      currentState=new DefaultValueState(false);
    }
  }
 else   if (ListState.ID.equals(stateId)) {
    if (currentState != null) {
      if (stack == null) {
        stack=new ArrayDeque<ValueState>();
      }
      stack.push(currentState);
    }
    currentState=new ListValueState();
  }
 else   if (ListItemSeparatorState.ID.equals(stateId)) {
    currentState.itemSeparator();
  }
 else   if (NameValueSeparatorState.ID.equals(stateId)) {
    currentState.nameSeparator();
  }
}
