{
  ModelNode result;
  try {
    result=controller.execute(operation,new OperationMessageHandlerProxy(getChannel(),executionId),NewModelController.OperationTransactionControl.COMMIT,new OperationAttachmentsProxy(getChannel(),executionId,attachmentsLength));
  }
 catch (  Exception e) {
    final ModelNode failure=new ModelNode();
    failure.get(OUTCOME).set(FAILED);
    failure.get(FAILURE_DESCRIPTION).set(e.getClass().getName() + ":" + e.getMessage());
    result=failure;
  }
  output.write(NewModelControllerProtocol.PARAM_RESPONSE);
  result.writeExternal(output);
}
