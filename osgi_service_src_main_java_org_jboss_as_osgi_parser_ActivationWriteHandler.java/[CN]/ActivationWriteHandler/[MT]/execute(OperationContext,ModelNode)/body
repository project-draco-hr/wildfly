{
  Activation val=Activation.valueOf(operation.require(ModelDescriptionConstants.VALUE).asString().toUpperCase());
  ModelNode node=context.readResourceForUpdate(PathAddress.EMPTY_ADDRESS).getModel();
  node.get(CommonAttributes.ACTIVATION).set(val.toString().toLowerCase());
  if (val == Activation.EAGER) {
    context.addStep(new OperationStepHandler(){
      @Override public void execute(      OperationContext context,      ModelNode operation) throws OperationFailedException {
        ServiceController<?> svc=context.getServiceRegistry(true).getRequiredService(Services.AUTOINSTALL_PROVIDER);
        svc.setMode(Mode.ACTIVE);
        context.completeStep();
      }
    }
,Stage.RUNTIME);
  }
  context.completeStep();
}
