{
  String hostnameForURL=System.getProperty("host.name.url","localhost");
  if (hostnameForURL == null)   throw new IllegalStateException("host.name.url system property not present");
  Properties env=new Properties();
  env.setProperty(Context.INITIAL_CONTEXT_FACTORY,"org.jnp.interfaces.NamingContextFactory");
  env.setProperty(Context.URL_PKG_PREFIXES,"org.jboss.naming:org.jnp.interfaces");
  env.setProperty(Context.PROVIDER_URL,"jnp://" + hostnameForURL + ":1099");
  return new InitialContext(env);
}
