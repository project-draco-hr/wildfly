{
  UnifiedServiceRefMetaData ref=processor.process(annotation,annotated,vfs);
  ClassLoader contextClassLoader=Thread.currentThread().getContextClassLoader();
  final Referenceable referenceable;
  try {
    Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());
    final SPIProvider spiProvider=SPIProviderResolver.getInstance().getProvider();
    final ServiceRefHandler serviceRefHandler=spiProvider.getSPI(ServiceRefHandlerFactory.class).getServiceRefHandler();
    referenceable=serviceRefHandler.createReferenceable(ref);
  }
  finally {
    Thread.currentThread().setContextClassLoader(contextClassLoader);
  }
  BindingDescription bindingDescription=new BindingDescription(processor.getName(annotated),componentDescription);
  bindingDescription.setDependency(true);
  bindingDescription.setBindingType(ref.getServiceRefType());
  bindingDescription.setReferenceSourceDescription(new WebServiceRefSourceDescription(referenceable,duModule));
  final InjectionTargetDescription targetDescription=new InjectionTargetDescription();
  targetDescription.setName(name);
  targetDescription.setClassName(className);
  targetDescription.setType(processor.getInjectionType());
  targetDescription.setDeclaredValueClassName(ref.getServiceRefType());
  bindingDescription.getInjectionTargetDescriptions().add(targetDescription);
  return bindingDescription;
}
