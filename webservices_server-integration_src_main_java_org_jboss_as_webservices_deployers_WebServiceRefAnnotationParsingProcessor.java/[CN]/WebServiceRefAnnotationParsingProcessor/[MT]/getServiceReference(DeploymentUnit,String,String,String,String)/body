{
  final UnifiedServiceRefMetaData reference=new UnifiedServiceRefMetaData(getUnifiedVirtualFile(deploymentUnit));
  reference.setServiceRefName(name);
  if (wsdlLocation.length() > 0) {
    reference.setWsdlFile(wsdlLocation);
  }
  reference.setServiceRefType(type);
  reference.setServiceInterface(value);
  final boolean isJAXRPC=reference.getMappingFile() != null || "javax.xml.rpc.Service".equals(reference.getServiceInterface());
  reference.setType(isJAXRPC ? ServiceRefHandler.Type.JAXRPC : ServiceRefHandler.Type.JAXWS);
  return reference;
}
