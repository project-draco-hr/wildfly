{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final EEApplicationDescription applicationComponentDescription=deploymentUnit.getAttachment(Attachments.EE_APPLICATION_DESCRIPTION);
  if (applicationComponentDescription == null) {
    return;
  }
  Value<Object> getObjectInstanceValue;
  try {
    getObjectInstanceValue=new MethodValue<Object>(Values.immediateValue(this.getClass().getMethod("getServiceRefValue")),Values.immediateValue(this),Values.emptyList());
  }
 catch (  SecurityException e) {
    throw new RuntimeException(e);
  }
catch (  NoSuchMethodException e) {
    throw new RuntimeException(e);
  }
  ManagedReferenceFactory factory=new ValueManagedReferenceFactory(getObjectInstanceValue);
  serviceBuilder.addInjection(injector,factory);
}
