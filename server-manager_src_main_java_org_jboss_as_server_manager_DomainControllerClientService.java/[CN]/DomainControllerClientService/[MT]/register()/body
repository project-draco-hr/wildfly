{
  final Socket socket=this.socket;
  Marshaller marshaller=null;
  try {
    final OutputStream outputStream=socket.getOutputStream();
    marshaller=MARSHALLER_FACTORY.createMarshaller(CONFIG);
    marshaller.start(Marshalling.createByteOutput(outputStream));
    marshaller.writeByte((byte)1);
    marshaller.finish();
  }
 catch (  Throwable t) {
    throw new RuntimeException("Failed to register with domain controller",t);
  }
 finally {
    if (marshaller != null)     try {
      marshaller.close();
    }
 catch (    Throwable ignored) {
    }
  }
}
