{
  for (; ; ) {
    try {
      InetAddress dcAddress=domainControllerAddress.getValue();
      if (dcAddress.isAnyLocalAddress() || dcAddress.isSiteLocalAddress()) {
        dcAddress=InetAddress.getLocalHost();
      }
      socket=new Socket(dcAddress,domainControllerPort.getValue());
      register();
      log.infof("Connected to domain controller [%s:%d]",dcAddress.getHostAddress(),domainControllerPort.getValue());
      executor.execute(new ListenerTask(socket));
      break;
    }
 catch (    IOException e) {
      log.info("Unable to connect to domain controller.  Will retry.");
      log.trace("Unable to connect to domain controller.",e);
    }
    try {
      Thread.sleep(POLLING_INTERVAL);
    }
 catch (    InterruptedException e) {
      throw new RuntimeException("Domain controller connection polling was interrupted.",e);
    }
  }
}
