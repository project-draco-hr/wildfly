{
  long period=timeUnit.toMillis(timeout);
  if (restart && period != gracefulShutdownPeriod) {
    throw new IllegalStateException("Graceful shutdown already configured with a timeout of " + gracefulShutdownPeriod + " ms");
  }
  this.restart=true;
  this.gracefulShutdownPeriod=period;
  return new InitialDeploymentSetBuilderImpl(this);
}
