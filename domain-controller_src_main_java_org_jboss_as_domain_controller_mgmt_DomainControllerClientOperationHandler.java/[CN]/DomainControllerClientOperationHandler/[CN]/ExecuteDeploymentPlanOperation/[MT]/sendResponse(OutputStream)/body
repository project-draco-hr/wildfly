{
  final Future<DeploymentPlanResult> result;
  try {
    result=deploymentManager.execute(deploymentPlan);
  }
 catch (  InvalidDeploymentPlanException e) {
    throw new ManagementException("Failed to execute deployment plan.",e);
  }
  final Marshaller marshaller=getMarshaller();
  marshaller.start(createByteOutput(output));
  marshaller.writeByte(DomainClientProtocol.PARAM_DEPLOYMENT_PLAN_RESULT);
  try {
    marshaller.writeObject(result.get());
  }
 catch (  Exception e) {
    throw new ManagementException("Failed get deployment plan result.",e);
  }
  marshaller.finish();
}
