{
  final Unmarshaller unmarshaller=getUnmarshaller();
  unmarshaller.start(createByteInput(input));
  try {
    expectHeader(unmarshaller,DomainClientProtocol.PARAM_HOST_NAME);
    String hostName=unmarshaller.readUTF();
    expectHeader(unmarshaller,DomainClientProtocol.PARAM_SERVER_GROUP_NAME);
    String serverGroupName=unmarshaller.readUTF();
    expectHeader(unmarshaller,DomainClientProtocol.PARAM_SERVER_NAME);
    String serverName=unmarshaller.readUTF();
    server=new ServerIdentity(hostName,serverGroupName,serverName);
    expectHeader(unmarshaller,DomainClientProtocol.PARAM_SERVER_MODEL_UPDATE);
    update=unmarshal(unmarshaller,AbstractServerModelUpdate.class);
    unmarshaller.finish();
  }
  finally {
    safeFinish(unmarshaller);
  }
  log.infof("Received server model update %s",update);
}
