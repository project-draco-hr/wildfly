{
  final Unmarshaller unmarshaller=getUnmarshaller();
  unmarshaller.start(createByteInput(inputStream));
  expectHeader(unmarshaller,DomainClientProtocol.PARAM_HOST_NAME);
  hostControllerName=unmarshaller.readUTF();
  expectHeader(unmarshaller,DomainClientProtocol.PARAM_APPLY_UPDATES_UPDATE_COUNT);
  int count=unmarshaller.readInt();
  updates=new ArrayList<AbstractHostModelUpdate<?>>(count);
  for (int i=0; i < count; i++) {
    expectHeader(unmarshaller,DomainClientProtocol.PARAM_HOST_MODEL_UPDATE);
    final AbstractHostModelUpdate<?> update=unmarshal(unmarshaller,AbstractHostModelUpdate.class);
    updates.add(update);
  }
  unmarshaller.finish();
  log.infof("Received host model updates %s",updates);
}
