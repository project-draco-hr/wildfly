{
  calculateDifference(target,properties,other.properties,new DifferenceHandler<String,PropertyElement,PropertiesElement>(){
    public void handleAdd(    final Collection<AbstractModelUpdate<PropertiesElement>> target,    final String name,    final PropertyElement newElement){
      target.add(new PropertiesUpdate(PropertiesUpdate.Kind.ADD,name,new PropertyUpdate(newElement.getValue())));
    }
    public void handleRemove(    final Collection<AbstractModelUpdate<PropertiesElement>> target,    final String name,    final PropertyElement oldElement){
      target.add(new PropertiesUpdate(PropertiesUpdate.Kind.REMOVE,name,null));
    }
    public void handleChange(    final Collection<AbstractModelUpdate<PropertiesElement>> target,    final String name,    final PropertyElement oldElement,    final PropertyElement newElement){
      target.add(new PropertiesUpdate(PropertiesUpdate.Kind.CHANGE,name,new PropertyUpdate(newElement.getValue())));
    }
  }
);
}
