{
synchronized (properties) {
    if (properties.containsKey(name)) {
      throw new IllegalArgumentException("Property " + name + " already exists");
    }
    if (value == null && !allowNullValue) {
      throw new IllegalArgumentException("Value for property " + name + " is null");
    }
    properties.put(name,value);
  }
}
