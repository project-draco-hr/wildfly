{
  super(mcf,xaConnection.getConnection(),props,transactionIsolation,psCacheSize);
  this.xaConnection=xaConnection;
  xaConnection.addConnectionEventListener(new javax.sql.ConnectionEventListener(){
    /** 
 * {@inheritDoc}
 */
    public void connectionClosed(    javax.sql.ConnectionEvent ce){
    }
    /** 
 * {@inheritDoc}
 */
    public void connectionErrorOccurred(    javax.sql.ConnectionEvent ce){
      SQLException ex=ce.getSQLException();
      broadcastConnectionError(ex);
    }
  }
);
  this.xaResource=xaConnection.getXAResource();
}
