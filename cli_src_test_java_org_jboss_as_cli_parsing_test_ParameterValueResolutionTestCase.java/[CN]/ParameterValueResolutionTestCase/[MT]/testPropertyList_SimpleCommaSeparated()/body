{
  final CommandContext ctx=new MockCommandContext();
  ctx.setResolveParameterValues(true);
  setProperty("cli.test.prop1","a");
  setProperty("cli.test.prop2","b");
  setProperty("cli.test.prop3","c");
  setProperty("cli.test.prop4","d");
  final ModelNode value=parseProperties(ctx,"${cli.test.prop1}=${cli.test.prop2},${cli.test.prop3}=${cli.test.prop4}");
  assertNotNull(value);
  assertEquals(ModelType.LIST,value.getType());
  final List<Property> list=value.asPropertyList();
  assertEquals(2,list.size());
  Property prop=list.get(0);
  assertNotNull(prop);
  assertEquals("a",prop.getName());
  assertEquals("b",prop.getValue().asString());
  prop=list.get(1);
  assertNotNull(prop);
  assertEquals("c",prop.getName());
  assertEquals("d",prop.getValue().asString());
}
