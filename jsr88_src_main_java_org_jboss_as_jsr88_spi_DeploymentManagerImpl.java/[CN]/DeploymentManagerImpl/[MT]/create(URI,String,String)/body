{
  try {
    URIParser parser=new URIParser(deployURI);
    String serverHost=parser.getParameter("serverHost");
    String serverPort=parser.getParameter("serverPort");
    String host=serverHost != null ? serverHost : InetAddress.getLocalHost().getHostAddress();
    Integer port=serverPort != null ? Integer.parseInt(serverPort) : 9999;
    if (username != null && password != null) {
      return ModelControllerClient.Factory.create(host,port,getCallbackHandler(username,password));
    }
 else {
      return ModelControllerClient.Factory.create(host,port);
    }
  }
 catch (  UnknownHostException ex) {
    throw new IllegalArgumentException(MESSAGES.cannotConnectToManagementTarget(deployURI),ex);
  }
}
