{
  if (subordinateTransaction instanceof TransactionImple) {
    final TransactionImple txImple=(TransactionImple)subordinateTransaction;
    final ControlWrapper controlWrapper=txImple.getControlWrapper();
    if (controlWrapper == null) {
      return;
    }
    final ControlImple controlImple=controlWrapper.getImple();
    if (controlImple == null) {
      return;
    }
    final ArjunaTransactionImple arjunaTransactionImple=controlImple.getImplHandle();
    if (arjunaTransactionImple == null) {
      return;
    }
    logger.debug("Applying a JTS hack to setControlHandle " + controlImple + " on subordinate tx "+ subordinateTransaction);
    arjunaTransactionImple.setControlHandle(controlImple);
  }
}
