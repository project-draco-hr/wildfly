{
  final TryBlock tryBlock=TryBlock.get(ctx);
  final BatchManager batchManager=ctx.getBatchManager();
  if (!batchManager.isBatchActive()) {
    throw new CommandLineException("try block did not activate batch mode.");
  }
  final Batch tryBatch=batchManager.getActiveBatch();
  if (tryBatch.size() == 0) {
    throw new CommandLineException("try block is empty.");
  }
  tryBlock.setTryRequest(tryBatch.toRequest());
  tryBlock.setInCatch();
  batchManager.discardActiveBatch();
  batchManager.activateNewBatch();
}
