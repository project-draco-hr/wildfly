{
  DeploymentUnit deploymentUnit=mockDeploymentUnit();
  when(deploymentUnit.getServiceName()).thenReturn(ServiceName.parse("test"));
  EjbDeploymentMarker.mark(deploymentUnit);
  DeploymentPhaseContext phaseContext=null;
  Indexer indexer=new Indexer();
  index(indexer,MyBean.class);
  index(indexer,MyInterface.class);
  CompositeIndex index=new CompositeIndex(Arrays.asList(indexer.complete()));
  EJBComponentDescription componentDescription=new StatelessComponentDescription(MyBean.class.getSimpleName(),MyBean.class.getName(),"TestModule","TestApp");
  LocalEjbViewAnnotationProcessor processor=new LocalEjbViewAnnotationProcessor();
  processor.processComponentConfig(deploymentUnit,phaseContext,index,componentDescription);
  assertEquals(asSet(MyInterface.class.getName()),componentDescription.getViewClassNames());
  assertEquals(MethodIntf.LOCAL,componentDescription.getMethodIntf(MyInterface.class.getName()));
}
