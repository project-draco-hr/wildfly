{
  final Module module=phaseContext.getDeploymentUnit().getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  final DeploymentReflectionIndex index=phaseContext.getDeploymentUnit().getAttachment(org.jboss.as.server.deployment.Attachments.REFLECTION_INDEX);
  Object object;
  ClassReflectionIndex<?> classIndex;
  try {
    Class<?> clazz=module.getClassLoader().loadClass(className);
    classIndex=index.getClassIndex(clazz);
    object=classIndex.getConstructor().newInstance();
  }
 catch (  Exception e) {
    throw new IllegalArgumentException(e);
  }
  setProperties(classIndex,object);
  injector.inject(new ValueManagedObject(Values.immediateValue(object)));
}
