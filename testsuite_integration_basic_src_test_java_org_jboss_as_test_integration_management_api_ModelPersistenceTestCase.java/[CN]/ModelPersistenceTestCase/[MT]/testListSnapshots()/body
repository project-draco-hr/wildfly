{
  ModelNode op=createOpNode(null,"take-snapshot");
  ModelNode result=executeOperation(op);
  String snapshotFileName=result.asString();
  File snapshotFile=new File(snapshotFileName);
  assertTrue(snapshotFile.exists());
  op=createOpNode(null,"list-snapshots");
  result=executeOperation(op);
  File snapshotDir=new File(result.get("directory").asString());
  assertTrue(snapshotDir.isDirectory());
  List<String> snapshotNames=ModelUtil.modelNodeAsStingList(result.get("names"));
  assertTrue(snapshotNames.contains(snapshotFile.getName()));
}
