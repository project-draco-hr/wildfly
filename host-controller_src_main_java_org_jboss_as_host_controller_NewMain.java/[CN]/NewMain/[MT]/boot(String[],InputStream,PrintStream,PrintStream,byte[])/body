{
  NewHostController hc=null;
  try {
    HostControllerEnvironment config=determineEnvironment(args,props,stdin,stdout,stderr);
    if (config == null) {
      abort(null);
      return null;
    }
 else {
      hc=new NewHostController(config,authCode,NewConfigurationPersisterFactory.createHostXmlConfigurationPersister(config.getDomainConfigurationDir()));
      hc.start();
    }
  }
 catch (  Throwable t) {
    t.printStackTrace(stderr);
    abort(t);
    return null;
  }
  return hc;
}
