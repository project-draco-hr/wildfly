{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (deploymentUnit.getParent() != null) {
    return;
  }
  final CompositeIndex index=deploymentUnit.getAttachment(Attachments.COMPOSITE_ANNOTATION_INDEX);
  addAnnotations(deploymentUnit,CdiAnnotations.BUILT_IN_SCOPES);
  addAnnotation(deploymentUnit,new AnnotationType(TransactionScoped.class));
  addAnnotation(deploymentUnit,new AnnotationType(VIEW_SCOPED_NAME,true));
  addAnnotation(deploymentUnit,new AnnotationType(FLOW_SCOPED_NAME,true));
  addAnnotations(deploymentUnit,getAnnotationsAnnotatedWith(index,CdiAnnotations.NORM_SCOPE.getDotName()));
  addAnnotations(deploymentUnit,getAnnotationsAnnotatedWith(index,CdiAnnotations.SCOPE));
}
