{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (deploymentUnit.getParent() != null) {
    return;
  }
  final CompositeIndex index=deploymentUnit.getAttachment(Attachments.COMPOSITE_ANNOTATION_INDEX);
  ImmutableSet.Builder<AnnotationType> beanDefiningAnnotations=ImmutableSet.builder();
  beanDefiningAnnotations.addAll(CdiAnnotations.BUILT_IN_SCOPES);
  beanDefiningAnnotations.addAll(getAnnotationsAnnotatedWith(index,CdiAnnotations.NORM_SCOPE.getDotName()));
  beanDefiningAnnotations.addAll(getAnnotationsAnnotatedWith(index,CdiAnnotations.SCOPE));
  deploymentUnit.putAttachment(BEAN_DEFINING_ANNOTATIONS,beanDefiningAnnotations.build());
}
