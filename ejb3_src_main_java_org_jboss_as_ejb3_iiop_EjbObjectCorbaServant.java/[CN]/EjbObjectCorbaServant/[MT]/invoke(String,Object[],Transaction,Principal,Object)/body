{
  if (logger.isTraceEnabled()) {
    logger.trace("EJBObject local invocation: " + opName);
  }
  SkeletonStrategy op=methodInvokerMap.get(opName);
  if (op == null) {
    throw new BAD_OPERATION(opName);
  }
  if (tx != null) {
    transactionManager.resume(tx);
  }
  try {
    final InterceptorContext interceptorContext=new InterceptorContext();
    if (componentView.getComponent() instanceof StatefulSessionComponent) {
      final SessionID sessionID=(SessionID)unmarshalIdentifier();
      interceptorContext.putPrivateData(SessionID.SESSION_ID_KEY,sessionID);
    }
 else     if (componentView.getComponent() instanceof EntityBeanComponent) {
      final Object pk=unmarshalIdentifier();
      interceptorContext.putPrivateData(EntityBeanComponent.PRIMARY_KEY_CONTEXT_KEY,pk);
    }
    interceptorContext.setContextData(new HashMap<String,Object>());
    interceptorContext.setParameters(arguments);
    interceptorContext.setMethod(op.getMethod());
    interceptorContext.putPrivateData(ComponentView.class,componentView);
    interceptorContext.putPrivateData(Component.class,componentView.getComponent());
    return componentView.invoke(interceptorContext);
  }
  finally {
    if (tx != null) {
      if (transactionManager.getStatus() != Status.STATUS_NO_TRANSACTION) {
        transactionManager.suspend();
      }
    }
  }
}
