{
  MBeanServer mbs=TransactionExtension.getMBeanServer(context);
  ModelNode subModel=context.readResource(PathAddress.EMPTY_ADDRESS).getModel();
  ModelNode onAttribute=subModel.get(LogStoreConstants.JMX_ON_ATTRIBUTE);
  String jmxName=onAttribute.asString();
  try {
    ObjectName on=new ObjectName(jmxName);
    mbs.invoke(on,"remove",null,null);
    try {
      mbs.getObjectInstance(new ObjectName(jmxName));
    }
 catch (    InstanceNotFoundException e) {
      context.removeResource(PathAddress.EMPTY_ADDRESS);
      context.completeStep();
    }
catch (    MalformedObjectNameException e) {
      throw new OperationFailedException(e.getMessage());
    }
  }
 catch (  Exception e) {
    throw new OperationFailedException(e.getMessage());
  }
}
