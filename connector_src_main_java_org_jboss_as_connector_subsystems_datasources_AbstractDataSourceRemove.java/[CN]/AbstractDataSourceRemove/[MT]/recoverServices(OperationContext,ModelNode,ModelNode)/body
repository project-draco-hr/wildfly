{
  boolean enabled=ENABLED.resolveModelAttribute(context,model).asBoolean();
  if (context.isNormalServer() && enabled) {
    addHandler.firstRuntimeStep(context,operation,model);
    final ManagementResourceRegistration datasourceRegistration=context.getResourceRegistrationForUpdate();
    PathAddress addr=PathAddress.pathAddress(operation.get(OP_ADDR));
    Resource resource=context.getOriginalRootResource();
    for (    PathElement element : addr) {
      resource=resource.getChild(element);
    }
    AbstractDataSourceAdd.secondRuntimeStep(context,operation,datasourceRegistration,Resource.Tools.readModel(resource),this instanceof XaDataSourceRemove);
  }
}
