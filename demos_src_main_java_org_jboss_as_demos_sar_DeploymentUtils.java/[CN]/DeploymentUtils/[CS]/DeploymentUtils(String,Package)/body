{
  this.archiveName=archiveName;
  this.pkg=pkg;
  ArchivePath metaInf=ArchivePaths.create("META-INF");
  archive=ShrinkWrap.create(JavaArchive.class,archiveName);
  archive.addPackage(pkg);
  File sourceMetaInf=getSourceMetaInfDir();
  addFiles(archive,sourceMetaInf,metaInf);
  System.out.println(archive.toString(true));
  realArchive=new File(getOutputDir(),archive.getName());
  archive.as(ZipExporter.class).exportZip(realArchive,true);
}
