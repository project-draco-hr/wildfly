{
  if (subjectCallbackSupported) {
    Callback[] newCallbacks=new Callback[callbacks.length + 1];
    System.arraycopy(callbacks,0,newCallbacks,0,callbacks.length);
    SubjectCallback subjectCallBack=new SubjectCallback();
    newCallbacks[newCallbacks.length]=subjectCallBack;
    callbackHandler.handle(newCallbacks);
    subject=subjectCallBack.getSubject();
  }
 else {
    callbackHandler.handle(callbacks);
  }
}
