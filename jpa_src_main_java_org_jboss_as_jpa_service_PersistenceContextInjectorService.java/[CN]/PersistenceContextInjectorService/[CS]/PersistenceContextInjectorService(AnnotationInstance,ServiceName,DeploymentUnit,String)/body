{
  AnnotationValue value=annotation.value("name");
  this.name=value != null ? value.asString() : null;
  value=annotation.value("unitName");
  this.unitName=value != null ? value.asString() : null;
  this.scopedPuName=scopedPuName;
  value=annotation.value("type");
  String type=value != null ? value.asEnum() : null;
  this.type=(value == null || PersistenceContextType.TRANSACTION.name().equals(value.asString())) ? PersistenceContextType.TRANSACTION : PersistenceContextType.EXTENDED;
  value=annotation.value("properties");
  AnnotationInstance[] props=value != null ? value.asNestedArray() : null;
  if (props != null) {
    this.properties=new HashMap();
    for (int source=0; source < props.length; source++) {
      this.properties.put(props[source].value("name"),props[source].value("value"));
    }
  }
 else {
    this.properties=null;
  }
  this.puServiceName=puServiceName;
  injectable=new PersistenceContextJndiInjectable(puServiceName,deploymentUnit,this.type,this.properties,this.scopedPuName);
}
