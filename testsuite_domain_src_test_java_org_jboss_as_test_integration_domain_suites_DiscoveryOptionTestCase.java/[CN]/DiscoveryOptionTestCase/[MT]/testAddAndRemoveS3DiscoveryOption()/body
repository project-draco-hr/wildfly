{
  DomainClient masterClient=domainMasterLifecycleUtil.getDomainClient();
  ModelNode discoveryOptionProperties=new ModelNode();
  discoveryOptionProperties.get(ACCESS_KEY).set("access_key");
  discoveryOptionProperties.get(SECRET_ACCESS_KEY).set("secret_access_key");
  discoveryOptionProperties.get(LOCATION).set("location");
  ModelNode addDiscoveryOption=new ModelNode();
  addDiscoveryOption.get(OP).set(ADD);
  addDiscoveryOption.get(CODE).set("org.jboss.as.host.controller.discovery.S3Discovery");
  addDiscoveryOption.get(MODULE).set("org.jboss.as.host.controller.discovery");
  addDiscoveryOption.get(PROPERTIES).set(discoveryOptionProperties);
  ModelNode newMasterDiscoveryOptionAddress=new ModelNode();
  newMasterDiscoveryOptionAddress.add("host","master");
  newMasterDiscoveryOptionAddress.add("core-service","discovery-options");
  newMasterDiscoveryOptionAddress.add("discovery-option","option-one");
  addAndRemoveDiscoveryOptionTest(masterClient,newMasterDiscoveryOptionAddress,addDiscoveryOption);
  DomainClient slaveClient=domainSlaveLifecycleUtil.getDomainClient();
  ModelNode newSlaveDiscoveryOptionAddress=new ModelNode();
  newSlaveDiscoveryOptionAddress.add("host","slave");
  newSlaveDiscoveryOptionAddress.add("core-service","discovery-options");
  newSlaveDiscoveryOptionAddress.add("discovery-option","option-one");
  addAndRemoveDiscoveryOptionTest(slaveClient,newSlaveDiscoveryOptionAddress,addDiscoveryOption);
}
