{
  if (mc == null || dataSource == null)   return;
  int timeout=0;
  if (mc.isTransactionQueryTimeout())   timeout=dataSource.getTimeLeftBeforeTransactionTimeout();
  if (timeout <= 0)   timeout=mc.getQueryTimeout();
  if (timeout > 0)   ws.setQueryTimeout(timeout);
}
