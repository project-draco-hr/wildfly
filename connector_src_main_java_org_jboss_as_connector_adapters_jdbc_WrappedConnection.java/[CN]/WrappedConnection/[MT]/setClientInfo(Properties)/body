{
  try {
    lock();
    try {
      Connection c=getUnderlyingConnection();
      try {
        if (spy)         spyLogger.debugf("%s [%s] setClientInfo(%s)",jndiName,Constants.SPY_LOGGER_PREFIX_CONNECTION,properties);
        c.setClientInfo(properties);
      }
 catch (      Throwable t) {
        throw checkException(t);
      }
    }
 catch (    SQLClientInfoException e) {
      throw e;
    }
catch (    SQLException e) {
      SQLClientInfoException t=new SQLClientInfoException();
      t.initCause(e);
      throw t;
    }
  }
 catch (  SQLException e) {
    SQLClientInfoException t=new SQLClientInfoException();
    t.initCause(e);
    throw t;
  }
 finally {
    unlock();
  }
}
