{
  VirtualFile result=null;
  try {
    final List<VirtualFile> configFiles=resourceRoot.getRoot().getChildrenRecursively(ConfigFilter.INSTANCE);
    for (    final VirtualFile file : configFiles) {
      final String fileName=file.getName();
      if (DEFAULT_PROPERTIES.equals(fileName) || JBOSS_PROPERTIES.equals(fileName)) {
        if (result != null) {
          LoggingLogger.ROOT_LOGGER.debugf("The previously found configuration file '%s' is being ignored in favour of '%s'",result,file);
        }
        return file;
      }
 else       if (LOG4J_PROPERTIES.equals(fileName) || LOG4J_XML.equals(fileName) || JBOSS_LOG4J_XML.equals(fileName)) {
        result=file;
      }
    }
  }
 catch (  IOException e) {
    throw LoggingMessages.MESSAGES.errorProcessingLoggingConfiguration(e);
  }
  return result;
}
