{
  final ModelNode domainModel=context.readModel(PathAddress.EMPTY_ADDRESS);
  ModelNode baseOp=operation.get(TO_RESOLVE);
  Map<Set<ServerIdentity>,ModelNode> serverOps=resolver.getServerOperations(baseOp,PathAddress.pathAddress(baseOp.get(OP_ADDR)),domainModel,domainModel.get(HOST).get(localHostName));
  final ModelNode overallResult=context.getResult();
  ModelNode serverOpsNode=overallResult.get(RESULT,SERVER_OPERATIONS);
  for (  Map.Entry<Set<ServerIdentity>,ModelNode> entry : serverOps.entrySet()) {
    ModelNode setNode=serverOpsNode.add();
    ModelNode serverNode=setNode.get("servers");
    serverNode.setEmptyList();
    for (    ServerIdentity server : entry.getKey()) {
      serverNode.add(server.getServerName(),server.getServerGroupName());
    }
    setNode.get(OP).set(entry.getValue());
  }
  context.completeStep();
}
