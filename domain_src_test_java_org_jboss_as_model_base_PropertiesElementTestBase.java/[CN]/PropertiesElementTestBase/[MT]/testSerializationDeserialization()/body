{
  String testContent="<system-properties><property name=\"prop1\" value=\"value1\"/><property name=\"prop2\"/></system-properties>";
  String fullcontent=MockRootElement.getXmlContent(getTargetNamespace(),getTargetNamespaceLocation(),false,testContent);
  propertyType=Element.PROPERTY;
  allowNullValue=true;
  MockRootElement root=MockRootElementParser.parseRootElement(getXMLMapper(),new StringReader(fullcontent));
  PropertiesElement testee=(PropertiesElement)root.getChild(getTargetNamespace(),Element.SYSTEM_PROPERTIES.getLocalName());
  byte[] bytes=serialize(testee);
  PropertiesElement testee1=deserialize(bytes,PropertiesElement.class);
  assertEquals(testee.elementHash(),testee1.elementHash());
  assertEquals(testee.size(),testee1.size());
  for (  String name : testee.getPropertyNames()) {
    assertEquals("Property values match for " + name,testee.getProperty(name),testee1.getProperty(name));
  }
  testContent="<system-properties><variable name=\"prop1\" value=\"value1\"/><variable name=\"prop2\" value=\"value2\"/></system-properties>";
  fullcontent=MockRootElement.getXmlContent(getTargetNamespace(),getTargetNamespaceLocation(),false,testContent);
  System.out.println(fullcontent);
  propertyType=Element.VARIABLE;
  allowNullValue=false;
  root=MockRootElementParser.parseRootElement(getXMLMapper(),new StringReader(fullcontent));
  testee=(PropertiesElement)root.getChild(getTargetNamespace(),Element.SYSTEM_PROPERTIES.getLocalName());
  bytes=serialize(testee);
  testee1=deserialize(bytes,PropertiesElement.class);
  assertEquals(testee.elementHash(),testee1.elementHash());
  assertEquals(testee.size(),testee1.size());
  for (  String name : testee.getPropertyNames()) {
    assertEquals("Property values match for " + name,testee.getProperty(name),testee1.getProperty(name));
  }
}
