{
  if (getSecurityManager() == null)   try {
    return currentThread().getContextClassLoader();
  }
  finally {
    currentThread().setContextClassLoader(classLoader);
  }
 else {
    return doPrivileged(new SetContextClassLoaderAction(classLoader));
  }
}
