{
  RemoteLockResponse response;
  try {
    getLocalHandler().lockFromCluster(lockName,caller,timeout);
    return new RemoteLockResponse(getLocalClusterNode(),RemoteLockResponse.Flag.OK);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    log.error("Caught InterruptedException; Failing request by " + caller + " to lock "+ lockName);
    response=new RemoteLockResponse(getLocalClusterNode(),RemoteLockResponse.Flag.FAIL,getLocalHandler().getLockHolder(lockName));
  }
catch (  TimeoutException t) {
    response=new RemoteLockResponse(getLocalClusterNode(),RemoteLockResponse.Flag.FAIL,t.getOwner());
  }
  return response;
}
