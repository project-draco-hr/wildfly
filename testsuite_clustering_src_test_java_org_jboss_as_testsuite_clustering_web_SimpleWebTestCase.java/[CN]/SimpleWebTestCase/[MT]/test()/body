{
  DefaultHttpClient client=new DefaultHttpClient();
  try {
    HttpResponse response=client.execute(new HttpGet("http://localhost:8080/distributable/simple"));
    Assert.assertEquals(HttpServletResponse.SC_OK,response.getStatusLine().getStatusCode());
    Assert.assertEquals(Integer.parseInt(response.getFirstHeader("value").getValue()),1);
    Assert.assertFalse(Boolean.valueOf(response.getFirstHeader("serialized").getValue()));
    response.getEntity().getContent().close();
    response=client.execute(new HttpGet("http://localhost:8080/distributable/simple"));
    Assert.assertEquals(HttpServletResponse.SC_OK,response.getStatusLine().getStatusCode());
    Assert.assertEquals(Integer.parseInt(response.getFirstHeader("value").getValue()),2);
    Assert.assertFalse(Boolean.valueOf(response.getFirstHeader("serialized").getValue()));
    response.getEntity().getContent().close();
  }
  finally {
    client.getConnectionManager().shutdown();
  }
}
