{
  final AnnotationValue puName=annotation.value("unitName");
  String scopedPuName;
  String searchName=null;
  if (puName != null) {
    searchName=puName.asString();
  }
  scopedPuName=PersistenceUnitSearch.resolvePersistenceUnitSupplier(deploymentUnit,searchName);
  if (null == scopedPuName) {
    classDescription.setInvalid("Can't find a " + (puName != null ? "persistence unit named" + puName : "default persistence unit") + " at "+ deploymentUnit);
    return null;
  }
  return scopedPuName;
}
