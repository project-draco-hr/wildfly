{
  String scopedPuName=getScopedPuName(deploymentUnit,annotation);
  ServiceName puServiceName=getPuServiceName(scopedPuName);
  ServiceName injectorName=ServiceName.of(componentDescription.getModuleName(),componentDescription.getComponentClassName(),targetName);
  if (isPersistenceContext(annotation)) {
    phaseContext.getServiceTarget().addService(injectorName,new PersistenceContextInjectorService(annotation,puServiceName,deploymentUnit,scopedPuName)).addDependency(puServiceName).setInitialMode(ServiceController.Mode.ACTIVE).install();
  }
 else {
    phaseContext.getServiceTarget().addService(injectorName,new PersistenceUnitInjectorService(annotation,puServiceName,deploymentUnit,scopedPuName)).addDependency(puServiceName).setInitialMode(ServiceController.Mode.ACTIVE).install();
  }
  return injectorName;
}
