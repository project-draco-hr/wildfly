{
synchronized (namespaces) {
    for (    NamespaceAttribute namespace : namespaces.values()) {
      if (namespace.isDefaultNamespaceDeclaration()) {
        continue;
      }
      streamWriter.setPrefix(namespace.getPrefix(),namespace.getNamespaceURI());
    }
  }
  if (schemaLocation != null) {
    NamespaceAttribute ns=namespaces.get("http://www.w3.org/2001/XMLSchema-instance");
    streamWriter.writeAttribute(ns.getPrefix(),ns.getNamespaceURI(),"schemaLocation",schemaLocation);
  }
synchronized (extensions) {
    if (!extensions.isEmpty()) {
      streamWriter.writeStartElement(Element.EXTENSIONS.getLocalName());
      for (      ExtensionElement element : extensions.values()) {
        streamWriter.writeStartElement(Element.EXTENSIONS.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
synchronized (profiles) {
    if (!profiles.isEmpty()) {
      streamWriter.writeStartElement(Element.PROFILES.getLocalName());
      for (      ProfileElement element : profiles.values()) {
        streamWriter.writeStartElement(Element.PROFILE.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
synchronized (interfaces) {
    if (!interfaces.isEmpty()) {
      streamWriter.writeStartElement(Element.INTERFACES.getLocalName());
      for (      InterfaceElement element : interfaces.values()) {
        streamWriter.writeStartElement(Element.INTERFACE.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
synchronized (bindingGroups) {
    if (!bindingGroups.isEmpty()) {
      streamWriter.writeStartElement(Element.SOCKET_BINDING_GROUPS.getLocalName());
      for (      SocketBindingGroupElement element : bindingGroups.values()) {
        streamWriter.writeStartElement(Element.SOCKET_BINDING_GROUP.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
  if (systemProperties != null && systemProperties.size() > 0) {
    streamWriter.writeStartElement(Element.SYSTEM_PROPERTIES.getLocalName());
    systemProperties.writeContent(streamWriter);
  }
synchronized (deployments) {
    if (!deployments.isEmpty()) {
      streamWriter.writeStartElement(Element.DEPLOYMENTS.getLocalName());
      for (      DeploymentUnitElement element : deployments.values()) {
        streamWriter.writeStartElement(Element.DEPLOYMENT.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
synchronized (serverGroups) {
    if (!serverGroups.isEmpty()) {
      streamWriter.writeStartElement(Element.SERVER_GROUPS.getLocalName());
      for (      ServerGroupElement element : serverGroups.values()) {
        streamWriter.writeStartElement(Element.SERVER_GROUP.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
  streamWriter.writeEndElement();
}
