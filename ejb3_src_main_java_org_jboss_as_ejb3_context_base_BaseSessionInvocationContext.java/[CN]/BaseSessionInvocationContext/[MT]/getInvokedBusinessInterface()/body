{
  if (invokedBusinessInterface == null)   throw new IllegalStateException("No invoked business interface on " + this);
  if (EJBObject.class.isAssignableFrom(invokedBusinessInterface)) {
    throw new IllegalStateException("Cannot call getInvokedBusinessInterface when invoking through EJBObject");
  }
  if (EJBLocalObject.class.isAssignableFrom(invokedBusinessInterface)) {
    throw new IllegalStateException("Cannot call getInvokedBusinessInterface when invoking through EJBLocalObject");
  }
  return invokedBusinessInterface;
}
