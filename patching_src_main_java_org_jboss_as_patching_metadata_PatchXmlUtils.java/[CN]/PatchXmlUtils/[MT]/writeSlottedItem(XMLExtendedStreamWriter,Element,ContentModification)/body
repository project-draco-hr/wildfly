{
  writer.writeEmptyElement(element.name);
  final ModuleItem item=(ModuleItem)modification.getItem();
  final ModificationType type=modification.getType();
  writer.writeAttribute(Attribute.NAME.name,item.getName());
  if (!MAIN_SLOT.equals(item.getSlot())) {
    writer.writeAttribute(Attribute.SLOT.name,item.getSlot());
  }
  byte[] hash=item.getContentHash();
  if (hash.length > 0 && type != ModificationType.REMOVE) {
    writer.writeAttribute(Attribute.HASH.name,bytesToHexString(hash));
  }
  if (type == ModificationType.REMOVE) {
    final byte[] existingHash=modification.getTargetHash();
    if (existingHash.length > 0) {
      writer.writeAttribute(Attribute.HASH.name,bytesToHexString(existingHash));
    }
  }
 else   if (type == ModificationType.MODIFY) {
    final byte[] existingHash=modification.getTargetHash();
    if (existingHash.length > 0) {
      writer.writeAttribute(Attribute.NEW_HASH.name,bytesToHexString(existingHash));
    }
  }
}
