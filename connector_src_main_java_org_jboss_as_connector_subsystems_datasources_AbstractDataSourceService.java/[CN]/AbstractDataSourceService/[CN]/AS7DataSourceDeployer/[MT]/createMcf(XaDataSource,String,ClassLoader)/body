{
  final MyXaMCF xaManagedConnectionFactory=new MyXaMCF();
  if (xaDataSourceConfig.getUrlDelimiter() != null) {
    try {
      xaManagedConnectionFactory.setURLDelimiter(dataSourceConfig.getUrlDelimiter());
    }
 catch (    ResourceException e) {
      throw MESSAGES.failedToGetUrlDelimiter(e);
    }
  }
  if (xaDataSourceConfig.getXaDataSourceClass() != null) {
    xaManagedConnectionFactory.setXADataSourceClass(xaDataSourceConfig.getXaDataSourceClass());
  }
  if (xaDataSourceConfig.getXaDataSourceProperty() != null) {
    xaManagedConnectionFactory.setXaProps(xaDataSourceConfig.getXaDataSourceProperty());
  }
  if (xaDataSourceConfig.getUrlSelectorStrategyClassName() != null) {
    xaManagedConnectionFactory.setUrlSelectorStrategyClassName(xaDataSourceConfig.getUrlSelectorStrategyClassName());
  }
  if (xaDataSourceConfig.getXaPool() != null && xaDataSourceConfig.getXaPool().isSameRmOverride() != null) {
    xaManagedConnectionFactory.setIsSameRMOverrideValue(xaDataSourceConfig.getXaPool().isSameRmOverride());
  }
  if (xaDataSourceConfig.getNewConnectionSql() != null) {
    xaManagedConnectionFactory.setNewConnectionSQL(xaDataSourceConfig.getNewConnectionSql());
  }
  if (xaDataSourceConfig.getUrlSelectorStrategyClassName() != null) {
    xaManagedConnectionFactory.setUrlSelectorStrategyClassName(xaDataSourceConfig.getUrlSelectorStrategyClassName());
  }
  setMcfProperties(xaManagedConnectionFactory,xaDataSourceConfig,xaDataSourceConfig.getStatement());
  return xaManagedConnectionFactory;
}
