{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final Module module=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  if (module == null) {
    return;
  }
  final EEModuleDescription moduleDescription=deploymentUnit.getAttachment(Attachments.EE_MODULE_DESCRIPTION);
  for (  AbstractComponentDescription description : moduleDescription.getComponentDescriptions()) {
    try {
      deployComponent(phaseContext,description);
    }
 catch (    RuntimeException e) {
      throw new DeploymentUnitProcessingException("Failed to install component " + description,e);
    }
  }
}
