{
  final WSEndpointHandlersMapping mapping=getOptionalAttachment(unit,WS_ENDPOINT_HANDLERS_MAPPING_KEY);
  if (mapping == null)   return;
  final String endpointClassName=classInfo.name().toString();
  if (isEjb3(classInfo)) {
    for (    final EJBEndpoint ejbEndpoint : getJaxwsEjbs(unit)) {
      if (endpointClassName.equals(ejbEndpoint.getClassName())) {
        for (        final String handlerClassName : mapping.getHandlers(endpointClassName)) {
          final String ejbEndpointName=ejbEndpoint.getName();
          final String handlerName=ejbEndpointName + "-" + handlerClassName;
          final ComponentDescription jaxwsHandlerDescription=createComponentDescription(unit,handlerName,handlerClassName,ejbEndpointName);
          propagateNamingContext(jaxwsHandlerDescription,ejbEndpoint);
        }
      }
    }
  }
 else {
    for (    final POJOEndpoint pojoEndpoint : getJaxwsPojos(unit)) {
      if (endpointClassName.equals(pojoEndpoint.getClassName())) {
        for (        final String handlerClassName : mapping.getHandlers(endpointClassName)) {
          final String pojoEndpointName=pojoEndpoint.getName();
          final String handlerName=pojoEndpointName + "-" + handlerClassName;
          createComponentDescription(unit,handlerName,handlerClassName,pojoEndpointName);
        }
      }
    }
  }
}
