{
  if (ignoreApply) {
    return;
  }
  final PatchContentLoader contentLoader=description.getLoader();
  final boolean skip=skipExecution | context.isExcluded(contentItem);
  final byte[] contentHash;
  if (skip) {
    contentHash=backupHash;
  }
 else {
    contentHash=apply(context,contentLoader);
  }
  final ContentModification original=getOriginalModification(contentHash,backupHash);
  final ContentModification rollbackAction=createRollbackEntry(original,contentHash,backupHash);
  context.recordChange(original,rollbackAction);
  if (!Arrays.equals(contentHash,contentItem.getContentHash()) && failOnContentMismatch(context)) {
    throw PatchLogger.ROOT_LOGGER.wrongCopiedContent(contentItem);
  }
}
