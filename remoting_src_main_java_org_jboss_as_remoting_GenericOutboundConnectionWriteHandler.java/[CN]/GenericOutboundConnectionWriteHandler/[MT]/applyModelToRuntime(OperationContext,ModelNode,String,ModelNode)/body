{
  final String connectionName=PathAddress.pathAddress(operation.get(ModelDescriptionConstants.OP_ADDR)).getLastElement().getValue();
  final ServiceName serviceName=GenericOutboundConnectionService.OUTBOUND_CONNECTION_BASE_SERVICE_NAME.append(connectionName);
  final ServiceRegistry registry=context.getServiceRegistry(true);
  ServiceController sc=registry.getService(serviceName);
  if (sc != null && sc.getState() == ServiceController.State.UP) {
    GenericOutboundConnectionService svc=GenericOutboundConnectionService.class.cast(sc.getValue());
    if (GenericOutboundConnectionResourceDefinition.URI.getName().equals(attributeName)) {
      svc.setDestination(GenericOutboundConnectionAdd.INSTANCE.getDestinationURI(context,model));
    }
  }
 else {
    context.removeService(serviceName);
    GenericOutboundConnectionAdd.INSTANCE.installRuntimeService(context,operation,null);
  }
}
