{
  moveToStart(reader);
  final ParsedApplication application=new ParsedApplication();
  for (  Element element : children(reader)) {
switch (element) {
case DEFAULTS:
{
        application.defaultEntity=parseEntity(reader,defaults.getClassLoader());
        break;
      }
case RELATIONSHIPS:
{
      application.relationships=parseRelationships(reader);
      break;
    }
case ENTERPRISE_BEANS:
{
    application.entities=parseEnterpriseBeans(reader,defaults.getClassLoader());
    break;
  }
case TYPE_MAPPINGS:
{
  application.typeMappings=parseTypeMappings(reader);
  break;
}
case ENTITY_COMMANDS:
{
application.entityCommands=parseEntityCommands(reader,defaults.getClassLoader());
break;
}
case DEPENDENT_VALUE_CLASSES:
{
application.valueClasses=parseDependentValueClasses(reader,defaults.getClassLoader());
break;
}
case USER_TYPE_MAPPINGS:
{
application.userTypeMappings=parseUserTypeMappings(reader);
break;
}
case RESERVED_WORDS:
{
parseReservedWords(reader);
break;
}
default :
{
throw unexpectedElement(reader);
}
}
}
return new JDBCApplicationMetaData(application,defaults);
}
