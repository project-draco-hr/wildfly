{
  if (targetDir.exists()) {
    if (!targetDir.isDirectory()) {
      throw new IllegalStateException(targetDir + " is not a directory");
    }
  }
 else   if (!targetDir.mkdirs()) {
    throw new IllegalStateException("Cannot create directory " + targetDir);
  }
  File[] children=sourceDir.listFiles();
  if (children != null) {
    for (    File child : children) {
      copyFile(child,new File(targetDir,child.getName()));
    }
  }
}
