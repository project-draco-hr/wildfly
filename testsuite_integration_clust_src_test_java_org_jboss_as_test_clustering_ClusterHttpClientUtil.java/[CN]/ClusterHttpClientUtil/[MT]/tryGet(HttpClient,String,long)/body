{
  final long startTime;
  HttpResponse response=client.execute(new HttpGet(url));
  startTime=System.currentTimeMillis();
  while (response.getStatusLine().getStatusCode() != HttpServletResponse.SC_OK && startTime + graceTime > System.currentTimeMillis()) {
    response=client.execute(new HttpGet(url));
  }
  return response;
}
