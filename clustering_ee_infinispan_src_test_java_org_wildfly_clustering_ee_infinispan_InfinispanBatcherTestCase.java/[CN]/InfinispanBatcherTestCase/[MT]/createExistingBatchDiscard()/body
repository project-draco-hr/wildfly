{
  Transaction tx=mock(Transaction.class);
  when(this.tm.getTransaction()).thenReturn(tx);
  TransactionBatch batch=this.batcher.createBatch();
  try {
    verify(this.tm,never()).begin();
    assertSame(tx,batch.getTransaction());
  }
  finally {
    batch.discard();
  }
  verifyZeroInteractions(tx);
}
