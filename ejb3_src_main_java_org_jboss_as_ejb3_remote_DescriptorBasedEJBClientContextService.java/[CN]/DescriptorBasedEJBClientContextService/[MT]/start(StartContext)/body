{
  final EJBClientContext context;
  if (this.clientContextClassloader != null) {
    context=EJBClientContext.create(this.ejbClientConfiguration,this.clientContextClassloader);
  }
 else {
    context=EJBClientContext.create(this.ejbClientConfiguration);
  }
  final LocalEjbReceiver localEjbReceiver=this.localEjbReceiverInjectedValue.getOptionalValue();
  if (localEjbReceiver != null) {
    context.registerEJBReceiver(localEjbReceiver);
    logger.debug("Added a local EJB receiver to descriptor based EJB client context named " + startContext.getController().getName());
  }
  this.registerRemotingEJBReceivers(startContext,context);
  this.ejbClientContext=context;
}
