{
  final EJBClientContext context=EJBClientContext.create();
  final LocalEjbReceiver localEjbReceiver=this.localEjbReceiverInjectedValue.getOptionalValue();
  if (localEjbReceiver != null) {
    context.registerEJBReceiver(localEjbReceiver);
    logger.debug("Added a local EJB receiver to descriptor based EJB client context named " + startContext.getController().getName());
  }
  final ServiceRegistry serviceRegistry=startContext.getController().getServiceContainer();
  final Collection<Connection> connections=this.createRemotingConnections(serviceRegistry,context);
  for (  final Connection connection : connections) {
    context.registerConnection(connection);
  }
  logger.debug("Added " + connections.size() + " remoting EJB receivers to descriptor based EJB client context named "+ startContext.getController().getName());
  this.ejbClientContext=context;
}
