{
  alwaysProvideRuntimeContext=false;
  ModelNode ourModel=super.getModel();
  DomainModelUtil.updateCoreModel(ourModel);
  master=true;
  domainPersister.setDelegate(configurationPersister);
  ModelNodeRegistration registry=getRegistry();
  extensionContext=DomainModelUtil.initializeMasterDomainRegistry(registry,configurationPersister,deploymentRepo,fileRepository,this);
  registerInternalOperations();
  this.serverOperationResolver=new ServerOperationResolver(getLocalHostName());
  initializeExtensions(ourModel,extensionContext);
  this.hosts=Collections.unmodifiableMap(hosts);
}
