{
  alwaysProvideRuntimeContext=false;
  master=false;
  domainPersister.setDelegate(configurationPersister);
  ModelNodeRegistration registry=getRegistry();
  extensionContext=DomainModelUtil.initializeSlaveDomainRegistry(registry,configurationPersister,contentRepo,fileRepository,this);
  registerInternalOperations();
  ModelNodeRegistration hostRegistry=registry.getSubModel(PathAddress.pathAddress(PathElement.pathElement(HOST,getLocalHostName())));
  XmlMarshallingHandler xmlHandler=new XmlMarshallingHandler(this.hostPersister);
  hostRegistry.registerOperationHandler(CommonDescriptions.READ_CONFIG_AS_XML,xmlHandler,xmlHandler,false,OperationEntry.EntryType.PRIVATE);
  this.serverOperationResolver=new ServerOperationResolver(getLocalHostName());
  this.hosts=Collections.unmodifiableMap(hosts);
}
