{
  boolean forHost=isOperationForHost(operation.getOperation());
  final ConfigurationPersisterProvider persisterProvider=new DualRootConfigurationPersisterProvider(getConfigurationPersisterProvider(),hostPersisterProvider,forHost);
  return new OperationControllerContext(){
    @Override public ModelProvider getModelProvider(){
      return DomainModelImpl.this.getModelProvider();
    }
    @Override public OperationContextFactory getOperationContextFactory(){
      return DomainModelImpl.this.getOperationContextFactory();
    }
    @Override public ConfigurationPersisterProvider getConfigurationPersisterProvider(){
      return persisterProvider;
    }
    @Override public ControllerTransactionContext getControllerTransactionContext(){
      return transaction;
    }
  }
;
}
