{
  if (raName == null)   throw new IllegalArgumentException("RaName is null");
  if (serviceName == null)   throw new IllegalArgumentException("ServiceName is null");
  Set<ServiceName> entries=resourceAdapterServiceNames.get(raName);
  if (entries != null) {
    if (!entries.contains(serviceName))     throw new IllegalStateException("ServiceName '" + serviceName.getCanonicalName() + "' isn't registered");
    Integer identifier=Integer.valueOf(serviceName.getSimpleName().substring(serviceName.getSimpleName().lastIndexOf("_") + 1));
    resourceAdapterIdentifiers.get(raName).remove(identifier);
    entries.remove(serviceName);
    if (entries.size() == 0) {
      resourceAdapterServiceNames.remove(raName);
      resourceAdapterIdentifiers.remove(raName);
    }
  }
}
