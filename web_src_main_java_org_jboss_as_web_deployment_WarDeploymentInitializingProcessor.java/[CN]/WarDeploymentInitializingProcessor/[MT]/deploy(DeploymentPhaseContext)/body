{
  DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (deploymentUnit.hasAttachment(Attachments.OSGI_MANIFEST)) {
    return;
  }
  VirtualFile virtualFile=deploymentUnit.getAttachment(Attachments.DEPLOYMENT_ROOT).getRoot();
  if (virtualFile.getName().toLowerCase().endsWith(WAR_EXTENSION)) {
    DeploymentTypeMarker.setType(DeploymentType.WAR,deploymentUnit);
  }
}
