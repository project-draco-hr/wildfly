{
  final boolean value=operation.get(ModelDescriptionConstants.VALUE).asBoolean(false);
  boolean hasResource=context.readResource(PathAddress.EMPTY_ADDRESS).hasChild(RESOLVED_PATH);
  if (value) {
    if (!hasResource) {
      OperationStepHandler handler=context.getResourceRegistration().getOperationEntry(PathAddress.pathAddress(RESOLVED_PATH),ADD).getOperationHandler();
      ModelNode addOp=new ModelNode();
      addOp.get(OP).set(ADD);
      addOp.get(OP_ADDR).set(PathAddress.pathAddress(operation.get(OP_ADDR)).append(RESOLVED_PATH).toModelNode());
      context.addStep(addOp,handler,Stage.IMMEDIATE);
    }
  }
 else {
    if (hasResource) {
      OperationStepHandler handler=context.getResourceRegistration().getOperationEntry(PathAddress.pathAddress(RESOLVED_PATH),REMOVE).getOperationHandler();
      ModelNode addOp=new ModelNode();
      addOp.get(OP).set(REMOVE);
      addOp.get(OP_ADDR).set(PathAddress.pathAddress(operation.get(OP_ADDR)).append(RESOLVED_PATH).toModelNode());
      context.addStep(addOp,handler,Stage.IMMEDIATE);
    }
  }
  context.stepCompleted();
}
