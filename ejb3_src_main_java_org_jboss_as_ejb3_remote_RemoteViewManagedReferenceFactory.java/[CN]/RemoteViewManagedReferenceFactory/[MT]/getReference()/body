{
  final ClassLoader tccl=SecurityActions.getContextClassLoader();
  final Class<?> viewClass;
  try {
    viewClass=Class.forName(this.viewClass,false,tccl);
  }
 catch (  ClassNotFoundException e) {
    throw new RuntimeException("Could not load view class for ejb " + beanName,e);
  }
  final Object proxy=EJBClient.getProxy(appName,moduleName,distinctName,viewClass,beanName);
  if (stateful) {
    EJBClient.createSession(proxy);
  }
  return new ValueManagedReference(new ImmediateValue<Object>(proxy));
}
