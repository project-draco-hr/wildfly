{
  try {
    expectHeader(input,ManagementProtocol.PARAM_MODEL_UPDATE_RESPONSE_COUNT);
    int responseCount=input.readInt();
    if (responseCount != updates.size()) {
      throw new ManagementException("Invalid host model update response.  Response count not equal to update count.");
    }
    final List<ModelUpdateResponse<?>> responses=new ArrayList<ModelUpdateResponse<?>>(responseCount);
    for (int i=0; i < responseCount; i++) {
      expectHeader(input,ManagementProtocol.PARAM_MODEL_UPDATE_RESPONSE);
      final ModelUpdateResponse<?> response=unmarshal(input,ModelUpdateResponse.class);
      responses.add(response);
    }
    return responses;
  }
 catch (  Exception e) {
    throw new ManagementException("Failed to receive server model update responses.",e);
  }
}
