{
  final ModuleSpec.Builder specBuilder=ModuleSpec.build(moduleDeploymentItem.getIdentifier());
  for (  ModuleDeploymentItem.ResourceRoot resource : moduleDeploymentItem.getResources()) {
    try {
      specBuilder.addRoot(resource.getRootName(),new VFSResourceLoader(specBuilder.getIdentifier(),resource.getRoot()));
    }
 catch (    IOException e) {
      throw new StartException("Failed to create module roots",e);
    }
  }
  final ModuleDeploymentItem.Dependency[] dependencies=moduleDeploymentItem.getDependencies();
  for (  ModuleDeploymentItem.Dependency dependency : dependencies) {
    specBuilder.addDependency(dependency.getIdentifier()).setExport(dependency.isExport()).setOptional(dependency.isOptional());
  }
  final ModuleSpec moduleSpec=specBuilder.create();
}
