{
  String ctxPath=contextPath;
switch (this.getSnapshotMode()) {
case INTERVAL:
{
      int interval=this.getSnapshotInterval();
      if (interval > 0) {
        return new IntervalSnapshotManager(this,classLoader,ctxPath,interval);
      }
      UndertowLogger.WEB_SESSION_LOGGER.invalidSnapshotInterval();
    }
case INSTANT:
{
    return new InstantSnapshotManager(this,ctxPath);
  }
default :
{
  throw MESSAGES.invalidSnapshotMode();
}
}
}
