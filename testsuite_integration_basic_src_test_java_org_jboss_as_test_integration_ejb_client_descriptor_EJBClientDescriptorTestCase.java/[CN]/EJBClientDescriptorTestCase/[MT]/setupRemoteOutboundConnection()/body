{
  if (!outboundSocketCreated) {
    final String socketBindingRef="remoting";
    EJBManagementUtil.createLocalOutboundSocket("localhost",9999,"standard-sockets",outboundSocketName,socketBindingRef,Authentication.getCallbackHandler());
    outboundSocketCreated=true;
    logger.info("Created local outbound socket " + outboundSocketName);
  }
  if (!outboundConnectionCreated) {
    final Map<String,String> connectionCreationOptions=new HashMap<String,String>();
    connectionCreationOptions.put("SSL_ENABLED","false");
    connectionCreationOptions.put("org.xnio.Options.SASL_POLICY_NOANONYMOUS","false");
    logger.info("Creatng remote outbound connection " + outboundConnectionName);
    EJBManagementUtil.createRemoteOutboundConnection("localhost",9999,outboundConnectionName,outboundSocketName,connectionCreationOptions,Authentication.getCallbackHandler());
    outboundConnectionCreated=true;
    logger.info("Created remote outbound connection " + outboundConnectionName);
  }
}
