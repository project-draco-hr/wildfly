{
  AccessController.doPrivileged(new PrivilegedExceptionAction(){
    public Object run() throws Exception {
      SecurityContext sc=SecurityContextFactory.createSecurityContext(domain);
      sc.getUtil().createSubjectInfo(p,cred,subject);
      SecurityContextAssociation.setSecurityContext(sc);
      return null;
    }
  }
);
}
