{
  final SimpleServerAuthenticationProvider provider=new SimpleServerAuthenticationProvider();
  provider.addUser("bob",RemotingServices.ENDPOINT.getSimpleName(),"pass".toCharArray());
  if (networkInterfaceBindingName != null) {
    final InjectedNetworkBindingStreamServerService streamServerService=new InjectedNetworkBindingStreamServerService(port);
    ServiceBuilder<?> builder=serviceTarget.addService(RemotingServices.serverServiceName(MANAGEMENT_CHANNEL,port),streamServerService).addInjection(streamServerService.getAuthenticationProviderInjector(),provider).addDependency(RemotingServices.ENDPOINT,Endpoint.class,streamServerService.getEndpointInjector()).addDependency(networkInterfaceBindingName,NetworkInterfaceBinding.class,streamServerService.getInterfaceBindingInjector()).setInitialMode(Mode.ACTIVE);
    addController(newControllers,verificationHandler,builder);
  }
 else {
    final NetworkBindingStreamServerService streamServerService=new NetworkBindingStreamServerService(networkInterfaceBinding,port);
    ServiceBuilder<?> builder=serviceTarget.addService(RemotingServices.serverServiceName(MANAGEMENT_CHANNEL,port),streamServerService).addInjection(streamServerService.getAuthenticationProviderInjector(),provider).addDependency(RemotingServices.ENDPOINT,Endpoint.class,streamServerService.getEndpointInjector()).setInitialMode(Mode.ACTIVE);
    addController(newControllers,verificationHandler,builder);
  }
}
