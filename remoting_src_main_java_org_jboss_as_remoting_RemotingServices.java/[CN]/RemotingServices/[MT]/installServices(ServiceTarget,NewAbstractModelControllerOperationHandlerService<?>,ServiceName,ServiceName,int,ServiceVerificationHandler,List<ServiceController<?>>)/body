{
  final SimpleServerAuthenticationProvider provider=new SimpleServerAuthenticationProvider();
  provider.addUser("bob",RemotingServices.ENDPOINT.getSimpleName(),"pass".toCharArray());
  final ConnectorService connectorService=new ConnectorService();
  connectorService.setOptionMap(OptionMap.create(Options.SASL_MECHANISMS,Sequence.of("DIGEST-MD5")));
  addController(newControllers,serviceTarget.addService(RemotingServices.connectorServiceName("management"),connectorService).addDependency(RemotingServices.ENDPOINT,Endpoint.class,connectorService.getEndpointInjector()).addInjection(connectorService.getAuthenticationProviderInjector(),provider).addListener(verificationHandler).setInitialMode(Mode.ACTIVE).install());
  final NetworkBindingStreamServerService streamServerService=new NetworkBindingStreamServerService(port);
  addController(newControllers,serviceTarget.addService(RemotingServices.serverServiceName("management",port),streamServerService).addDependency(RemotingServices.connectorServiceName("management"),ChannelListener.class,streamServerService.getConnectorInjector()).addDependency(networkInterfaceBindingName,NetworkInterfaceBinding.class,streamServerService.getInterfaceBindingInjector()).addInjection(connectorService.getAuthenticationProviderInjector(),provider).addListener(verificationHandler).setInitialMode(Mode.ACTIVE).install());
  installChannelServices(serviceTarget,operationHandlerService,modelControllerName,"management",verificationHandler,newControllers);
}
