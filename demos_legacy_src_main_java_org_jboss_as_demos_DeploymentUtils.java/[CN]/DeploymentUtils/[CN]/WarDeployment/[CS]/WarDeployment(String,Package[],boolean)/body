{
  ArchivePath metaInf=ArchivePaths.create("META-INF");
  WebArchive archive=ShrinkWrap.create(WebArchive.class,archiveName);
  for (  Package pkg : pkgs) {
    archive.addPackage(pkg);
  }
  File sourceMetaInf=getSourceMetaInfDir(archiveName);
  addFiles(archive,sourceMetaInf,metaInf);
  File sourceWebInf=getSourceWebInfDir(archiveName);
  if (sourceWebInf != null) {
    addWebFiles(archive,sourceWebInf,ArchivePaths.create("WEB-INF"));
  }
  System.out.println(archive.toString(show));
  realArchive=createArchive(archive);
}
