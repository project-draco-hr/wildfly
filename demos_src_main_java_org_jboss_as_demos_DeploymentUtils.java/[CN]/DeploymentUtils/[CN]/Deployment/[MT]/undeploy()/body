{
  if (deployedArchive == null) {
    throw new IllegalStateException(archiveName + " is not deployed");
  }
  if (deployedArchive.exists()) {
    System.out.println("Undeploying " + deployedArchive);
    deployedArchive.delete();
  }
 else {
    File file=new File(deployedArchive.getParentFile(),deployedArchive.getName() + ".deployed");
    if (file.exists()) {
      System.out.println("Undeploying " + file);
      file.delete();
    }
  }
  deployedArchive=null;
}
