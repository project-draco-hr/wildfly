{
  BundleContext context=bundle.getBundleContext();
  String filter="(" + XMLParserCapability.PARSER_PROVIDER + "="+ XMLParserCapability.PROVIDER_JBOSS_OSGI+ ")";
  ServiceReference[] srefs=context.getServiceReferences(SAXParserFactory.class.getName(),filter);
  if (srefs == null)   throw new IllegalStateException("SAXParserFactory not available");
  SAXParserFactory factory=(SAXParserFactory)context.getService(srefs[0]);
  factory.setValidating(false);
  SAXParser saxParser=factory.newSAXParser();
  return saxParser;
}
