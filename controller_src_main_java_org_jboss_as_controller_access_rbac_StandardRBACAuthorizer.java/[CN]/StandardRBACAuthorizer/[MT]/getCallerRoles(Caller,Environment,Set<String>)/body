{
  Set<String> mapped=roleMapper.mapRoles(caller,callEnvironment,runAsRoles);
  if (mapped == null) {
    return null;
  }
 else   if (mapped.isEmpty()) {
    return mapped;
  }
  Set<String> result=new HashSet<String>();
  for (  String role : mapped) {
    result.add(getOfficialRoleForm(role));
  }
  return result;
}
