{
  DeploymentUtils utils=null;
  try {
    utils=new DeploymentUtils("rar-example.rar",HelloWorldConnection.class.getPackage(),true);
    utils.addDeployment("rar-mbean.sar",Test.class.getPackage(),true);
    utils.deploy();
    ObjectName objectName=new ObjectName("jboss:name=test,type=rar");
    MBeanServerConnection mbeanServer=utils.getConnection();
    System.out.println("Calling TestMBean.helloWorld() on server");
    String s=(String)mbeanServer.invoke(objectName,"helloWorld",new Object[0],new String[0]);
    System.out.println("Received reply: " + s);
    System.out.println("Calling TestMBean.helloWorld(\"AS7\") on server");
    s=(String)mbeanServer.invoke(objectName,"helloWorld",new Object[]{"AS7"},new String[]{"java.lang.String"});
    System.out.println("Received reply: " + s);
  }
  finally {
    utils.undeploy();
    safeClose(utils);
  }
}
