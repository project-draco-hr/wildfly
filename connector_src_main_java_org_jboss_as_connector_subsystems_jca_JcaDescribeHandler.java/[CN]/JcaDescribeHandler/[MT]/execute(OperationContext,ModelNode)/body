{
  final ModelNode result=context.getResult();
  final PathAddress rootAddress=PathAddress.pathAddress(PathAddress.pathAddress(operation.require(OP_ADDR)).getLastElement());
  final ModelNode subModel=context.readModel(PathAddress.EMPTY_ADDRESS);
  final ModelNode subsystemAdd=new ModelNode();
  subsystemAdd.get(OP).set(ADD);
  subsystemAdd.get(OP_ADDR).set(rootAddress.toModelNode());
  result.add(subsystemAdd);
  if (subModel.hasDefined(ARCHIVE_VALIDATION)) {
    ModelNode mn=subModel.get(ARCHIVE_VALIDATION);
    if (mn.hasDefined(ARCHIVE_VALIDATION_ENABLED)) {
      subsystemAdd.get(ARCHIVE_VALIDATION).get(ARCHIVE_VALIDATION_ENABLED).set(mn.get(ARCHIVE_VALIDATION_ENABLED));
    }
    if (mn.hasDefined(ARCHIVE_VALIDATION_FAIL_ON_WARN)) {
      subsystemAdd.get(ARCHIVE_VALIDATION).get(ARCHIVE_VALIDATION_FAIL_ON_WARN).set(mn.get(ARCHIVE_VALIDATION_FAIL_ON_WARN));
    }
    if (mn.hasDefined(ARCHIVE_VALIDATION_FAIL_ON_ERROR)) {
      subsystemAdd.get(ARCHIVE_VALIDATION).get(ARCHIVE_VALIDATION_FAIL_ON_ERROR).set(mn.get(ARCHIVE_VALIDATION_FAIL_ON_ERROR));
    }
  }
  context.completeStep();
}
