{
  Runnable r=new Runnable(){
    @Override public void run(){
      logger.debug("Committing");
synchronized (ServerUpdateController.this) {
        Status priorStatus=status;
        status=Status.COMMITING;
        commitHandler.handleUpdateCommit(ServerUpdateController.this,priorStatus);
        Status newStatus=(priorStatus == Status.ACTIVE || allowOverallRollback) ? Status.COMMITTED : Status.ROLLED_BACK;
        status=newStatus;
      }
      logger.debug("Committed");
    }
  }
;
  this.executor.execute(r);
}
