{
  final List<PermissionFactory> minimumSet=this.retrievePermissionSet(context,this.peek(node,DEPLOYMENT_PERMISSIONS,DEFAULT_VALUE,MINIMUM_PERMISSIONS));
  final List<PermissionFactory> maximumSet=this.retrievePermissionSet(context,this.peek(node,DEPLOYMENT_PERMISSIONS,DEFAULT_VALUE,MAXIMUM_PERMISSIONS));
  if (maximumSet.isEmpty()) {
    maximumSet.add(new ImmediatePermissionFactory(new AllPermission()));
  }
  context.addStep(new AbstractDeploymentChainStep(){
    protected void execute(    DeploymentProcessorTarget processorTarget){
      processorTarget.addDeploymentProcessor(Constants.SUBSYSTEM_NAME,Phase.PARSE,Phase.PARSE_PERMISSIONS,new PermissionsParseProcessor(minimumSet,maximumSet));
    }
  }
,OperationContext.Stage.RUNTIME);
}
