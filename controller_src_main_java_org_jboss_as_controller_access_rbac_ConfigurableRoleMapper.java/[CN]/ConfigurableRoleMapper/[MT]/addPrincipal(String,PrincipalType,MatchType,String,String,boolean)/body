{
  Role role=roles.get(roleName);
  if (role != null) {
    if (immediate) {
      return role.addPrincipalImmediate(createPrincipal(principalType,name,realm),matchType);
    }
 else {
      return role.addPrincipal(createPrincipal(principalType,name,realm),matchType);
    }
  }
  return false;
}
