{
  final JMSServerManager jmsManager=jmsServer.getValue();
  try {
    WritableServiceBasedNamingStore.pushOwner(context.getChildTarget());
    try {
      jmsManager.createConnectionFactory(false,configuration,configuration.getBindings());
    }
  finally {
      WritableServiceBasedNamingStore.popOwner();
    }
  }
 catch (  Exception e) {
    throw new StartException(MESSAGES.failedToCreate("connection-factory"),e);
  }
}
