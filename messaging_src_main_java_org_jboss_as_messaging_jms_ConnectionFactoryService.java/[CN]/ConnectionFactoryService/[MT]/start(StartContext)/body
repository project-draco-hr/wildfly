{
  final JMSServerManager jmsManager=jmsServer.getValue();
  try {
    WritableServiceBasedNamingStore.pushOwner(context.getChildTarget());
    try {
      jmsManager.createConnectionFactory(false,configuration,configuration.getBindings());
    }
  finally {
      WritableServiceBasedNamingStore.popOwner();
    }
  }
 catch (  Exception e) {
    throw MESSAGES.failedToCreate(e,"connection-factory");
  }
}
