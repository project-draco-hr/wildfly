{
  File file=getFile(key);
  if (!file.exists())   return null;
  log.tracef("Loading state from %s",file);
  try {
    Unmarshaller unmarshaller=this.marshallerFactory.createUnmarshaller(this.configuration);
    unmarshaller.start(Marshalling.createByteInput(FISAction.open(file)));
    try {
      V value=(V)unmarshaller.readObject();
      unmarshaller.finish();
      return value;
    }
  finally {
      unmarshaller.close();
      DeleteFileAction.delete(file);
    }
  }
 catch (  Exception e) {
    throw EjbMessages.MESSAGES.activationFailed(e,key);
  }
}
