{
  final ModelNode op=new ModelNode();
  final ParsedCommandLine args=ctx.getParsedCommandLine();
  if (ctx.isDomainMode()) {
    final String hostName=host.getValue(args);
    if (hostName == null) {
      throw new CommandFormatException("Missing required argument " + host.getFullName());
    }
    op.get(Util.ADDRESS).add(Util.HOST,hostName);
  }
 else {
    if (host.isPresent(args)) {
      throw new CommandFormatException(host.getFullName() + " is not allowed in the standalone mode.");
    }
    op.get(Util.ADDRESS).setEmptyList();
  }
  op.get(Util.OPERATION).set("shutdown");
  setBooleanArgument(args,op,restart,"restart");
  return op;
}
