{
  String subsystemXml=readResource("subsystem.xml");
  ModelVersion modelVersion=ModelVersion.create(1,0,0);
  KernelServicesBuilder builder=createKernelServicesBuilder(AdditionalInitialization.MANAGEMENT);
  List<ModelNode> xmlOps=builder.parseXml(subsystemXml);
  builder.createLegacyKernelServicesBuilder(null,ModelTestControllerVersion.V7_1_3_FINAL,modelVersion).addMavenResourceURL("org.jboss.as:jboss-as-ee:7.1.3.Final");
  KernelServices mainServices=builder.build();
  Assert.assertTrue(mainServices.isSuccessfulBoot());
  ModelTestUtils.checkFailedTransformedBootOperations(mainServices,modelVersion,xmlOps,new FailedOperationTransformationConfig().addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM),new GlobalModulesConfig()).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM).append(EESubsystemModel.DEFAULT_CONTEXT_SERVICE_PATH),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM).append(EESubsystemModel.DEFAULT_MANAGED_THREAD_FACTORY_PATH),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM).append(EESubsystemModel.DEFAULT_MANAGED_EXECUTOR_SERVICE_PATH),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM).append(EESubsystemModel.DEFAULT_MANAGED_SCHEDULED_EXECUTOR_SERVICE_PATH),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM,PathElement.pathElement(EESubsystemModel.MANAGED_THREAD_FACTORY)),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM,PathElement.pathElement(EESubsystemModel.MANAGED_EXECUTOR_SERVICE)),REJECTED_RESOURCE).addFailedAttribute(PathAddress.pathAddress(EeExtension.PATH_SUBSYSTEM,PathElement.pathElement(EESubsystemModel.MANAGED_SCHEDULED_EXECUTOR_SERVICE)),REJECTED_RESOURCE));
}
