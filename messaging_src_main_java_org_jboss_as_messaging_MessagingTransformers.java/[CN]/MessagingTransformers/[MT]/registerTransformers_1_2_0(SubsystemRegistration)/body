{
  final ResourceTransformationDescriptionBuilder subsystemRoot=TransformationDescriptionBuilder.Factory.createSubsystemInstance();
  ResourceTransformationDescriptionBuilder hornetqServer=subsystemRoot.addChildResource(pathElement(HORNETQ_SERVER));
  hornetqServer.getAttributeBuilder().setDiscard(new DiscardAttributeChecker(){
    @Override public boolean isDiscardExpressions(){
      return false;
    }
    @Override public boolean isDiscardUndefined(){
      return true;
    }
    @Override public boolean isOperationParameterDiscardable(    PathAddress address,    String attributeName,    ModelNode attributeValue,    ModelNode operation,    TransformationContext context){
      Set<String> clusterConnectionNames=context.readResource(address).getChildrenNames(ClusterConnectionDefinition.PATH.getKey());
      boolean clustered=!clusterConnectionNames.isEmpty();
      boolean wantsClustered=attributeValue.asBoolean(clustered);
      if (clustered && !wantsClustered) {
        String msg=MessagingMessages.MESSAGES.canNotChangeClusteredAttribute(address);
        context.getLogger().logAttributeWarning(address,operation,msg,CLUSTERED.getName());
      }
      return true;
    }
    @Override public boolean isResourceAttributeDiscardable(    PathAddress address,    String attributeName,    ModelNode attributeValue,    TransformationContext context){
      return true;
    }
  }
,CommonAttributes.CLUSTERED).end();
  rejectDefinedAttributeWithDefaultValue(hornetqServer,MAX_SAVED_REPLICATED_JOURNAL_SIZE);
  ResourceTransformationDescriptionBuilder addressSetting=hornetqServer.addChildResource(AddressSettingDefinition.PATH);
  rejectDefinedAttributeWithDefaultValue(addressSetting,EXPIRY_DELAY);
  ResourceTransformationDescriptionBuilder bridge=hornetqServer.addChildResource(BridgeDefinition.PATH);
  rejectDefinedAttributeWithDefaultValue(bridge,RECONNECT_ATTEMPTS_ON_SAME_NODE);
  discardAttribute(bridge,FAILOVER_ON_SERVER_SHUTDOWN);
  ResourceTransformationDescriptionBuilder groupingHandler=hornetqServer.addChildResource(GroupingHandlerDefinition.PATH);
  rejectDefinedAttributeWithDefaultValue(groupingHandler,GROUP_TIMEOUT,REAPER_PERIOD);
  TransformationDescription.Tools.register(subsystemRoot.build(),subsystem,VERSION_1_2_0);
}
