{
  AttributeDefinition attr=runtimeAttributes.get(attributeName);
  if (attr != null) {
    ServiceRegistry registry=context.getServiceRegistry(true);
    ServiceController<?> hqService=registry.getService(MessagingServices.JBOSS_MESSAGING);
    if (hqService != null && hqService.getState() == ServiceController.State.UP) {
      HornetQServerControl serverControl=HornetQServer.class.cast(hqService.getValue()).getHornetQServerControl();
      try {
        if (attributeName.equals(CommonAttributes.FAILOVER_ON_SHUTDOWN.getName())) {
          serverControl.setFailoverOnServerShutdown(newValue.resolve().asBoolean());
        }
 else         if (attributeName.equals(CommonAttributes.MESSAGE_COUNTER_SAMPLE_PERIOD.getName())) {
          serverControl.setMessageCounterSamplePeriod(newValue.resolve().asLong());
        }
 else         if (attributeName.equals(CommonAttributes.MESSAGE_COUNTER_MAX_DAY_HISTORY.getName())) {
          serverControl.setMessageCounterMaxDayCount(newValue.resolve().asInt());
        }
 else         if (attributeName.equals(CommonAttributes.MESSAGE_COUNTER_ENABLED.getName())) {
          boolean enabled=newValue.resolve().asBoolean();
          if (enabled) {
            serverControl.enableMessageCounters();
          }
 else {
            serverControl.disableMessageCounters();
          }
        }
 else {
          throw new UnsupportedOperationException(String.format("Runtime handling for %s is not implemented",attributeName));
        }
      }
 catch (      RuntimeException e) {
        throw e;
      }
catch (      Exception e) {
        throw new RuntimeException(e);
      }
      return false;
    }
 else {
      throw new IllegalStateException(String.format("Cannot apply attribute %s to runtime; service %s is not in state %s, it is in state %s",attributeName,MessagingServices.JBOSS_MESSAGING,ServiceController.State.UP,hqService.getState()));
    }
  }
 else {
    return true;
  }
}
