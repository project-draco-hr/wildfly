{
  for (  AttributeDefinition attr : CommonAttributes.SIMPLE_ROOT_RESOURCE_ATTRIBUTES) {
    if (registerRuntimeOnly || !attr.getFlags().contains(AttributeAccess.Flag.STORAGE_RUNTIME)) {
      if (attr.getName().equals(CLUSTERED.getName())) {
        registry.registerReadWriteAttribute(CLUSTERED,ClusteredAttributeHandlers.READ_HANDLER,ClusteredAttributeHandlers.WRITE_HANDLER);
      }
 else       if (attr.getName().equals(MESSAGE_COUNTER_ENABLED.getName())) {
        MessageCounterEnabledHandler handler=new MessageCounterEnabledHandler();
        registry.registerReadWriteAttribute(MESSAGE_COUNTER_ENABLED,handler,handler);
      }
 else {
        registry.registerReadWriteAttribute(attr,null,this);
      }
    }
  }
  registry.registerReadWriteAttribute(CommonAttributes.LIVE_CONNECTOR_REF,null,DeprecatedAttributeWriteHandler.INSTANCE);
}
