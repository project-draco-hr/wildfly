{
  Properties props=new Properties();
  for (  AttributeDefinition attrDefinition : ORBSubsystemDefinitions.SUBSYSTEM_ATTRIBUTES) {
    ModelNode resolvedModelAttribute=attrDefinition.resolveModelAttribute(context,model);
    if (resolvedModelAttribute.isDefined()) {
      String name=attrDefinition.getName();
      String value=resolvedModelAttribute.asString();
      props.setProperty(name,value);
    }
  }
  if (model.hasDefined(ORBSubsystemConstants.PROPERTIES)) {
    ModelNode propertiesNode=model.get(ORBSubsystemConstants.PROPERTIES);
    for (    Property property : propertiesNode.asPropertyList()) {
      String name=property.getName();
      ModelNode value=property.getValue();
      props.setProperty(name,value.asString());
    }
  }
  return props;
}
