{
  if (configDir == null)   throw new IllegalArgumentException("Domain configuration directory is null");
  File configFile=new File(configDir,HOST_XML);
  if (configFile.exists()) {
    if (configFile.isDirectory()) {
      throw new IllegalArgumentException(configFile.getAbsolutePath() + " is a directory");
    }
  }
 else {
    if (configFile.isDirectory() || !configDir.canWrite()) {
      throw new IllegalArgumentException(configFile.getAbsolutePath() + " is not a writable");
    }
  }
  return configFile;
}
