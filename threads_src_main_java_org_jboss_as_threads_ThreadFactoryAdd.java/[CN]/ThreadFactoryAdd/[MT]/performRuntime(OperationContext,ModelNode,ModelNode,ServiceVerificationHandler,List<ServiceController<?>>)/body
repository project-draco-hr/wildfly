{
  final String threadNamePattern=PoolAttributeDefinitions.THREAD_NAME_PATTERN.validateResolvedOperation(operation).asString();
  final int priority=PoolAttributeDefinitions.PRIORITY.validateResolvedOperation(operation).asInt();
  final String groupName=PoolAttributeDefinitions.GROUP_NAME.validateResolvedOperation(operation).asString();
  final PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
  final String name=address.getLastElement().getValue();
  final ServiceTarget target=context.getServiceTarget();
  final ThreadFactoryService service=new ThreadFactoryService();
  service.setNamePattern(threadNamePattern);
  service.setPriority(priority);
  service.setThreadGroupName(groupName);
  target.addService(ThreadsServices.threadFactoryName(name),service).addListener(verificationHandler).setInitialMode(ServiceController.Mode.ACTIVE).install();
}
