{
  Map<Set<ServerIdentity>,ModelNode> result=null;
  String opName=operation.require(OP).asString();
  if (DeploymentFullReplaceHandler.OPERATION_NAME.equals(opName)) {
    String propName=operation.require(NAME).asString();
    Set<String> groups=getServerGroupsForDeployment(propName,domain);
    Set<ServerIdentity> allServers=new HashSet<ServerIdentity>();
    for (    String group : groups) {
      allServers.addAll(getServersForGroup(group,host,localHostName,serverProxies));
    }
    result=Collections.singletonMap(allServers,operation);
  }
 else   if (ResolveExpressionOnDomainHandler.OPERATION_NAME.equals(opName)) {
    final ModelNode serverOp=operation.clone();
    serverOp.get(OP).set(ResolveExpressionHandler.OPERATION_NAME);
    serverOp.get(OP_ADDR).setEmptyList();
    final Set<ServerIdentity> allServers=getAllRunningServers(host,localHostName,serverProxies);
    result=Collections.singletonMap(allServers,serverOp);
  }
  if (result == null) {
    result=Collections.emptyMap();
  }
  return result;
}
