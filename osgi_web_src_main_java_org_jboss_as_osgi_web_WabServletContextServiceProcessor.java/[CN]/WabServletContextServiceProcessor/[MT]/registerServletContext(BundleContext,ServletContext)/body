{
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("osgi.web.symbolicname",bundleContext.getBundle().getSymbolicName());
  Dictionary<?,?> headers=bundleContext.getBundle().getHeaders();
  Object ver=headers.get(Constants.BUNDLE_VERSION);
  if (ver instanceof String)   props.put("osgi.web.version",ver);
  Object wcp=headers.get("Web-ContextPath");
  if (wcp instanceof String)   props.put("osgi.web.contextpath",wcp);
  bundleContext.registerService(ServletContext.class.getName(),sc,props);
}
