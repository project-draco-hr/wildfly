{
  try {
    final CreationalContext<?> ctx=beanManager.createCreationalContext(bean);
    final Object value=beanManager.getReference(bean,field.getGenericType(),ctx);
    field.set(instance,value);
    return Collections.<CreationalContext<?>>singleton(ctx);
  }
 catch (  IllegalAccessException e) {
    throw new RuntimeException("Failed to perform CDI injection of field: " + field + " on "+ instance.getClass(),e);
  }
}
