{
  if (planRef != null) {
    ModelNode rolloutPlan=Util.getRolloutPlan(ctx.getModelControllerClient(),planRef);
    headers.set(rolloutPlan);
    return;
  }
  ModelNode header=headers.get(Util.ROLLOUT_PLAN);
  final ModelNode series=header.get(Util.IN_SERIES);
  for (  RolloutPlanGroup group : groups) {
    group.addTo(series);
  }
  if (props != null) {
    for (    String propName : props.keySet()) {
      header.get(propName).set(props.get(propName));
    }
  }
}
