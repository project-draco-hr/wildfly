{
  if (group == null) {
    throw new IllegalArgumentException("group is null");
  }
  if (planRef != null) {
    throw new IllegalStateException("Groups can't be added if the plan ref is specified.");
  }
  if (groups == null) {
    groups=new ArrayList<RolloutPlanGroup>();
  }
  groups.add(group);
  this.lastGroup=group;
  separator=-1;
  if (mentionedGroups == null) {
    mentionedGroups=new HashSet<String>();
  }
  mentionedGroups.add(group.getGroupName());
}
