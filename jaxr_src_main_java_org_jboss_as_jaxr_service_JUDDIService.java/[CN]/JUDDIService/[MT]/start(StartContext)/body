{
  log.infof("Starting JUDDIService");
  try {
    NamingStore namingStore=injectedNamingStore.getValue();
    String lookup=config.getDataSourceUrl();
    if (lookup.startsWith("java:") == false)     throw new IllegalStateException("Datasource lookup expected in java context: %s" + lookup);
    long timeout=2000;
    while (datasource == null && timeout > 0) {
      try {
        datasource=(DataSource)namingStore.lookup(new CompositeName(lookup.substring(5)));
      }
 catch (      IllegalStateException ex) {
        Thread.sleep(200);
        timeout-=200;
      }
    }
    if (config.isBindJaxr()) {
    }
    if (config.isDropOnStart()) {
      runDrop();
    }
    if (config.isCreateOnStart()) {
      runCreate();
    }
  }
 catch (  Exception ex) {
    log.errorf(ex,"Cannot start JUDDI service");
  }
}
