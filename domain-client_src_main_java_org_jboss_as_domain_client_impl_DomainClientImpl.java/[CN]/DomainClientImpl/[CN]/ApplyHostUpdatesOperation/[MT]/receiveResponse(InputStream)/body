{
  final Unmarshaller unmarshaller=getUnmarshaller();
  unmarshaller.start(createByteInput(input));
  expectHeader(unmarshaller,DomainClientProtocol.RETURN_APPLY_UPDATES_RESULT_COUNT);
  final int updateCount=unmarshaller.readInt();
  final List<HostUpdateResult<?>> results=new ArrayList<HostUpdateResult<?>>(updateCount);
  for (int i=0; i < updateCount; i++) {
    expectHeader(unmarshaller,DomainClientProtocol.RETURN_APPLY_HOST_UPDATE);
    HostUpdateResult<?> updateResult=unmarshal(unmarshaller,HostUpdateResult.class);
    results.add(updateResult);
  }
  unmarshaller.finish();
  return results;
}
