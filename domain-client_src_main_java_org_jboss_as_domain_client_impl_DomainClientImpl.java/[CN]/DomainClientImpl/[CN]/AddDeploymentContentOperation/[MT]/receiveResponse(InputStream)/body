{
  ByteDataInput input=null;
  try {
    input=new SimpleByteDataInput(inputStream);
    expectHeader(input,DomainClientProtocol.RETURN_DEPLOYMENT_HASH_LENGTH);
    int length=input.readInt();
    byte[] hash=new byte[length];
    expectHeader(input,DomainClientProtocol.RETURN_DEPLOYMENT_HASH);
    input.readFully(hash);
    input.close();
    return hash;
  }
  finally {
    safeClose(input);
  }
}
