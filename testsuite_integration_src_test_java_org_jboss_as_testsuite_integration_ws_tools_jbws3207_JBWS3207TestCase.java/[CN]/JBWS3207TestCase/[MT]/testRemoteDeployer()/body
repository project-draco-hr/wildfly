{
  SPIProvider spiProvider=SPIProviderResolver.getInstance().getProvider();
  Deployer deployer=spiProvider.getSPI(Deployer.class);
  assertTrue(deployer instanceof RemoteDeployer);
  final String basedir=System.getProperty("basedir");
  final String testdir=basedir + File.separatorChar + "target"+ File.separatorChar+ "test-libs";
  File archiveFile=new File(testdir,"jbws3207.war");
  URL archiveURL=archiveFile.toURI().toURL();
  try {
    deployer.deploy(archiveURL);
    testWSDL();
    testSOAPCall();
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw e;
  }
 finally {
    deployer.undeploy(archiveURL);
  }
}
