{
  StringBuilder illegal=null;
  for (  String groupName : element.getSocketBindingGroupNames()) {
    SocketBindingGroupElement sbge=element.getSocketBindingGroup(groupName);
    boolean bad=false;
    if (name.equals(sbge.getDefaultInterface())) {
      bad=true;
    }
 else {
      for (      SocketBindingElement sbe : sbge.getSocketBindings()) {
        if (name.equals(sbe.getInterfaceName())) {
          bad=true;
          break;
        }
      }
    }
    if (bad) {
      if (illegal == null) {
        illegal=new StringBuilder(groupName);
      }
 else {
        illegal.append(", ");
        illegal.append(groupName);
      }
    }
  }
  if (illegal != null) {
    throw new UpdateFailedException(String.format("Interface %s cannot " + "be removed as it is referenced by socket binding groups %s",this.name,illegal.toString()));
  }
  if (!element.removeInterface(name)) {
    throw new UpdateFailedException("failed to remove network interface " + name);
  }
}
