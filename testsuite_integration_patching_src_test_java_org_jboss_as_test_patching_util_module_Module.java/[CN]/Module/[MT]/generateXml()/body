{
  StringBuilder stringBuilder=new StringBuilder("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");
  String rootElementTemplate="<module xmlns=\"%s\" name=\"%s\" slot=\"%s\">\n";
  stringBuilder.append(String.format(rootElementTemplate,namespace,name,slot));
  if (!properties.isEmpty()) {
    stringBuilder.append("     <properties>\n");
    String propertyTemplate="          <property name=\"%s\" value=\"%s\"/>\n";
    for (    String key : properties.stringPropertyNames()) {
      stringBuilder.append(String.format(propertyTemplate,key,properties.getProperty(key)));
    }
    stringBuilder.append("     </properties>\n");
  }
  if (!resourceRoots.isEmpty()) {
    stringBuilder.append("     <resources>\n");
    String resourceRootTemplate="          <resource-root path=\"%s\"/>\n";
    for (    ResourceItem resourceRoot : resourceRoots) {
      stringBuilder.append(String.format(resourceRootTemplate,resourceRoot.getItemName()));
    }
    stringBuilder.append("     </resources>\n");
  }
  if (!resourceRoots.isEmpty()) {
    stringBuilder.append("     <dependencies>\n");
    String dependencyTemplate="          <module name=\"%s\"/>\n";
    for (    String module : dependencies) {
      stringBuilder.append(String.format(dependencyTemplate,module));
    }
    stringBuilder.append("     </dependencies>\n");
  }
  stringBuilder.append("</module>\n");
  return stringBuilder.toString();
}
