{
  log.info("[CLIENT] Creating a new WS-AT User Transaction");
  UserTransaction ut=UserTransactionFactory.userTransaction();
  try {
    log.info("[CLIENT] Beginning Atomic Transaction (All calls to Web services that support WS-AT wil be included in this transaction)");
    ut.begin();
    log.info("[CLIENT] invoking makeBooking() on WS");
    client.makeBooking();
    log.info("[CLIENT] rolling back Atomic Transaction (This will cause the AT and thus the enlisted back-end resources to rollback)");
    ut.rollback();
    Assert.assertEquals("Rollback on the Durable2PC participant has not been invoked.",0,client.getBookingCount());
    Assert.assertFalse("Commit on the Volatile2PC participant has been invoked.",client.wasVolatileCommit());
    Assert.assertTrue("Rollback on the Volatile2PC participant has not been invoked.",client.wasVolatileRollback());
  }
  finally {
    rollbackIfActive(ut);
  }
}
