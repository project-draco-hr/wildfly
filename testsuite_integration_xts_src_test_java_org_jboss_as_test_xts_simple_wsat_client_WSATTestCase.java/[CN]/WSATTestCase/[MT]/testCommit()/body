{
  log.info("[CLIENT] Creating a new WS-AT User Transaction");
  UserTransaction ut=UserTransactionFactory.userTransaction();
  try {
    log.info("[CLIENT] Beginning Atomic Transaction (All calls to Web services that support WS-AT wil be included in this transaction)");
    ut.begin();
    log.info("[CLIENT] invoking makeBooking() on WS");
    client.makeBooking();
    log.info("[CLIENT] committing Atomic Transaction (This will cause the AT to complete successfully)");
    ut.commit();
    Assert.assertEquals("Commit on the Durable2PC participant has not been invoked.",1,client.getBookingCount());
    Assert.assertTrue("Commit on the Volatile2PC participant has not been invoked.",client.wasVolatileCommit());
    Assert.assertFalse("Rollback on the Volatile2PC participant has been invoked.",client.wasVolatileRollback());
  }
  finally {
    rollbackIfActive(ut);
  }
}
