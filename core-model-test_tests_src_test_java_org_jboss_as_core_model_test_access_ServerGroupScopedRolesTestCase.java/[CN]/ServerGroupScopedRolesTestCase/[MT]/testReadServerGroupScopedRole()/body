{
  assertTrue(kernelServices.isSuccessfulBoot());
  ModelNode operation=Util.createOperation(READ_RESOURCE_OPERATION,pathAddress(pathElement(CORE_SERVICE,MANAGEMENT),pathElement(ACCESS,AUTHORIZATION),pathElement(SERVER_GROUP_SCOPED_ROLE,"a")));
  operation.get(RECURSIVE).set(true);
  ModelNode result=execute(operation);
  checkOutcome(result);
  result=result.get(RESULT);
  assertEquals("Deployer",result.get(BASE_ROLE).asString());
  assertEquals(2,result.get(SERVER_GROUPS).asList().size());
  assertEquals("main-server-group",result.get(SERVER_GROUPS).get(0).asString());
  assertEquals("other-server-group",result.get(SERVER_GROUPS).get(1).asString());
  operation=Util.createOperation(READ_RESOURCE_OPERATION,pathAddress(pathElement(CORE_SERVICE,MANAGEMENT),pathElement(ACCESS,AUTHORIZATION),pathElement(SERVER_GROUP_SCOPED_ROLE,"b")));
  operation.get(RECURSIVE).set(true);
  result=execute(operation);
  checkOutcome(result);
  result=result.get(RESULT);
  assertEquals("Administrator",result.get(BASE_ROLE).asString());
  assertEquals(1,result.get(SERVER_GROUPS).asList().size());
  assertEquals("other-server-group",result.get(SERVER_GROUPS).get(0).asString());
}
