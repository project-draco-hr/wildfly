{
  ModelControllerClient client=getClientForUser(userName);
  ModelNode op=createOpNode(TEST_DS,ADD);
  op.get("connection-url").set("jdbc:h2:mem:test;DB_CLOSE_DELAY=-1");
  op.get("jndi-name").set("java:jboss/datasources/TestDS");
  op.get("driver-name").set("h2");
  try {
    boolean canExecute=canExecuteOperation(client,ADD,TEST_DS);
    RbacUtil.executeOperation(client,op,canExecute ? Outcome.SUCCESS : Outcome.UNAUTHORIZED);
  }
  finally {
    removeResource(TEST_DS);
  }
}
