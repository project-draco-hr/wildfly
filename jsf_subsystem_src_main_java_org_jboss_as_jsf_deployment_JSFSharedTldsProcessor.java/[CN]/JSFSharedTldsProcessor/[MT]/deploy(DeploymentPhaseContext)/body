{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final DeploymentUnit topLevelDeployment=deploymentUnit.getParent() == null ? deploymentUnit : deploymentUnit.getParent();
  if (JsfVersionMarker.getVersion(topLevelDeployment).equals(JsfVersionMarker.WAR_BUNDLES_JSF_IMPL)) {
    return;
  }
  List<TldMetaData> tldsMetaData=deploymentUnit.getAttachment(SharedTldsMetaDataBuilder.ATTACHMENT_KEY);
  if (tldsMetaData == null)   tldsMetaData=new ArrayList<TldMetaData>();
  tldsMetaData.addAll(jsfTlds);
  deploymentUnit.putAttachment(SharedTldsMetaDataBuilder.ATTACHMENT_KEY,tldsMetaData);
}
