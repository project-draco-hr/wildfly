{
  if (newValue.getType() == ModelType.UNDEFINED) {
    return newValue;
  }
  if (newValue.getType() != ModelType.OBJECT || currentValue.getType() != ModelType.OBJECT) {
    return newValue;
  }
  final ModelNode newPath=newValue.get(PATH.getName());
  if (newPath.isDefined() && !AbstractPathService.isAbsoluteUnixOrWindowsPath(newPath.asString())) {
    if (currentValue.hasDefined(RELATIVE_TO.getName()) && !newValue.hasDefined(RELATIVE_TO.getName())) {
      newValue.get(RELATIVE_TO.getName()).set(currentValue.get(RELATIVE_TO.getName()));
    }
  }
  return newValue;
}
