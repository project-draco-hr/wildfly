{
  final ModelNode result=new ModelNode();
  final ModelNode model=context.getSubModel();
  final PathAddress address=PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,SUBSYSTEM_NAME));
  final ModelNode subsystem=new ModelNode();
  subsystem.get(OP).set(ADD);
  subsystem.get(OP_ADDR).set(address.toModelNode());
  subsystem.get(THREAD_POOL).set(model.get(THREAD_POOL));
  result.add(subsystem);
  for (  org.jboss.dmr.Property prop : model.get(CONNECTOR).asPropertyList()) {
    final ModelNode connector=prop.getValue();
    final ModelNode add=Util.getEmptyOperation(ADD_CONNECTOR,address.append(PathElement.pathElement(CONNECTOR,prop.getName())).toModelNode());
    if (connector.hasDefined(SOCKET_BINDING)) {
      add.get(SOCKET_BINDING).set(connector.get(SOCKET_BINDING));
    }
    if (connector.hasDefined(AUTHENTICATION_PROVIDER)) {
      add.get(AUTHENTICATION_PROVIDER).set(AUTHENTICATION_PROVIDER);
    }
    if (connector.hasDefined(SASL)) {
      add.get(SASL);
    }
    result.add(connector);
  }
  resultHandler.handleResultFragment(Util.NO_LOCATION,result);
  resultHandler.handleResultComplete();
  return new BasicOperationResult();
}
