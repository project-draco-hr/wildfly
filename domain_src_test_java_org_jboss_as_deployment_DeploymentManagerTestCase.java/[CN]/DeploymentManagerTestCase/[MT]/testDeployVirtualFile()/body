{
  final VirtualFile virtualFile=VFS.getChild(getResource("/test/deploymentOne"));
  final DeploymentResult.Future resultFuture=deploymentManager.deploy(virtualFile);
  final DeploymentResult deploymentResult=resultFuture.getDeploymentResult();
  assertNotNull(deploymentResult);
  assertEquals(DeploymentResult.Result.SUCCESS,deploymentResult.getResult());
  final ServiceController<?> serviceController=serviceContainer.getService(DeploymentService.SERVICE_NAME.append(virtualFile.getName()));
  assertNotNull(serviceController);
  if (ServiceController.State.UP != serviceController.getState()) {
    Thread.sleep(100);
  }
  assertEquals(ServiceController.State.UP,serviceController.getState());
  ServiceController<?> mountServiceController=serviceContainer.getService(ServiceName.JBOSS.append("mounts").append(virtualFile.getName()));
  assertNotNull(mountServiceController);
  assertEquals(ServiceController.State.UP,mountServiceController.getState());
  assertNull(mountServiceController.getValue());
}
