{
  final VirtualFile virtualFile=VFS.getChild(getResource("/test/deploymentOne"));
  deploymentManager.deploy(virtualFile);
  final ServiceController<?> serviceController=serviceContainer.getService(DeploymentService.SERVICE_NAME.append(virtualFile.getPathName()));
  assertNotNull(serviceController);
  assertEquals(ServiceController.State.UP,serviceController.getState());
  final DeploymentService deploymentService=(DeploymentService)serviceController.getValue();
  assertNotNull(deploymentService);
  assertEquals(virtualFile.getPathName(),deploymentService.getDeploymentName());
  assertEquals(deploymentChain,getPrivateFieldValue(deploymentService,"deploymentChain",DeploymentChain.class));
  assertEquals(deploymentModuleLoader,getPrivateFieldValue(deploymentService,"deploymentModuleLoader",DeploymentModuleLoader.class));
  ServiceController<?> mountServiceController=serviceContainer.getService(ServiceName.JBOSS.append("mounts").append(virtualFile.getPathName()));
  assertNotNull(mountServiceController);
  assertEquals(ServiceController.State.UP,mountServiceController.getState());
  assertNull(mountServiceController.getValue());
}
