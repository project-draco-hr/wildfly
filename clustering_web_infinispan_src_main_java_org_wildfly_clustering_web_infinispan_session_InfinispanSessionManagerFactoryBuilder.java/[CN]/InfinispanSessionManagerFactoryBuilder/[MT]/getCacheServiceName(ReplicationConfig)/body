{
  ServiceName baseServiceName=EmbeddedCacheManagerService.getServiceName(null);
  String cacheName=(config != null) ? config.getCacheName() : null;
  ServiceName serviceName=ServiceName.parse((cacheName != null) ? cacheName : DEFAULT_CACHE_CONTAINER);
  if (!baseServiceName.isParentOf(serviceName)) {
    serviceName=baseServiceName.append(serviceName);
  }
  return (serviceName.length() < 4) ? serviceName.append(CacheContainer.DEFAULT_CACHE_ALIAS) : serviceName;
}
