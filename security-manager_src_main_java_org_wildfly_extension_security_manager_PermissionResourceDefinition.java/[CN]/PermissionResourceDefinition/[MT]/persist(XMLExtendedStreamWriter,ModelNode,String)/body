{
  model=model.get(getPathElement().getKey());
  if (!model.isDefined() && !useValueAsElementName()) {
    return;
  }
  for (  Property p : model.asPropertyList()) {
    if (namespaceURI != null) {
      writer.writeStartElement(namespaceURI,getXmlElementName());
    }
 else {
      writer.writeStartElement(getXmlElementName());
    }
    for (    AttributeDefinition def : getAttributes()) {
      def.getAttributeMarshaller().marshallAsAttribute(def,p.getValue(),false,writer);
    }
    persistChildren(writer,p.getValue());
    writer.writeEndElement();
  }
}
