{
  model=model.get(resourceDefinition.getPathElement().getKey());
  if (!model.isDefined() && !useValueAsElementName) {
    return;
  }
  for (  Property p : model.asPropertyList()) {
    if (namespaceURI != null) {
      writer.writeStartElement(namespaceURI,xmlElementName);
    }
 else {
      writer.writeStartElement(xmlElementName);
    }
    for (    AttributeDefinition def : attributes.values()) {
      def.getAttributeMarshaller().marshallAsAttribute(def,p.getValue(),false,writer);
    }
    writer.writeEndElement();
  }
}
