{
  try {
    Map<String,String> moduleOptions=new HashMap<String,String>();
    moduleOptions.put("userName","sa");
    moduleOptions.put("password","sa");
    moduleOptions.put("principal","sa");
    createSecurityDomain("DsRealm","ConfiguredIdentity",true,moduleOptions);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  final JavaArchive jar=ShrinkWrap.create(JavaArchive.class,"single.jar").addClasses(DsWithSecurityDomainTestCase.class);
  final EnterpriseArchive ear=ShrinkWrap.create(EnterpriseArchive.class,"test.ear").addAsLibrary(jar).addAsResource(DsWithSecurityDomainTestCase.class.getPackage(),"users.properties","users.properties").addAsResource(DsWithSecurityDomainTestCase.class.getPackage(),"roles.properties","roles.properties").addAsManifestResource("jca/security/data-sources/security-ds.xml","security-ds.xml");
  return ear;
}
