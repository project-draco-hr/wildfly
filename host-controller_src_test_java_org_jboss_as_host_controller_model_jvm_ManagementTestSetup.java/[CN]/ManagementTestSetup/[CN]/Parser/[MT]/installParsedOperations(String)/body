{
  StringConfigurationPersister stringPersister=null;
  if (parser instanceof XMLElementWriter) {
    stringPersister=new StringConfigurationPersister((XMLElementWriter<ModelMarshallingContext>)parser);
    persister.delegate=stringPersister;
  }
  try {
    List<ModelNode> ops=parseOperations(xml);
    executeExpectingSuccess(ops);
  }
  finally {
    if (stringPersister != null) {
      persistedXml=stringPersister.marshalled;
      persister.delegate=null;
    }
  }
}
