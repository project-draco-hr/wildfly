{
  Object relatedId;
  if (relatedEntity.getLocalInterface().isAssignableFrom(localObject.getClass())) {
    EJBLocalObject local=(EJBLocalObject)localObject;
    try {
      relatedId=local.getPrimaryKey();
    }
 catch (    NoSuchObjectLocalException e) {
      throw new IllegalArgumentException(e.getMessage());
    }
  }
 else {
    throw new IllegalArgumentException("The values of this field must be of type " + relatedEntity.getLocalInterface().getName());
  }
  return relatedId;
}
