{
  final Map relatedPKsMap=getRelatedPKsWaitingForMyPK();
synchronized (relatedPKsMap) {
    List relatedPKsWaitingForMe=(List)relatedPKsMap.get(ctx.getPrimaryKeyUnchecked());
    if (relatedPKsWaitingForMe != null) {
      for (Iterator waitingPKsIter=relatedPKsWaitingForMe.iterator(); waitingPKsIter.hasNext(); ) {
        Object waitingPK=waitingPKsIter.next();
        waitingPKsIter.remove();
        if (isForeignKeyValid(waitingPK)) {
          createRelationLinks(ctx,waitingPK);
        }
      }
    }
  }
}
