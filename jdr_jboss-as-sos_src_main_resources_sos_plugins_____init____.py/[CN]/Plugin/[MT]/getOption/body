def getOption(self, optionname, default=0):
    "Returns the first value that matches 'optionname' in parameters\n        passed in via the command line or set via set_option or via the\n        global_plugin_options dictionary, in that order.\n\n        optionaname may be iterable, in which case the first option that matches\n        any of the option names is returned."

    def _check(key):
        if hasattr(optionname, '__iter__'):
            return (key in optionname)
        else:
            return (key == optionname)
    for (name, parms) in izip(self.optNames, self.optParms):
        if _check(name):
            return parms['enabled']
    for (key, value) in self.cInfo.get('global_plugin_options', {}).iteritems():
        if _check(key):
            return value
    return default
