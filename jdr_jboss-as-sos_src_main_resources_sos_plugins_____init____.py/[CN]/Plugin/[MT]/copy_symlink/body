def copy_symlink(self, srcpath, sub=None):
    link = os.readlink(srcpath)
    if (not os.path.isabs(link)):
        link = os.path.normpath(os.path.join(os.path.dirname(srcpath), link))
    if os.path.isdir(link):
        self.soslog.debug(('link %s is a directory, skipping...' % link))
        return
    dest = link
    if sub:
        (old, new) = sub
        dest = srcpath.replace(old, new)
    self.archive.add_file(link, dest=dest)
    self.copiedFiles.append({'srcpath': srcpath, 'dstpath': dest, 'symlink': 'yes', 'pointsto': link, })
