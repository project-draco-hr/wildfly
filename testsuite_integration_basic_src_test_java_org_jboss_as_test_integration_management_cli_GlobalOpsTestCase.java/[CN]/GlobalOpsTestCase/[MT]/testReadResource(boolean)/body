{
  cli.sendLine("/subsystem=undertow:read-resource(recursive=" + String.valueOf(recursive) + ")");
  CLIOpResult result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  assertTrue(result.getResult() instanceof Map);
  Map map=(Map)result.getResult();
  assertTrue(map.get("server") instanceof Map);
  Map vServer=(Map)map.get("server");
  assertTrue(vServer.containsKey("default-server"));
  if (recursive) {
    assertTrue(vServer.get("default-server") instanceof Map);
    Map host=(Map)vServer.get("default-server");
    assertTrue(host.containsKey("default-host"));
  }
 else {
    assertTrue(vServer.get("default-server").equals("undefined"));
  }
}
