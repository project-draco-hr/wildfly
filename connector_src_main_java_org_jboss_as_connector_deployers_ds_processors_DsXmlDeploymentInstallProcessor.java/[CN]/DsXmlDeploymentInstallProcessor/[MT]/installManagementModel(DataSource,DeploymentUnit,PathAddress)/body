{
  XMLDataSourceRuntimeHandler.INSTANCE.registerDataSource(addr,ds);
  deploymentUnit.createDeploymentSubModel(DataSourcesExtension.SUBSYSTEM_NAME,addr.getLastElement());
  if (ds.getConnectionProperties() != null) {
    for (    final Map.Entry<String,String> prop : ds.getConnectionProperties().entrySet()) {
      PathAddress registration=PathAddress.pathAddress(addr.getLastElement(),PathElement.pathElement(CONNECTION_PROPERTIES,prop.getKey()));
      createDeploymentSubModel(registration,deploymentUnit);
    }
  }
}
