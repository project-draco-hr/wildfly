{
  String parsedLdapGroups=new String();
  Pattern rPattern=Pattern.compile("(\\{)(.+?)(\\})");
  if (resultPattern != null) {
    Matcher resultMatch=rPattern.matcher(resultPattern);
    boolean foundGroupMatch=false;
    StringBuffer sb=new StringBuffer();
    while (resultMatch.find()) {
      foundGroupMatch=true;
      try {
        ldapGroupss.reset();
        int elementNo=Integer.parseInt(resultMatch.group(2));
        for (int i=0; i <= elementNo; i++) {
          ldapGroupss.find();
        }
        resultMatch.appendReplacement(sb,ldapGroupss.group(group));
      }
 catch (      Exception e) {
        ROOT_LOGGER.failedRetrieveMatchingLdapGroups(e);
        throw new IllegalStateException(e);
      }
    }
    resultMatch.appendTail(sb);
    parsedLdapGroups=sb.toString();
    if (!foundGroupMatch) {
      ROOT_LOGGER.failedRetrieveMatchingGroups();
      parsedLdapGroups="";
    }
  }
 else {
    if (ldapGroupss.find()) {
      parsedLdapGroups=ldapGroupss.group(group);
    }
  }
  return parsedLdapGroups;
}
