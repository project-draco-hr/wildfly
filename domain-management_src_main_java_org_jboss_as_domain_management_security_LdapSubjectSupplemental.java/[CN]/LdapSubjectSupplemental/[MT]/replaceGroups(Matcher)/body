{
  String parsedLdapRoles=new String();
  Pattern rPattern=Pattern.compile("(\\{)(.+?)(\\})");
  if (resultPattern != null) {
    Matcher resultMatch=rPattern.matcher(resultPattern);
    boolean foundGroupMatch=false;
    StringBuffer sb=new StringBuffer();
    while (resultMatch.find()) {
      foundGroupMatch=true;
      try {
        ldapRoles.reset();
        int elementNo=Integer.parseInt(resultMatch.group(2));
        for (int i=0; i <= elementNo; i++) {
          ldapRoles.find();
        }
        resultMatch.appendReplacement(sb,ldapRoles.group(group));
      }
 catch (      Exception e) {
        ROOT_LOGGER.failedRetrieveMatchingLdapRoles(e);
        throw new IllegalStateException(e);
      }
    }
    resultMatch.appendTail(sb);
    parsedLdapRoles=sb.toString();
    if (!foundGroupMatch) {
      ROOT_LOGGER.failedRetrieveMatchingGroups();
      parsedLdapRoles="";
    }
  }
 else {
    if (ldapRoles.find()) {
      parsedLdapRoles=ldapRoles.group(group);
    }
  }
  return parsedLdapRoles;
}
