{
  String distinguishedUserDN=(String)filterArguments[0];
  if ((!reverseGroupMember) && (usernameAttribute != null)) {
    NamingEnumeration<SearchResult> searchEnumeration=searchContext.search(baseDn,userFilter,filterArguments,searchControls);
    if (searchEnumeration.hasMore() == true) {
      SearchResult result=searchEnumeration.next();
      if (userDn == null || userDn.equalsIgnoreCase("dn")) {
        distinguishedUserDN=result.getNameInNamespace();
      }
 else {
        Attributes attributes=result.getAttributes();
        if (attributes != null) {
          Attribute dn=attributes.get(userDn);
          if (dn != null) {
            distinguishedUserDN=(String)dn.get();
          }
 else {
            ROOT_LOGGER.failedRetrieveLdapAttribute(userDn);
          }
        }
      }
    }
  }
  return distinguishedUserDN;
}
