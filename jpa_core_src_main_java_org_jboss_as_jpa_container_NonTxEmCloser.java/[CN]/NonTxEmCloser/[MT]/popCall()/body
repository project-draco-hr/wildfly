{
  Map<String,EntityManager> emStack=nonTxStack.pop();
  if (emStack != null) {
    for (    EntityManager entityManager : emStack.values()) {
      try {
        entityManager.close();
      }
 catch (      RuntimeException safeToIgnore) {
        if (log.isTraceEnabled()) {
          log.trace("Could not close (non-transactional) container managed entity manager." + "  This shouldn't impact application functionality (only read " + "operations occur in non-transactional mode)",safeToIgnore);
        }
      }
    }
  }
}
