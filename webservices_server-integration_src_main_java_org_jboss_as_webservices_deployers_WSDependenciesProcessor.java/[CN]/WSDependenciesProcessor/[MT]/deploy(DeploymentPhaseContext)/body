{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (isWSDeployment(deploymentUnit)) {
    final ModuleLoader moduleLoader=Module.getBootModuleLoader();
    final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JAXB_IMPL,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WS_SPI,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WS_COMMON,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WS_JAXWS_CLIENT,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WS_CXF_FACTORIES,false,false,true));
    moduleSpecification.addDependency(applyCXFExtensionImportFilters(new ModuleDependency(moduleLoader,JBOSS_WS_CXF_TRANSPORTS_HTTPSERVER,false,false,true)));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WS_CXF_SERVER,false,false,true));
    moduleSpecification.addDependency(applyCXFExtensionImportFilters(new ModuleDependency(moduleLoader,APACHE_CXF,false,false,true)));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,APACHE_XALAN,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,APACHE_XERCES,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,JBOSS_WEBSERVICES,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,SAAJ_IMPL,false,false,true));
    moduleSpecification.addDependency(new ModuleDependency(moduleLoader,WSDL4J,false,false,true));
  }
}
