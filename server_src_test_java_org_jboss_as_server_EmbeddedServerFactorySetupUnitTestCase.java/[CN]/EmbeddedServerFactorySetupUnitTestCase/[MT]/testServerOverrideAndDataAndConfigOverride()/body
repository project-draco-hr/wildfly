{
  Properties props=new Properties();
  props.setProperty(EmbeddedServerFactory.JBOSS_EMBEDDED_ROOT,embeddedRoot.getAbsolutePath());
  props.setProperty(ServerEnvironment.SERVER_BASE_DIR,alternativeServer.getAbsolutePath());
  props.setProperty(ServerEnvironment.SERVER_DATA_DIR,alternativeDataDir.getAbsolutePath());
  props.setProperty(ServerEnvironment.SERVER_CONFIG_DIR,alternativeConfigDir.getAbsolutePath());
  EmbeddedServerFactory.setupCleanDirectories(standardJBossHome,props);
  Assert.assertEquals(4,props.size());
  Assert.assertEquals(embeddedRoot.getAbsolutePath(),props.getProperty(EmbeddedServerFactory.JBOSS_EMBEDDED_ROOT));
  assertPropertyAndEmbeddedRootFile(props,ServerEnvironment.SERVER_BASE_DIR,-1);
  assertPropertyAndEmbeddedRootFile(props,ServerEnvironment.SERVER_DATA_DIR,3);
  assertPropertyAndEmbeddedRootFile(props,ServerEnvironment.SERVER_CONFIG_DIR,4);
}
