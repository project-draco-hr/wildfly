{
  if (state == State.DESTROYED) {
    log.debug("Ignoring destroy call; current state is " + this.state);
    return;
  }
  if (state == State.STARTED) {
    log.debug("Destroy requested before stop, calling stop now");
    stop();
  }
  try {
    destroyService();
  }
 catch (  Exception e) {
    log.error("Error destroying service",e);
  }
  state=State.DESTROYED;
}
