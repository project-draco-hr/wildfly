{
  GroupView oldMembers=this.groupView;
  GroupView newGroupView=new GroupView(newView,oldMembers,this.nodeFactory);
  this.logHistory(MESSAGES.viewCreated(newGroupView.allMembers,newGroupView.viewId,oldMembers));
  this.groupView=newGroupView;
  if (oldMembers.viewId == -1) {
    this.log.debugf("ViewAccepted: initial members set for partition %s: %s (%s)",this.getGroupName(),newGroupView.viewId,this.groupView);
    this.log.numberOfClusterMembers(newGroupView.allMembers.size());
    for (    ClusterNode node : newGroupView.allMembers) {
      this.log.debug(node);
    }
    this.notifyChannelLock();
  }
 else {
    int difference=newGroupView.allMembers.size() - oldMembers.allMembers.size();
    boolean merge=newView instanceof MergeView;
    if (this.isCurrentNodeCoordinator()) {
      this.clusterLifeCycleLog.newClusterCurrentView(this.groupName,newGroupView.viewId,difference,merge,newGroupView.allMembers);
    }
 else {
      this.log.newClusterView(this.getGroupName(),newGroupView.viewId,this.groupView,difference,merge);
    }
    this.log.debugf("dead members: %s",newGroupView.deadMembers);
    this.log.debugf("membership changed from %d to %d",oldMembers.allMembers.size(),newGroupView.allMembers.size());
    this.asynchHandler.queueEvent(newGroupView);
    if (this.allowSyncListeners) {
      this.notifyListeners(this.syncMembershipListeners,newGroupView.viewId,newGroupView.allMembers,newGroupView.deadMembers,newGroupView.newMembers,newGroupView.originatingGroups);
    }
  }
  return newGroupView;
}
