{
  final ResourceRoot deploymentRoot=phaseContext.getDeploymentUnit().getAttachment(Attachments.DEPLOYMENT_ROOT);
  final ModuleSpecification moduleSpecification=phaseContext.getDeploymentUnit().getAttachment(Attachments.MODULE_SPECIFICATION);
  if (deploymentRoot == null)   return;
  final ServicesAttachment servicesAttachments=phaseContext.getDeploymentUnit().getAttachment(Attachments.SERVICES);
  if (servicesAttachments != null && !servicesAttachments.getServiceImplementations(ServiceActivator.class.getName()).isEmpty()) {
    moduleSpecification.addSystemDependency(MSC_DEP);
  }
}
