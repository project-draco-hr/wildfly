{
  final ResourceRoot deploymentRoot=phaseContext.getDeploymentUnit().getAttachment(Attachments.DEPLOYMENT_ROOT);
  if (deploymentRoot == null)   return;
  final ServicesAttachment servicesAttachments=phaseContext.getDeploymentUnit().getAttachment(Attachments.SERVICES);
  if (servicesAttachments != null && !servicesAttachments.getServiceImplementations(ServiceActivator.class.getName()).isEmpty()) {
    phaseContext.getDeploymentUnit().addToAttachmentList(Attachments.MODULE_DEPENDENCIES,MSC_DEP);
  }
}
