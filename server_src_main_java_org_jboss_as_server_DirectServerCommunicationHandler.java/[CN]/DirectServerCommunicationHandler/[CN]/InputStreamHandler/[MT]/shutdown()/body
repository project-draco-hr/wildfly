{
  if (!shutdown.getAndSet(true)) {
    try {
      DirectServerCommunicationHandler.this.handler.shutdown();
    }
 catch (    Throwable t) {
      t.printStackTrace(System.err);
    }
 finally {
      DirectServerCommunicationHandler.this.shutdown();
      final Thread thread=new Thread(new Runnable(){
        public void run(){
          SystemExiter.exit(0);
        }
      }
);
      thread.setName("Exit thread");
      thread.start();
    }
  }
}
