{
  final OptionMap.Builder builder=OptionMap.builder();
  if (saslElement != null)   saslElement.applyTo(builder);
  final ConnectorService connectorService=new ConnectorService();
  connectorService.setOptionMap(builder.getMap());
  final ServiceName connectorName=JBOSS_REMOTING_CONNECTOR.append(name);
  final BatchServiceBuilder<ChannelListener<ConnectedStreamChannel<InetSocketAddress>>> serviceBuilder=batchBuilder.addService(connectorName,connectorService);
  serviceBuilder.addDependency(connectorName.append("auth-provider")).toInjector(connectorService.getAuthenticationProviderInjector());
  serviceBuilder.addDependency(RemotingContainerElement.JBOSS_REMOTING_ENDPOINT).toInjector(connectorService.getEndpointInjector());
  serviceBuilder.setInitialMode(ServiceController.Mode.IMMEDIATE);
}
