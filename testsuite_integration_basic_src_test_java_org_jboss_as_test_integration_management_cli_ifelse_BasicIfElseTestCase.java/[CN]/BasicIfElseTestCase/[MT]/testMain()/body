{
  final CommandContext ctx=CLITestUtil.getCommandContext(cliOut);
  try {
    ctx.connectController();
    ctx.handle(this.getAddPropertyReq("\"true\""));
    assertEquals("false",runIf(ctx));
    assertEquals("true",runIf(ctx));
    assertEquals("false",runIf(ctx));
  }
  finally {
    ctx.handleSafe(this.getRemovePropertyReq());
    ctx.terminateSession();
    cliOut.reset();
  }
}
