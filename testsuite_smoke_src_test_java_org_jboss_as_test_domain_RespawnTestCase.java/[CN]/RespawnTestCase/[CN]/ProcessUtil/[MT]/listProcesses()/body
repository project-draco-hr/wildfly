{
  final Process p;
  try {
    p=Runtime.getRuntime().exec(getJpsCommand());
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  List<String> processes=new ArrayList<String>();
  BufferedReader input=new BufferedReader(new InputStreamReader(p.getInputStream()));
  try {
    String line;
    while ((line=input.readLine()) != null) {
      if (line.contains("jboss-modules.jar")) {
        processes.add(line);
      }
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    StreamUtils.safeClose(input);
  }
  return processes;
}
