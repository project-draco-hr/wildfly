{
  List<Builder<?>> builders=new LinkedList<>();
  if (cacheName.equals(SubGroupServiceNameFactory.DEFAULT_SUB_GROUP)) {
    builders.add(new TemplateConfigurationBuilder(containerName,CACHE_NAME,cacheName){
      @Override public ConfigurationBuilder createConfigurationBuilder(){
        ConfigurationBuilder builder=super.createConfigurationBuilder();
        CacheMode mode=builder.clustering().cacheMode();
        builder.clustering().cacheMode(mode.isClustered() ? CacheMode.REPL_SYNC : CacheMode.LOCAL);
        builder.persistence().clearStores();
        return builder;
      }
    }
);
    builders.add(new CacheBuilder<>(containerName,CACHE_NAME));
    for (    CacheGroupBuilderProvider provider : ServiceLoader.load(this.providerClass,this.providerClass.getClassLoader())) {
      builders.addAll(provider.getBuilders(containerName,CACHE_NAME));
    }
  }
  return builders;
}
