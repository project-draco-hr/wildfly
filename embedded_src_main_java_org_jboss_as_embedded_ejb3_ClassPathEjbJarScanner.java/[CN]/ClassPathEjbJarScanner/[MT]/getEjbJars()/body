{
  final Collection<String> returnValue=new ArrayList<String>();
  String classPath=getSystemProperty("surefire.test.class.path");
  if (classPath == null || classPath.isEmpty())   classPath=getSystemProperty(SYS_PROP_KEY_CLASS_PATH);
  if (log.isTraceEnabled()) {
    log.tracef("Class Path: %s",classPath);
  }
  final String[] classPathEntries=classPath.split(File.pathSeparator);
  for (  final String classPathEntry : classPathEntries) {
    if (isEjbJar(classPathEntry)) {
      returnValue.add(classPathEntry);
    }
  }
  if (log.isDebugEnabled()) {
    log.debug("EJB Modules discovered on ClassPath: " + returnValue);
  }
  return returnValue.toArray(DUMMY);
}
