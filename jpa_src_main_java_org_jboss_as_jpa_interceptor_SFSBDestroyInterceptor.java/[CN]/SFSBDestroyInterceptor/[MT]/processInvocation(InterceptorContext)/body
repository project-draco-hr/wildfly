{
  try {
    return interceptorContext.proceed();
  }
  finally {
    StatefulSessionComponentInstance sfsb=(StatefulSessionComponentInstance)interceptorContext.getPrivateData(ComponentInstance.class);
    SFSBContextHandleImpl sfsbContextHandle=new SFSBContextHandleImpl(sfsb);
    List<EntityManager> readyToClose=SFSBXPCMap.getINSTANCE().remove(sfsbContextHandle);
    if (readyToClose != null && readyToClose.size() > 0) {
      for (      EntityManager entityManager : readyToClose) {
        if (entityManager instanceof ExtendedEntityManager) {
          ((ExtendedEntityManager)entityManager).containerClose();
        }
 else {
          throw new RuntimeException("can only close SFSB XPC entity manager that are instances of ExtendedEntityManager" + entityManager.getClass().getName());
        }
      }
    }
  }
}
