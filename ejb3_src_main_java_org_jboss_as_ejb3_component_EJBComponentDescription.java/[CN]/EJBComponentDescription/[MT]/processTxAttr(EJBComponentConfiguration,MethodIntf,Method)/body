{
  String methodName=method.getName();
  TransactionAttributeType txAttr=getTransactionAttribute(methodIntf,methodName,toString(method.getParameterTypes()));
  ConcurrentMap<MethodIntf,ConcurrentMap<String,ConcurrentMap<ArrayKey,TransactionAttributeType>>> txAttrs=configuration.getTxAttrs();
  ConcurrentMap<String,ConcurrentMap<ArrayKey,TransactionAttributeType>> perMethodIntf=txAttrs.get(methodIntf);
  if (perMethodIntf == null) {
    perMethodIntf=new ConcurrentHashMap<String,ConcurrentMap<ArrayKey,TransactionAttributeType>>();
    txAttrs.put(methodIntf,perMethodIntf);
  }
  ConcurrentMap<ArrayKey,TransactionAttributeType> perMethod=perMethodIntf.get(methodName);
  if (perMethod == null) {
    perMethod=new ConcurrentHashMap<ArrayKey,TransactionAttributeType>();
    perMethodIntf.put(methodName,perMethod);
  }
  perMethod.put(new ArrayKey(method.getParameterTypes()),txAttr);
}
