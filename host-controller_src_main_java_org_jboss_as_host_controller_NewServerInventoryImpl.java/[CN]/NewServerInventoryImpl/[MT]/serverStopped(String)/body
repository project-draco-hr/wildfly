{
  final ManagedServer server=servers.get(serverName);
  if (server == null) {
    log.errorf("No server called %s exists for stop",serverName);
    return;
  }
  domainController.unregisterRunningServer(server.getServerName());
  if (server.getState() != ServerState.STOPPING) {
    try {
      if (server.incrementAndGetRespawnCount() < 10) {
        server.startServerProcess();
        return;
      }
      server.setState(ServerState.MAX_FAILED);
    }
 catch (    IOException e) {
      log.error("Failed to start server " + serverName,e);
    }
  }
  servers.remove(serverName);
}
