{
  File file=new File(logDir,"test-file.log");
  ModelNode op=createAddFileHandlerOperation("test-file","test-formatter","fail.log");
  executeForFailure(op);
  List<ModelNode> records=readFile(file,2);
  List<ModelNode> ops=checkBootRecordHeader(records.get(1),1,"core",false,false,false);
  checkOpsEqual(op,ops.get(0));
  op=createAddSyslogHandlerTcpOperation("test-file","test-formatter",InetAddress.getByName("localhost"),SYSLOG_PORT,null,MessageTransfer.OCTET_COUNTING);
  executeForFailure(op);
  records=readFile(file,3);
  ops=checkBootRecordHeader(records.get(2),1,"core",false,false,false);
  checkOpsEqual(op,ops.get(0));
}
