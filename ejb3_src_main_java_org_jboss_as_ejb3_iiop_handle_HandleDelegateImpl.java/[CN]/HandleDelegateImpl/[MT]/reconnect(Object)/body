{
  if (object instanceof ObjectImpl) {
    try {
      ObjectImpl objectImpl=(ObjectImpl)object;
      objectImpl._get_delegate();
    }
 catch (    BAD_OPERATION e) {
      try {
        final Stub stub=(Stub)object;
        final ORB orb=(ORB)new InitialContext().lookup("java:comp/ORB");
        stub.connect(orb);
      }
 catch (      NamingException ne) {
        throw new IOException("Unable to lookup java:comp/ORB");
      }
    }
  }
 else {
    throw new IOException("Not an ObjectImpl " + object.getClass().getName());
  }
}
