{
  inTransaction=inTx;
  ConnectionFactory cf=(ConnectionFactory)lookup(info.connectionFactoryLookup);
  if (inTransaction) {
    XAJMSContext xaContext=((XAConnectionFactory)cf).createXAContext(info.userName,info.password);
    return xaContext.getContext();
  }
 else {
    return cf.createContext(info.userName,info.password,info.ackMode);
  }
}
