{
  VirtualFile entry=null;
  if (name.isEmpty()) {
    entry=base;
  }
 else {
    entry=treeLookup(name);
  }
  if (entry == null)   throw new NamingException(sm.getString("resources.notFound",name));
  ResourceAttributes attrs=new ResourceAttributes();
  attrs.setCreationDate(new Date(entry.getLastModified()));
  attrs.setName(entry.getName());
  if (entry.isFile())   attrs.setResourceType("");
  attrs.setContentLength(entry.getSize());
  attrs.setLastModified(entry.getLastModified());
  return attrs;
}
