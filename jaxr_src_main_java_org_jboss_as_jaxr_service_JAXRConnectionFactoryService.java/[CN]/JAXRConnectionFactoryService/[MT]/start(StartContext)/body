{
  JAXRConfiguration config=injectedConfig.getValue();
  if (config.getConnectionFactoryBinding() != null) {
    log.infof("Binding JAXR ConnectionFactory: %s",config.getConnectionFactoryBinding());
    try {
      String jndiName=config.getConnectionFactoryBinding();
      ContextNames.BindInfo bindInfo=ContextNames.bindInfoFor(jndiName);
      BinderService binderService=new BinderService(bindInfo.getBindName());
      ConnectionFactory jaxrFactory=loadConnectionFactoryImplementation(config);
      setJAXRFactoryProperies(jaxrFactory,config.getProperties());
      ImmediateValue<ConnectionFactory> value=new ImmediateValue<ConnectionFactory>(jaxrFactory);
      binderService.getManagedObjectInjector().inject(new ValueManagedReferenceFactory(value));
      binderService.getNamingStoreInjector().inject((ServiceBasedNamingStore)injectedJavaContext.getValue());
      ServiceBuilder<?> builder=context.getChildTarget().addService(bindInfo.getBinderServiceName(),binderService);
      builder.install();
    }
 catch (    Exception ex) {
      log.errorf(ex,"Cannot bind JAXR ConnectionFactory");
    }
  }
}
