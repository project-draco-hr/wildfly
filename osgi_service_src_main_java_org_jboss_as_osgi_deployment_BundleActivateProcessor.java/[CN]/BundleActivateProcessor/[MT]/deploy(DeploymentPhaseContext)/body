{
  DeploymentUnit depUnit=phaseContext.getDeploymentUnit();
  Deployment deployment=depUnit.getAttachment(OSGiConstants.DEPLOYMENT_KEY);
  XBundle bundle=depUnit.getAttachment(OSGiConstants.INSTALLED_BUNDLE_KEY);
  if (bundle != null && deployment.isAutoStart() && bundle.isResolved()) {
    try {
      bundle.start(Bundle.START_TRANSIENT | Bundle.START_ACTIVATION_POLICY);
      depUnit.putAttachment(Attachments.BUNDLE_STATE_KEY,BundleState.ACTIVE);
    }
 catch (    BundleException ex) {
      LOGGER.errorCannotStartBundle(ex,bundle);
    }
  }
}
