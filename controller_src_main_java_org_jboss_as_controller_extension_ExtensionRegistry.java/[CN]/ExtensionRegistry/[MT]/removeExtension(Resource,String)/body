{
  Map<String,SubsystemInformation> subsystems=extensionInfo.remove(moduleName);
  if (subsystems != null) {
synchronized (subsystems) {
      Set<String> subsystemNames=subsystems.keySet();
      for (      String subsystem : subsystemNames) {
        if (rootResource.getChild(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM,subsystem)) != null) {
          extensionInfo.put(moduleName,subsystems);
          throw MESSAGES.removingExtensionWithRegisteredSubsystem(moduleName,subsystem);
        }
      }
      for (      String subsystem : subsystemNames) {
        profileRegistration.unregisterSubModel(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM,subsystem));
        if (deploymentsRegistration != null) {
          deploymentsRegistration.unregisterSubModel(PathElement.pathElement(ModelDescriptionConstants.SUBSYSTEM,subsystem));
        }
      }
      unnamedParsers.remove(moduleName);
    }
  }
}
