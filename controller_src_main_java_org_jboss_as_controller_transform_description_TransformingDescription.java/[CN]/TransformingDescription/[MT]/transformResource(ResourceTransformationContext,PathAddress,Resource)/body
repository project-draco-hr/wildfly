{
  final ModelNode originalModel=original.getModel().clone();
  originalModel.protect();
  if (discardPolicy.discard(originalModel,address,ctx)) {
    return;
  }
  final TransformationRule.ResourceContext context=new TransformationRule.ResourceContext(ctx,originalModel){
    @Override void invokeNext(    final Resource resource) throws OperationFailedException {
      resourceTransfomer.transformResource(ctx,address,resource);
    }
  }
;
  final TransformationRule rule=new AttributeTransformationRule(attributeTransformations);
  rule.tranformResource(original,address,context);
}
