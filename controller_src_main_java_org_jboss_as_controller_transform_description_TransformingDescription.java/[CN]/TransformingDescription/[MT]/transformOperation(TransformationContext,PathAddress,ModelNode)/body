{
  if (discardPolicy.discard(operation,address,ctx)) {
    return OperationTransformer.DISCARD.transformOperation(ctx,address,operation);
  }
  final ModelNode originalModel=operation.clone();
  originalModel.protect();
  final TransformationRule.OperationContext context=new TransformationRule.OperationContext(ctx,originalModel){
    @Override void invokeNext(    OperationTransformer.TransformedOperation transformedOperation) throws OperationFailedException {
      recordTransformedOperation(transformedOperation);
    }
  }
;
  operation.get(ModelDescriptionConstants.OP_ADDR).set(address.toModelNode());
  final TransformationRule first=new AttributeTransformationRule(attributeTransformations);
  first.transformOperation(operation,address,context);
  return context.createOp();
}
