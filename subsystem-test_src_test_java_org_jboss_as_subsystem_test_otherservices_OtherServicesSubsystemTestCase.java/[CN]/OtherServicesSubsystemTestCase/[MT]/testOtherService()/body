{
  ((OtherServicesSubsystemExtension)getMainExtension()).setAddHandler(SubsystemAddWithOtherService.INSTANCE);
  String subsystemXml="<subsystem xmlns=\"" + SimpleSubsystemExtension.NAMESPACE + "\">"+ "</subsystem>";
  KernelServices services=super.installInController(new ExtraServicesInit(),subsystemXml);
  ModelNode model=services.readWholeModel();
  Assert.assertTrue(model.get(SUBSYSTEM).hasDefined(OtherServicesSubsystemExtension.SUBSYSTEM_NAME));
  Assert.assertNotNull(services.getContainer().getService(OtherService.NAME));
  Assert.assertNotNull(services.getContainer().getService(MyService.NAME));
  MyService myService=(MyService)services.getContainer().getService(MyService.NAME).getValue();
  Assert.assertNotNull(myService.otherValue.getValue());
}
