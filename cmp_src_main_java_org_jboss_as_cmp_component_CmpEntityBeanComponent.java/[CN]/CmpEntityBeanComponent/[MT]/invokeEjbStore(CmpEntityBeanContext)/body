{
  if (ctx.getPrimaryKey() != null) {
    if (ejbStoreForClean) {
      try {
        ctx.getInstance().ejbStore();
      }
 catch (      Exception e) {
        throwRemoteException(e);
      }
    }
 else {
      boolean modified=false;
      try {
        modified=getStoreManager().isStoreRequired(ctx);
      }
 catch (      Exception e) {
        throwRemoteException(e);
      }
      if (modified) {
        try {
          ctx.getInstance().ejbStore();
        }
 catch (        Exception e) {
          throwRemoteException(e);
        }
      }
    }
  }
}
