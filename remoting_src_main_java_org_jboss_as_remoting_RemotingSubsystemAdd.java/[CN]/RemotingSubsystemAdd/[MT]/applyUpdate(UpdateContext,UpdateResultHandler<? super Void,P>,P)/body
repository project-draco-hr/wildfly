{
  final EndpointService endpointService=new EndpointService();
  final BatchServiceBuilder<Endpoint> endpointBuilder=updateContext.getBatchBuilder().addService(RemotingServices.ENDPOINT,endpointService);
  final Injector<Executor> executorInjector=endpointService.getExecutorInjector();
  endpointBuilder.addDependency(ThreadsServices.executorName(threadPoolName),new CastingInjector<Executor>(executorInjector,Executor.class));
  endpointBuilder.setInitialMode(ServiceController.Mode.IMMEDIATE);
}
