{
  validator.validate(operation);
  ThreadMXBean mbean=ManagementFactory.getThreadMXBean();
  try {
    long id=operation.require(PlatformMBeanConstants.ID).asLong();
    ThreadInfo info;
    if (operation.hasDefined(PlatformMBeanConstants.MAX_DEPTH)) {
      info=mbean.getThreadInfo(id,operation.require(PlatformMBeanConstants.MAX_DEPTH).asInt());
    }
 else {
      info=mbean.getThreadInfo(id);
    }
    final ModelNode result=context.getResult();
    if (info != null) {
      result.set(PlatformMBeanUtil.getDetypedThreadInfo(info,mbean.isThreadCpuTimeSupported()));
    }
  }
 catch (  SecurityException e) {
    throw new OperationFailedException(new ModelNode().set(e.toString()));
  }
  context.stepCompleted();
}
