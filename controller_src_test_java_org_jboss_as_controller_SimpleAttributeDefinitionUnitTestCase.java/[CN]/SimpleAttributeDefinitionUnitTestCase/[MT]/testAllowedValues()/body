{
  SimpleAttributeDefinition ad=new SimpleAttributeDefinitionBuilder("test",ModelType.STRING).setValidator(new EnumValidator<TestEnum>(TestEnum.class,false,false,TestEnum.A,TestEnum.B)).build();
  ParameterValidator pv=ad.getValidator();
  Assert.assertTrue(pv instanceof AllowedValuesValidator);
  List<ModelNode> allowed=((AllowedValuesValidator)pv).getAllowedValues();
  Assert.assertNotNull(allowed);
  Assert.assertEquals(2,allowed.size());
  Assert.assertTrue(allowed.contains(new ModelNode("A")));
  Assert.assertTrue(allowed.contains(new ModelNode("B")));
  ad=new SimpleAttributeDefinitionBuilder("test",ModelType.STRING).build();
  pv=ad.getValidator();
  Assert.assertTrue(pv instanceof AllowedValuesValidator);
  allowed=((AllowedValuesValidator)pv).getAllowedValues();
  Assert.assertNull(allowed);
}
