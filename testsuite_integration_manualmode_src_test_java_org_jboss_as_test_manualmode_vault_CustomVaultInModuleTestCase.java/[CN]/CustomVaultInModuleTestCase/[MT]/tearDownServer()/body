{
  ModelControllerClient client=null;
  try {
    client=TestSuiteEnvironment.getModelControllerClient();
    try {
      ModelNode vaultResult=client.execute(Util.createRemoveOperation(PathAddress.pathAddress(VaultResourceDefinition.PATH)));
      ModelNode subsystemResult=client.execute(Util.createRemoveOperation(PathAddress.pathAddress(TestVaultSubsystemResourceDescription.PATH)));
      ModelNode extensionResult=client.execute(Util.createRemoveOperation(PathAddress.pathAddress(ModelDescriptionConstants.EXTENSION,MODULE_NAME)));
      ModelTestUtils.checkOutcome(vaultResult);
      ModelTestUtils.checkOutcome(subsystemResult);
      ModelTestUtils.checkOutcome(extensionResult);
    }
  finally {
      containerController.stop(CONTAINER);
    }
  }
  finally {
    testModule.remove();
    IoUtils.safeClose(client);
  }
}
