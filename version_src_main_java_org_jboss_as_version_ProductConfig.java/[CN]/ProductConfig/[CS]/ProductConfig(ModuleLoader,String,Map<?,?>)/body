{
  String productName=null;
  String productVersion=null;
  String consoleSlot=null;
  try {
    FileReader reader=new FileReader(getProductConf(home));
    Properties props=new Properties();
    props.load(reader);
    String slot=(String)props.get("slot");
    if (slot != null) {
      Module module=loader.loadModule(ModuleIdentifier.create("org.jboss.as.product",slot));
      InputStream stream=module.getClassLoader().getResourceAsStream("META-INF/MANIFEST.MF");
      Manifest manifest=null;
      if (stream != null) {
        manifest=new Manifest(stream);
      }
      if (manifest != null) {
        productName=manifest.getMainAttributes().getValue("JBoss-Product-Release-Name");
        productVersion=manifest.getMainAttributes().getValue("JBoss-Product-Release-Version");
        consoleSlot=manifest.getMainAttributes().getValue("JBoss-Product-Console-Slot");
      }
    }
    setSystemProperties(props,providedProperties);
  }
 catch (  Exception e) {
  }
  name=productName;
  version=productVersion;
  this.consoleSlot=consoleSlot;
}
