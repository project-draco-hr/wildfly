{
  TestPassivationRemoteHome home=(TestPassivationRemoteHome)ctx.lookup(jndi);
  TestPassivationRemote remote1=home.create();
  Assert.assertEquals("Returned remote1 result was not expected",TestPassivationRemote.EXPECTED_RESULT,remote1.returnTrueString());
  TestPassivationRemoteHome home2=(TestPassivationRemoteHome)ctx.lookup(jndi);
  TestPassivationRemote remote2=home2.create();
  Assert.assertEquals("Returned remote2 result was not expected",TestPassivationRemote.EXPECTED_RESULT,remote2.returnTrueString());
  ctx.lookup(jndi);
  Assert.assertTrue("ejbPassivate not called on remote1, check cache configuration and client sleep time",remote1.hasBeenPassivated());
  Assert.assertTrue("ejbPassivate not called on remote2, check cache configuration and client sleep time",remote2.hasBeenPassivated());
  remote1.remove();
  remote2.remove();
}
