{
  PathAddress address=PathAddress.pathAddress(operation.get(OP_ADDR));
  String name=address.getLastElement().getValue();
  ModelNode pathNode=operation.get(PATH);
  ModelNode relNode=operation.get(RELATIVE_TO);
  String path=pathNode.isDefined() ? pathNode.asString() : null;
  String relativeTo=relNode.isDefined() ? relNode.asString() : null;
  final ServiceTarget target=context.getServiceTarget().subTarget();
  if (relativeTo == null) {
    newControllers.add(AbsolutePathService.addService(name,path,target));
  }
 else {
    newControllers.add(RelativePathService.addService(name,path,relativeTo,target));
  }
}
