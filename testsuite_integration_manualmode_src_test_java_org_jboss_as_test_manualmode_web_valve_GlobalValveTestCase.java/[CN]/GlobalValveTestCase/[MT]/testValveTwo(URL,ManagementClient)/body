{
  Map<String,String> params=new HashMap<String,String>();
  params.put(PARAM_NAME,VALVE_NAME_2);
  ValveUtil.addValve(client,VALVE_NAME_2,modulename,classname,params);
  ValveUtil.reload(client);
  log.debug("Testing url " + url + " against two valves named "+ VALVE_NAME_1+ " and "+ VALVE_NAME_2);
  Header[] valveHeaders=ValveUtil.hitValve(url);
  assertEquals("There were two global valves defined - they're missing now",2,valveHeaders.length);
  if (DEFAULT_PARAM_VALUE.equals(valveHeaders[0].getValue())) {
    assertEquals("First header has default parameter second has to have from param",VALVE_NAME_2,valveHeaders[1].getValue());
  }
 else   if (VALVE_NAME_2.equals(valveHeaders[0].getValue())) {
    assertEquals("First header has parametrized value the second has to have default one",DEFAULT_PARAM_VALUE,valveHeaders[1].getValue());
  }
 else {
    fail("The first header has value neither default nor parametrized. The value is: " + valveHeaders[0].getValue() + " what is not correct.");
  }
}
