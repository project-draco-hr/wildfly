{
  String warnameA="A" + String.valueOf(++testId);
  this.startManagers(warnameA,managersA);
  String warnameB="B" + String.valueOf(testId);
  this.startManagers(warnameB,managersB);
  SetAttributesRequestHandler setHandler=new SetAttributesRequestHandler(allAttributes,false);
  SessionTestUtil.invokeRequest(managersA[0],setHandler,null);
  validateNewSession(setHandler);
  String idA=setHandler.getSessionId();
  setHandler=new SetAttributesRequestHandler(allAttributes,false);
  SessionTestUtil.invokeRequest(managersB[0],setHandler,null);
  validateNewSession(setHandler);
  String idB=setHandler.getSessionId();
  BasicRequestHandler getHandler=new BasicRequestHandler(allAttributes.keySet(),false);
  SessionTestUtil.invokeRequest(managersA[1],getHandler,idA);
  validateExpectedAttributes(allAttributes,getHandler);
  getHandler=new BasicRequestHandler(allAttributes.keySet(),false);
  SessionTestUtil.invokeRequest(managersB[1],getHandler,idB);
  validateExpectedAttributes(allAttributes,getHandler);
  managersB[1].stop();
  log.info("jbcmB1 stopped");
  managersB[1]=this.startManager(warnameB,cacheContainers[1]);
  log.info("jbcmB1 started");
  getHandler=new BasicRequestHandler(allAttributes.keySet(),false);
  SessionTestUtil.invokeRequest(managersA[1],getHandler,idA);
  validateExpectedAttributes(allAttributes,getHandler);
  getHandler=new BasicRequestHandler(allAttributes.keySet(),false);
  SessionTestUtil.invokeRequest(managersB[1],getHandler,idB);
  validateExpectedAttributes(allAttributes,getHandler);
}
