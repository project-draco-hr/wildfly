{
  Deployment deployment=bundle.adapt(Deployment.class);
  DeploymentUnit depUnit=deployment.getAttachment(DeploymentUnit.class);
  if (depUnit == null) {
    handler.start(bundle,options);
    return;
  }
  if (!depUnit.hasAttachment(Attachments.DEFERRED_MODULE_PHASE)) {
    handler.start(bundle,options);
    return;
  }
  ServiceController<Phase> phaseService=getDeferredPhaseService(depUnit);
  if (phaseService.getMode() != Mode.NEVER) {
    handler.start(bundle,options);
    return;
  }
  activateDeferredPhase(bundle,depUnit,phaseService);
}
