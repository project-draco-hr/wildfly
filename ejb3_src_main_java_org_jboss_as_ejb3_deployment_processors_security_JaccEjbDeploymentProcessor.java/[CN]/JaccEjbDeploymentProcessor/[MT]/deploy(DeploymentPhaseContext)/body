{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  AbstractSecurityDeployer<?> deployer=null;
  deployer=new EjbSecurityDeployer();
  JaccService<?> service=deployer.deploy(deploymentUnit);
  if (service != null) {
    final DeploymentUnit parentDU=deploymentUnit.getParent();
    ServiceName jaccServiceName=getJaccServiceName(deploymentUnit);
    final ServiceTarget serviceTarget=phaseContext.getServiceTarget();
    ServiceBuilder<?> builder=serviceTarget.addService(jaccServiceName,service);
    if (parentDU != null) {
      builder.addDependency(JaccService.SERVICE_NAME.append(parentDU.getName()),PolicyConfiguration.class,service.getParentPolicyInjector());
    }
    builder.setInitialMode(Mode.ACTIVE).install();
  }
}
