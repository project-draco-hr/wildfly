{
  final long time=System.currentTimeMillis() + TIMEOUT;
  boolean hasOne=false;
  boolean hasTwo=false;
  do {
    Thread.sleep(250);
    hasOne=lookupServerInModel(MASTER,SERVER_ONE);
    hasTwo=lookupServerInModel(MASTER,SERVER_TWO);
    if (hasOne && hasTwo) {
      break;
    }
  }
 while (System.currentTimeMillis() < time);
  Assert.assertTrue(hasOne);
  Assert.assertTrue(hasTwo);
}
