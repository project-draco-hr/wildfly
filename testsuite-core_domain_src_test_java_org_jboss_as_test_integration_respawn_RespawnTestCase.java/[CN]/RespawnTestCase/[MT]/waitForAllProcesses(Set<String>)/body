{
  final long time=System.currentTimeMillis() + TIMEOUT;
  List<RunningProcess> runningProcesses;
  do {
    Thread.sleep(200);
    runningProcesses=processUtil.getRunningProcesses();
    for (Iterator<RunningProcess> it=runningProcesses.iterator(); it.hasNext(); ) {
      RunningProcess proc=it.next();
      if (excludedProcessIds.contains(proc.getProcessId())) {
        it.remove();
      }
    }
    if (processUtil.containsProcesses(runningProcesses,HOST_CONTROLLER,SERVER_ONE,SERVER_TWO)) {
      return runningProcesses;
    }
  }
 while (System.currentTimeMillis() < time);
  Assert.fail("Did not have all running processes " + runningProcesses);
  return null;
}
