{
  final SubsystemRegistration subsystem=context.registerSubsystem(SUBSYSTEM_NAME);
  final ManagementResourceRegistration registration=subsystem.registerSubsystemModel(MessagingSubsystemProviders.SUBSYSTEM);
  final Configuration configuration=new ConfigurationImpl();
  registration.registerOperationHandler(ADD,new MessagingSubsystemAdd(configuration),MessagingSubsystemProviders.SUBSYSTEM_ADD,false);
  registration.registerOperationHandler(DESCRIBE,MessagingSubsystemDescribeHandler.INSTANCE,MessagingSubsystemProviders.SUBSYSTEM_DESCRIBE,false,OperationEntry.EntryType.PRIVATE);
  subsystem.registerXMLElementWriter(MessagingSubsystemParser.getInstance());
  final ManagementResourceRegistration queue=registration.registerSubModel(PathElement.pathElement(QUEUE),MessagingSubsystemProviders.QUEUE_RESOURCE);
  queue.registerOperationHandler(ADD,QueueAdd.INSTANCE,QueueAdd.INSTANCE,false);
  queue.registerOperationHandler(REMOVE,QueueRemove.INSTANCE,QueueRemove.INSTANCE,false);
  final ManagementResourceRegistration cfs=registration.registerSubModel(CFS_PATH,MessagingSubsystemProviders.CF);
  cfs.registerOperationHandler(ADD,ConnectionFactoryAdd.INSTANCE,MessagingSubsystemProviders.CF_ADD,false);
  cfs.registerOperationHandler(REMOVE,ConnectionFactoryRemove.INSTANCE,MessagingSubsystemProviders.CF_REMOVE,false);
  final ManagementResourceRegistration queues=registration.registerSubModel(JMS_QUEUE_PATH,MessagingSubsystemProviders.JMS_QUEUE_RESOURCE);
  queues.registerOperationHandler(ADD,JMSQueueAdd.INSTANCE,MessagingSubsystemProviders.JMS_QUEUE_ADD,false);
  queues.registerOperationHandler(REMOVE,JMSQueueRemove.INSTANCE,MessagingSubsystemProviders.JMS_QUEUE_REMOVE,false);
  final ManagementResourceRegistration topics=registration.registerSubModel(TOPIC_PATH,MessagingSubsystemProviders.JMS_TOPIC_RESOURCE);
  topics.registerOperationHandler(ADD,JMSTopicAdd.INSTANCE,MessagingSubsystemProviders.JMS_TOPIC_ADD,false);
  topics.registerOperationHandler(REMOVE,JMSTopicRemove.INSTANCE,MessagingSubsystemProviders.JMS_TOPIC_REMOVE,false);
  final ManagementResourceRegistration resourceAdapters=registration.registerSubModel(RA_PATH,MessagingSubsystemProviders.RA);
  resourceAdapters.registerOperationHandler(ADD,PooledConnectionFactoryAdd.INSTANCE,MessagingSubsystemProviders.RA_ADD,false);
  resourceAdapters.registerOperationHandler(REMOVE,PooledConnectionFactoryRemove.INSTANCE,MessagingSubsystemProviders.RA_REMOVE);
}
