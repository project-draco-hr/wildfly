{
  String pid=TestBundleActivator2.class.getName();
  assertFalse("Precondition",ConfigAdminManagementOperations.listConfigurations(getControllerClient()).contains(pid));
  long bundleId=OSGiManagementOperations.getBundleId(getControllerClient(),"test-config-admin2",new Version(0,0,0));
  assertTrue(bundleId > 0);
  assertTrue(OSGiManagementOperations.bundleStart(getControllerClient(),bundleId));
  assertEquals("ACTIVE",OSGiManagementOperations.getBundleState(getControllerClient(),bundleId));
  Map<String,String> config=ConfigAdminManagementOperations.readConfiguration(getControllerClient(),pid);
  assertEquals("hi from a bundle activator",config.get("from.activator"));
  assertTrue(ConfigAdminManagementOperations.removeConfiguration(getControllerClient(),pid));
  assertFalse(ConfigAdminManagementOperations.listConfigurations(getControllerClient()).contains(pid));
}
