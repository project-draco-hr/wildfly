{
  log.infof("Binding JAXR ConnectionFactory: %s",config.getNamingContext());
  try {
    String jndiName=config.getNamingContext();
    ContextNames.BindInfo bindInfo=ContextNames.bindInfoFor(jndiName);
    BinderService binderService=new BinderService(bindInfo.getBindName());
    ImmediateValue value=new ImmediateValue(new ConnectionFactoryImpl());
    binderService.getManagedObjectInjector().inject(new ValueManagedReferenceFactory(value));
    binderService.getNamingStoreInjector().inject((ServiceBasedNamingStore)injectedJavaContext.getValue());
    ServiceBuilder<?> builder=context.getChildTarget().addService(bindInfo.getBinderServiceName(),binderService);
    builder.install();
  }
 catch (  Exception ex) {
    log.errorf(ex,"Cannot bind JAXR ConnectionFactory");
  }
}
