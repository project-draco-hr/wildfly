{
  ResourceAndRegistration threadResource=resource.get();
  if (threadResource == null || threadResource != ResourceAndRegistration.NULL) {
    throw ServerMessages.MESSAGES.internalUseOnly();
  }
  try {
    resource.set(new ResourceAndRegistration(context.readResourceFromRoot(PathAddress.EMPTY_ADDRESS,true),context.getResourceRegistration()));
  }
 catch (  UnauthorizedException e) {
    resource.set(new ResourceAndRegistration(Resource.Factory.create(),new EmptyResourceRegistration()));
  }
  context.stepCompleted();
}
