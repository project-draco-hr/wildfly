{
  resource.set(ResourceAndRegistration.NULL);
  ResourceAndRegistration reg=null;
  try {
    controller.execute(OPERATION,null,OperationTransactionControl.COMMIT,null);
  }
  finally {
    reg=resource.get();
    resource.remove();
    if (ResourceAndRegistration.NULL == reg) {
      throw ServerMessages.MESSAGES.cannotGetRootResource();
    }
  }
  return reg;
}
