{
  setState(ServerState.BOOTING);
  processManagerSlave.startProcess(serverProcessName);
  ServerManagerCommunicationsActivator commActivator=new ServerManagerCommunicationsActivator(serverProcessName,null,managementSocket);
  Runnable fakeLogConfigurator=new FakeLogConfigurator();
  ServerStartTask startTask=new ServerStartTask(serverName,portOffset,fakeLogConfigurator,Collections.<ServiceActivator>singletonList(commActivator),updateList);
  final ByteArrayOutputStream baos=new ByteArrayOutputStream(32768);
  final Marshaller marshaller=MARSHALLER_FACTORY.createMarshaller(CONFIG);
  marshaller.start(Marshalling.createByteOutput(baos));
  marshaller.writeObject(startTask);
  marshaller.finish();
  marshaller.close();
  processManagerSlave.sendStdin(serverProcessName,baos.toByteArray());
  setState(ServerState.STARTING);
}
