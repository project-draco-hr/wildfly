{
  super.start(context);
  modCluster=ModCluster.builder(workerInjectedValue.getValue()).setHealthCheckInterval(healthCheckInterval).setMaxRequestTime(maxRequestTime).setCacheConnections(cachedConnections).setQueueNewRequests(requestQueueSize > 0).setRequestQueueSize(requestQueueSize).setRemoveBrokenNodes(removeBrokenNodes).build();
  MCMPConfig.Builder builder=MCMPConfig.builder();
  InetAddress multicastAddress=advertiseSocketBinding.getValue().getMulticastAddress();
  if (multicastAddress == null) {
    throw UndertowLogger.ROOT_LOGGER.advertiseSocketBindingRequiresMulticastAddress();
  }
  builder.enableAdvertise().setAdvertiseAddress(advertiseSocketBinding.getValue().getSocketAddress().getAddress().getHostAddress()).setAdvertiseGroup(multicastAddress.getHostAddress()).setAdvertisePort(advertiseSocketBinding.getValue().getPort()).setAdvertiseFrequency(advertiseFrequency).setPath(advertisePath).setProtocol(advertiseProtocol).setSecurityKey(securityKey);
  builder.setManagementHost(managementSocketBinding.getValue().getSocketAddress().getHostName());
  builder.setManagementPort(managementSocketBinding.getValue().getSocketAddress().getPort());
  config=builder.build();
  try {
    modCluster.advertise(config);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  modCluster.start();
}
