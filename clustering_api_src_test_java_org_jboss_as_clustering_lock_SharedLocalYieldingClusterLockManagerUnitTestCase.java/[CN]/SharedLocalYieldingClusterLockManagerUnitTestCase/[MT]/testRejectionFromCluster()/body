{
  TesteeSet ts=getTesteeSet(node1,0,3);
  List<RemoteLockResponse> rspList=getRejectionResponses(node3,2);
  when(ts.rpcDispatcher.getMethodCallTimeout()).thenReturn(60000l);
  when(ts.rpcDispatcher.callMethodOnCluster(eq("test"),eq("remoteLock"),eqLockParams(node1,200000),aryEq(AbstractClusterLockSupport.REMOTE_LOCK_TYPES),eq(RemoteLockResponse.class),eq(true),eq(NULL_FILTER),anyInt(),eq(false))).thenReturn(rspList);
  try {
    ts.testee.lock("test",1000,false);
    fail("Did not throw TimeoutException");
  }
 catch (  TimeoutException ok) {
  }
}
