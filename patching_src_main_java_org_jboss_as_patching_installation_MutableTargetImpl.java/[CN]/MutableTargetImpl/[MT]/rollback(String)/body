{
  if (!patchIds.remove(patchId)) {
    if (!patchId.equals(releaseID)) {
      throw new IllegalStateException("cannot rollback not-applied patch " + patchId);
    }
  }
  modified=true;
}
