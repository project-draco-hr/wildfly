{
  if (releaseID == null || cumulativeID == null) {
    throw new IllegalStateException();
  }
  IoUtils.mkdir(structure.getInstallationInfo().getParentFile());
  properties.put(Constants.RELEASE_PATCH_ID,releaseID);
  properties.put(Constants.CUMULATIVE,cumulativeID);
  properties.put(Constants.PATCHES,PatchUtils.asString(patches));
  PatchUtils.writeProperties(structure.getInstallationInfo(),properties);
}
