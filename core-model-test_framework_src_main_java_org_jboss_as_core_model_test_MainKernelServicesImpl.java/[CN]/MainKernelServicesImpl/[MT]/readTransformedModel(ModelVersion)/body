{
  checkIsMainController();
  final TransformationTarget target=TransformationTargetImpl.create(extensionRegistry.getTransformerRegistry(),modelVersion,Collections.<PathAddress,ModelVersion>emptyMap(),MOCK_IGNORED_DOMAIN_RESOURCE_REGISTRY,TransformationTarget.TransformationTargetType.DOMAIN);
  final Transformers transformers=Transformers.Factory.create(target);
  ModelNode result=internalExecute(new ModelNode(),new ReadMasterDomainModelHandler(transformers));
  if (FAILED.equals(result.get(OUTCOME).asString())) {
    throw new RuntimeException(result.get(FAILURE_DESCRIPTION).asString());
  }
  ModelNode domainModel=new ModelNode();
  for (  ModelNode entry : result.get(RESULT).asList()) {
    PathAddress address=PathAddress.pathAddress(entry.require("domain-resource-address"));
    ModelNode toSet=domainModel;
    for (    PathElement pathElement : address) {
      toSet=toSet.get(pathElement.getKey(),pathElement.getValue());
    }
    toSet.set(entry.require("domain-resource-model"));
  }
  return domainModel;
}
