{
  int met=0;
  if (this.adHocRestrictions != null) {
    for (    PasswordRestriction pr : this.adHocRestrictions) {
      if (pr instanceof CompoundRestriction) {
        for (        PasswordRestriction wrapped : ((CompoundRestriction)pr).getRestrictions()) {
          try {
            wrapped.validate(userName,password);
            result.addPassedRestriction(wrapped);
            met++;
          }
 catch (          PasswordValidationException pve) {
            result.addRestrictionFailure(pve);
          }
        }
      }
 else {
        try {
          pr.validate(userName,password);
          result.addPassedRestriction(pr);
          met++;
        }
 catch (        PasswordValidationException pve) {
          result.addRestrictionFailure(pve);
        }
      }
    }
  }
  for (  PasswordRestriction pr : this.restrictionsInPlace) {
    if (pr instanceof CompoundRestriction) {
      for (      PasswordRestriction wrapped : ((CompoundRestriction)pr).getRestrictions()) {
        try {
          wrapped.validate(userName,password);
          result.addPassedRestriction(wrapped);
          met++;
        }
 catch (        PasswordValidationException pve) {
          result.addRestrictionFailure(pve);
        }
      }
    }
 else {
      try {
        pr.validate(userName,password);
        result.addPassedRestriction(pr);
        met++;
      }
 catch (      PasswordValidationException pve) {
        result.addRestrictionFailure(pve);
      }
    }
  }
  this.result.positive(met * REQUIREMENTS_WEIGHT);
}
