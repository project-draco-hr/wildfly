{
  if (theTrustStore.isModified()) {
    try {
      theTrustStore.load();
    }
 catch (    StartException e1) {
      throw DomainManagementMessages.MESSAGES.unableToLoadKeyTrustFile(e1.getCause());
    }
    try {
      trustManagerFactory.init(theTrustStore.getKeyStore());
      TrustManager[] trustManagers=trustManagerFactory.getTrustManagers();
      for (      TrustManager current : trustManagers) {
        if (current instanceof X509TrustManager) {
          delegate=(X509TrustManager)current;
          break;
        }
      }
    }
 catch (    GeneralSecurityException e) {
      throw DomainManagementMessages.MESSAGES.unableToOperateOnTrustStore(e);
    }
  }
  if (delegate == null) {
    throw DomainManagementMessages.MESSAGES.unableToCreateDelegateTrustManager();
  }
  return delegate;
}
