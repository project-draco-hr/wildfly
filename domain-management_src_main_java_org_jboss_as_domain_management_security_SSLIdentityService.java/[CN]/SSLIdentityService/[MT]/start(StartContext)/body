{
  try {
    KeyManager[] keyManagers=null;
    String protocol="TLS";
    if (ssl.has(PROTOCOL)) {
      protocol=ssl.get(PROTOCOL).asString();
    }
    if (ssl.has(KEYSTORE)) {
      ModelNode keystoreNode=ssl.get(KEYSTORE);
      String relativeTo=this.relativeTo.getOptionalValue();
      String path=keystoreNode.require(PATH).asString();
      String file=relativeTo == null ? path : relativeTo + "/" + path;
      char[] password=keystoreNode.require(PASSWORD).asString().toCharArray();
      KeyStore keystore=KeyStore.getInstance("JKS");
      FileInputStream fis=new FileInputStream(file);
      keystore.load(fis,password);
      KeyManagerFactory keyManagerFactory=KeyManagerFactory.getInstance("SunX509");
      keyManagerFactory.init(keystore,password);
      keyManagers=keyManagerFactory.getKeyManagers();
    }
    SSLContext sslContext=SSLContext.getInstance(protocol);
    sslContext.init(keyManagers,null,null);
    this.sslContext=sslContext;
  }
 catch (  NoSuchAlgorithmException nsae) {
    throw MESSAGES.unableToStart(nsae);
  }
catch (  KeyManagementException kme) {
    throw MESSAGES.unableToStart(kme);
  }
catch (  KeyStoreException kse) {
    throw MESSAGES.unableToStart(kse);
  }
catch (  FileNotFoundException fnfe) {
    throw MESSAGES.unableToStart(fnfe);
  }
catch (  CertificateException e) {
    throw MESSAGES.unableToStart(e);
  }
catch (  IOException e) {
    throw MESSAGES.unableToStart(e);
  }
catch (  UnrecoverableKeyException e) {
    throw MESSAGES.unableToStart(e);
  }
}
