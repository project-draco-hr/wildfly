{
  final ClientSessionFactory sf=createClientSessionFactory(managementClient.getMgmtAddress(),managementClient.getWebUri().getPort());
  try {
    sf.createSession();
    fail("must not allow to create a session without any authentication");
  }
 catch (  HornetQException e) {
    assertEquals(HornetQExceptionType.SECURITY_EXCEPTION,e.getType());
    assertTrue(e.getMessage().startsWith("HQ119031"));
  }
 finally {
    if (sf != null) {
      sf.close();
    }
  }
}
