{
  final ModelNode fullModel=Resource.Tools.readModel(context.readResource(PathAddress.EMPTY_ADDRESS));
  SessionCookieConfig config=SessionCookieDefinition.INSTANCE.getConfig(context,fullModel.get(SessionCookieDefinition.INSTANCE.getPathElement().getKeyValuePair()));
  final boolean developmentMode=ServletContainerDefinition.DEVELOPMENT_MODE.resolveModelAttribute(context,model).asBoolean();
  final boolean allowNonStandardWrappers=ServletContainerDefinition.ALLOW_NON_STANDARD_WRAPPERS.resolveModelAttribute(context,model).asBoolean();
  JSPConfig jspConfig=JspDefinition.INSTANCE.getConfig(context,fullModel.get(JspDefinition.INSTANCE.getPathElement().getKeyValuePair()),developmentMode);
  final ServletContainerService container=new ServletContainerService(developmentMode,allowNonStandardWrappers,config,jspConfig);
  final ServiceTarget target=context.getServiceTarget();
  newControllers.add(target.addService(UndertowService.SERVLET_CONTAINER.append(name),container).setInitialMode(ServiceController.Mode.ON_DEMAND).install());
}
