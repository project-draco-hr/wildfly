{
  Exception exception=null;
  for (int i=0; i <= this.backOffIntervals.length; ++i) {
    if (this.forceSynchronous) {
      cache.getAdvancedCache().withFlags(Flag.FORCE_SYNCHRONOUS);
    }
    try {
      return operation.invoke(cache);
    }
 catch (    TimeoutException e) {
      exception=e;
    }
catch (    SuspectException e) {
      exception=e;
    }
    if (i < this.backOffIntervals.length) {
      int delay=this.backOffIntervals[i];
      try {
        if (log.isTraceEnabled()) {
          log.trace(String.format("Cache operation failed.  Retrying in %d ms",Integer.valueOf(delay)),exception);
        }
        Thread.sleep(delay);
      }
 catch (      InterruptedException e) {
        Thread.currentThread().interrupt();
      }
    }
  }
  throw new RuntimeException(String.format("Aborting cache operation after %d retries.",Integer.valueOf(this.backOffIntervals.length + 1)),exception);
}
