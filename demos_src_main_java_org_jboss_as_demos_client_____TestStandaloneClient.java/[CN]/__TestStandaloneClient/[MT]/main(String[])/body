{
  System.out.println("Creating client");
  StandaloneClient client=new StandaloneClient.Factory().create(InetAddress.getByName("localhost"),9999);
  System.out.println("Created client, getting model...");
  ServerModel model=client.getServerModel();
  System.out.println("Got model " + model);
  List<AbstractServerModelUpdate<?>> updates=new ArrayList<AbstractServerModelUpdate<?>>();
  updates.add(new ServerPathAdd(new PathElementUpdate("org.jboss.test","/home/emuckenh/Downloads",null)));
  client.applyUpdates(updates);
  System.out.println("Created client, getting dm...");
  ServerDeploymentManager manager=client.getDeploymentManager();
  System.out.println("Got manager " + manager);
  File file=new File("sar-example.sar");
  if (!file.exists()) {
    throw new IllegalStateException("No file sar-example.sar");
  }
  String deployment=manager.addDeploymentContent(file.toURL());
  System.out.println("Added deployment " + deployment);
  Future<ServerDeploymentPlanResult> deploymentResult=manager.execute(manager.newDeploymentPlan().deploy(deployment).build());
  System.out.println("Deployment result:" + deploymentResult);
}
