{
  Transaction tx=mock(Transaction.class);
  when(this.tm.getTransaction()).thenReturn(tx);
  TransactionBatch batch=this.batcher.startBatch();
  verify(this.tm,never()).begin();
  assertSame(tx,batch.getTransaction());
  batch.close();
  verify(this.tm,never()).commit();
  batch.discard();
  verify(this.tm,never()).rollback();
}
