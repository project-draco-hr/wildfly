{
  String patchID=randomString();
  File patchDir=mkdir(tempDir,patchID);
  String moduleName=randomString();
  File moduleDir=createModule(patchDir,moduleName);
  byte[] newHash=calculateHash(moduleDir);
  ContentModification moduleAdded=new ContentModification(new ModuleItem(moduleName,newHash),NO_CONTENT,ADD);
  Patch patch=PatchBuilder.create().setPatchId(patchID).setDescription(randomString()).setPatchType(PatchType.ONE_OFF).addAppliesTo(info.getVersion()).addContentModification(moduleAdded).build();
  checkApplyPatchAndRollbackRestoresBackupConfiguration(patchDir,patch);
}
