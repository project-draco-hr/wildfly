{
  String patchID=randomString();
  File patchDir=mkdir(tempDir,patchID);
  String moduleName=randomString();
  File moduleDir=createModule(patchDir,moduleName);
  byte[] newHash=hashFile(moduleDir);
  ContentModification moduleAdded=new ContentModification(new ModuleItem(moduleName,newHash),NO_CONTENT,ADD);
  Patch patch=PatchBuilder.create().setPatchId(patchID).setDescription(randomString()).setCumulativeType(info.getVersion(),info.getVersion() + "-CP").addContentModification(moduleAdded).build();
  checkApplyPatchAndRollbackRestoresBackupConfiguration(patchDir,patch);
}
