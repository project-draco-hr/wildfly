{
  final TransactionManager transactionManager=this.ejbRemoteTransactionsRepository.getTransactionManager();
  final Transaction alreadyCreatedTx=this.ejbRemoteTransactionsRepository.getTransaction(userTransactionID);
  if (alreadyCreatedTx != null) {
    transactionManager.resume(alreadyCreatedTx);
  }
 else {
    final UserTransaction userTransaction=this.ejbRemoteTransactionsRepository.getUserTransaction();
    userTransaction.begin();
    final Transaction newlyCreatedTx=transactionManager.getTransaction();
    this.ejbRemoteTransactionsRepository.addTransaction(userTransactionID,newlyCreatedTx);
  }
}
