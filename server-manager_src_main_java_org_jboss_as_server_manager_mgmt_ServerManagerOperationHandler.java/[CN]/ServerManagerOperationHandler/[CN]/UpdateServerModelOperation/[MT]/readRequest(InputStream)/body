{
  final Unmarshaller unmarshaller=getUnmarshaller();
  unmarshaller.start(createByteInput(input));
  expectHeader(unmarshaller,ServerManagerProtocol.PARAM_SERVER_NAME);
  serverName=unmarshaller.readUTF();
  expectHeader(unmarshaller,ServerManagerProtocol.PARAM_ALLOW_ROLLBACK);
  allowOverallRollback=unmarshaller.readBoolean();
  expectHeader(unmarshaller,ServerManagerProtocol.PARAM_SERVER_MODEL_UPDATE_COUNT);
  int count=unmarshaller.readInt();
  updates=new ArrayList<AbstractServerModelUpdate<?>>(count);
  for (int i=0; i < count; i++) {
    expectHeader(unmarshaller,ServerManagerProtocol.PARAM_SERVER_MODEL_UPDATE);
    final AbstractServerModelUpdate<?> update=unmarshal(unmarshaller,AbstractServerModelUpdate.class);
    updates.add(update);
  }
  unmarshaller.finish();
  log.infof("Received server model updates %s",updates);
}
