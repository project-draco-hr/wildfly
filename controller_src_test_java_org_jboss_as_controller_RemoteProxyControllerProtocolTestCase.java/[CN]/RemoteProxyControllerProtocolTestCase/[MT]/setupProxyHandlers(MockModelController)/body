{
  handler.setDelegate(new TransactionalModelControllerOperationHandler(controller,channels.getExecutorService()));
  final Channel clientChannel=channels.getClientChannel();
  final RemoteProxyController proxyController=RemoteProxyController.create(channels.getExecutorService(),PathAddress.pathAddress(),ProxyOperationAddressTranslator.HOST,channels.getClientChannel());
  clientChannel.addCloseHandler(new CloseHandler<Channel>(){
    @Override public void handleClose(    Channel closed,    IOException exception){
      proxyController.shutdown();
    }
  }
);
  clientChannel.receiveMessage(ManagementChannelReceiver.createDelegating(proxyController));
  return proxyController;
}
