{
  for (  final AttributeDefinition attribute : CommonAttributes.SIMPLE_ROOT_RESOURCE_ATTRIBUTES) {
    String attrName=attribute.getName();
    if (subModel.hasDefined(attrName)) {
      serverAdd.get(attrName).set(subModel.get(attrName));
    }
  }
  result.add(serverAdd);
  for (  final String transport : TRANSPORT) {
    if (subModel.hasDefined(transport)) {
      for (      final Property property : subModel.get(transport).asPropertyList()) {
        final ModelNode address=rootAddress.toModelNode();
        address.add(transport,property.getName());
        result.add(TransportConfigOperationHandlers.createAddOperation(address,property.getValue()));
      }
    }
  }
  if (subModel.hasDefined(PATH)) {
    final ModelNode paths=subModel.get(PATH);
    for (    final String pathName : CommonAttributes.PATHS) {
      if (paths.hasDefined(pathName)) {
        final ModelNode address=rootAddress.toModelNode();
        address.add(PATH,pathName);
        result.add(MessagingPathHandlers.createAddOperation(address,paths.get(pathName)));
      }
    }
  }
  if (subModel.hasDefined(CommonAttributes.ADDRESS_SETTING)) {
    for (    final Property property : subModel.get(CommonAttributes.ADDRESS_SETTING).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.ADDRESS_SETTING,property.getName());
      result.add(AddressSettingAdd.createAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.BROADCAST_GROUP)) {
    for (    final Property property : subModel.get(CommonAttributes.BROADCAST_GROUP).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.BROADCAST_GROUP,property.getName());
      result.add(BroadcastGroupAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.DISCOVERY_GROUP)) {
    for (    final Property property : subModel.get(CommonAttributes.DISCOVERY_GROUP).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.DISCOVERY_GROUP,property.getName());
      result.add(DiscoveryGroupAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.DIVERT)) {
    for (    final Property property : subModel.get(CommonAttributes.DIVERT).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.DIVERT,property.getName());
      result.add(DivertAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.QUEUE)) {
    for (    final Property property : subModel.get(CommonAttributes.QUEUE).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.QUEUE,property.getName());
      result.add(QueueAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.BRIDGE)) {
    for (    final Property property : subModel.get(CommonAttributes.BRIDGE).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.BRIDGE,property.getName());
      result.add(BridgeAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.CLUSTER_CONNECTION)) {
    for (    final Property property : subModel.get(CommonAttributes.CLUSTER_CONNECTION).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.CLUSTER_CONNECTION,property.getName());
      result.add(ClusterConnectionAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.GROUPING_HANDLER)) {
    Property property=subModel.get(CommonAttributes.GROUPING_HANDLER).asProperty();
    final ModelNode address=rootAddress.toModelNode();
    address.add(CommonAttributes.GROUPING_HANDLER,property.getName());
    result.add(GroupingHandlerAdd.getAddOperation(address,property.getValue()));
  }
  if (subModel.hasDefined(CommonAttributes.CONNECTOR_SERVICE)) {
    for (    final Property property : subModel.get(CommonAttributes.CONNECTOR_SERVICE).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.CONNECTOR_SERVICE,property.getName());
      final ModelNode csNode=property.getValue();
      result.add(ConnectorServiceAdd.getAddOperation(address,csNode));
      if (csNode.hasDefined(CommonAttributes.PARAM)) {
        for (        final Property param : csNode.get(CommonAttributes.PARAM).asPropertyList()) {
          final ModelNode paramAddress=address.clone().add(CommonAttributes.PARAM,param.getName());
          result.add(ConnectorServiceParamAdd.getAddOperation(paramAddress,param.getValue()));
        }
      }
    }
  }
  if (subModel.hasDefined(CommonAttributes.CONNECTION_FACTORY)) {
    for (    final Property property : subModel.get(CommonAttributes.CONNECTION_FACTORY).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.CONNECTION_FACTORY,property.getName());
      result.add(ConnectionFactoryAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.POOLED_CONNECTION_FACTORY)) {
    for (    final Property property : subModel.get(CommonAttributes.POOLED_CONNECTION_FACTORY).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.POOLED_CONNECTION_FACTORY,property.getName());
      result.add(PooledConnectionFactoryAdd.getAddOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.JMS_QUEUE)) {
    for (    final Property property : subModel.get(CommonAttributes.JMS_QUEUE).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.JMS_QUEUE,property.getName());
      result.add(JMSQueueAdd.getOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.JMS_TOPIC)) {
    for (    final Property property : subModel.get(CommonAttributes.JMS_TOPIC).asPropertyList()) {
      final ModelNode address=rootAddress.toModelNode();
      address.add(CommonAttributes.JMS_TOPIC,property.getName());
      result.add(JMSTopicAdd.getOperation(address,property.getValue()));
    }
  }
  if (subModel.hasDefined(CommonAttributes.SECURITY_SETTING)) {
    final ModelNode securitySettings=subModel.get(CommonAttributes.SECURITY_SETTING);
    for (    final Property setting : securitySettings.asPropertyList()) {
      final ModelNode settingAddress=rootAddress.toModelNode();
      settingAddress.add(CommonAttributes.SECURITY_SETTING,setting.getName());
      result.add(SecuritySettingAdd.createAddOperation(settingAddress,setting.getValue()));
      final ModelNode securitySetting=setting.getValue();
      if (securitySetting.hasDefined(CommonAttributes.ROLE)) {
        for (        final Property role : securitySetting.get(CommonAttributes.ROLE).asPropertyList()) {
          final ModelNode address=settingAddress.clone();
          address.add(CommonAttributes.ROLE,role.getName());
          result.add(SecurityRoleAdd.createAddOperation(address,role.getValue()));
        }
      }
    }
  }
}
