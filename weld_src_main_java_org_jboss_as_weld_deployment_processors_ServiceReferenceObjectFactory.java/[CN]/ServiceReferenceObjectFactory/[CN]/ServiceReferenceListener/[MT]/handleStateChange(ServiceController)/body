{
  state=controller.getState();
  if (state == State.UP) {
    value=controller.getValue();
  }
  if (state == State.UP || state == State.START_FAILED || state == State.REMOVED) {
    controller.removeListener(this);
    finished=true;
    notifyAll();
  }
}
