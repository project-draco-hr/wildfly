{
  RealmUser realmUser=new RealmUser("TestRealm","Jack.Carter");
  HashSet<Principal> principalSet=new HashSet<Principal>();
  principalSet.add(realmUser);
  Subject subject=new Subject(false,principalSet,new HashSet<Object>(),new HashSet<Object>());
  SubjectSupplemental subjectSupplemental=new TestLdapSubjectSupplemental(false,null,null,null,"",null,"=([^,]+)",0,null).getSubjectSupplemental(sharedState);
  subjectSupplemental.supplementSubject(subject);
  Set<Principal> principals=subject.getPrincipals();
  Assert.assertTrue(principals.contains(new RealmGroup("=admin")));
  Assert.assertTrue(principals.contains(new RealmGroup("=emeaadmin")));
  Assert.assertEquals(3,principals.size());
}
