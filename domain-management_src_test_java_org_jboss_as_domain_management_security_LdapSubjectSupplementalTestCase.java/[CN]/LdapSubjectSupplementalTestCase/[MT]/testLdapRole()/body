{
  RealmUser realmUser=new RealmUser("TestRealm","Jack.Carter");
  HashSet<Principal> principalSet=new HashSet<Principal>();
  principalSet.add(realmUser);
  Subject subject=new Subject(false,principalSet,new HashSet<Object>(),new HashSet<Object>());
  TestLdapSubjectSupplemental subjectSupplemental=new TestLdapSubjectSupplemental(false,null,null,null,"",null,null,0,null);
  subjectSupplemental.supplementSubject(subject);
  Set<Principal> principals=subject.getPrincipals();
  Assert.assertTrue(principals.contains(new RealmRole("cn=admin,ou=roles,dc=jboss,dc=org")));
  Assert.assertTrue(principals.contains(new RealmRole("cn=emeaadmin,ou=roles,dc=jboss,dc=org")));
  Assert.assertEquals(3,principals.size());
}
