{
  notifyLifecycleListeners(LifecycleState.STARTING);
  try {
    store.start();
    if (this.threadFactory != null) {
      this.executor=Executors.newSingleThreadScheduledExecutor(this.threadFactory);
    }
    notifyLifecycleListeners(LifecycleState.STARTED);
  }
 catch (  RuntimeException e) {
    notifyLifecycleListeners(LifecycleState.FAILED);
    throw e;
  }
}
