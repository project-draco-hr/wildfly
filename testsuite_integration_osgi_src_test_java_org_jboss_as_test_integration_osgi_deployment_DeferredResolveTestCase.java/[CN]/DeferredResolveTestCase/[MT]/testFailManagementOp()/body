{
  InputStream input=deployer.getDeployment(BAD_BUNDLE);
  Bundle bundle=context.installBundle(BAD_BUNDLE,input);
  try {
    Assert.assertEquals("Bundle INSTALLED",Bundle.INSTALLED,bundle.getState());
    try {
      FrameworkManagement.bundleStart(managementClient.getControllerClient(),bundle.getBundleId());
      Assert.fail("RuntimeException expected");
    }
 catch (    RuntimeException e) {
    }
    Assert.assertEquals("Bundle RESOLVED",Bundle.RESOLVED,bundle.getState());
    bundle.start();
    Assert.assertEquals("Bundle ACTIVE",Bundle.ACTIVE,bundle.getState());
  }
  finally {
    bundle.uninstall();
  }
}
