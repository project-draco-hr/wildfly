{
  KernelServicesBuilder builder=createKernelServicesBuilder(AdditionalInitialization.MANAGEMENT).setSubsystemXml(readResource("subsystem.xml"));
  ModelVersion version_1_1_0=ModelVersion.create(1,1,0);
  builder.createLegacyKernelServicesBuilder(null,controllerVersion,version_1_1_0).addMavenResourceURL("org.jboss.as:jboss-as-jacorb:" + controllerVersion.getMavenGavVersion());
  KernelServices mainServices=builder.build();
  assertTrue(mainServices.isSuccessfulBoot());
  KernelServices legacyServices=mainServices.getLegacyServices(version_1_1_0);
  assertNotNull(legacyServices);
  assertTrue(legacyServices.isSuccessfulBoot());
  ModelNode transformed=checkSubsystemModelTransformation(mainServices,version_1_1_0).get(SUBSYSTEM,JacORBExtension.SUBSYSTEM_NAME);
  Assert.assertEquals("off",transformed.get("security").asString());
  List<ModelNode> properties=transformed.get(ModelDescriptionConstants.PROPERTIES).asList();
  Assert.assertEquals(1,properties.size());
  Assert.assertEquals("some_value",properties.get(0).get("some_property").asString());
}
