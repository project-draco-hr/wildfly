{
  System.out.println("Loading legacy resource descriptions for " + targetVersion + "....");
  ModelNode legacyResourceDefinitions=Tools.loadModelNodeFromFile(new File(fromDirectory + resourceType.toString().toLowerCase() + "-resource-definition-"+ targetVersion+ ".dmr"));
  System.out.println("Loaded legacy resource descriptions");
  System.out.println("Loading resource descriptions for currently running " + resourceType + "...");
  final ModelNode currentResourceDefinitions;
  if (resourceType == ResourceType.STANDALONE) {
    currentResourceDefinitions=Tools.getCurrentRunningResourceDefinition(PathAddress.EMPTY_ADDRESS);
  }
 else   if (resourceType == ResourceType.DOMAIN) {
    currentResourceDefinitions=Tools.getCurrentRunningDomainResourceDefinition();
  }
 else {
    currentResourceDefinitions=Tools.getCurrentRunningResourceDefinition(PathAddress.pathAddress(PathElement.pathElement(HOST,"master")));
  }
  System.out.println("Loaded current resource descriptions");
  CompareModelVersionsUtil compareModelVersionsUtil=new CompareModelVersionsUtil(compareDifferentVersions,targetVersion,legacyModelVersions,legacyResourceDefinitions,currentModelVersions,currentResourceDefinitions);
  System.out.println("Starting comparison of the current....\n");
  compareModelVersionsUtil.compareModels();
  System.out.println("\nDone comparison of " + resourceType + "!");
}
