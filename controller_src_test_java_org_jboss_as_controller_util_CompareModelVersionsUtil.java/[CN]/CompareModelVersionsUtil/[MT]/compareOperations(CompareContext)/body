{
  Map<String,ModelNode> legacyOperations=context.getLegacyDefinition().getOperations();
  Map<String,ModelNode> currentOperations=context.getCurrentDefinition().getOperations();
  compareKeySetsAndRemoveMissing(context,"operations",currentOperations,legacyOperations);
  for (  Map.Entry<String,ModelNode> legacyOpEntry : legacyOperations.entrySet()) {
    String operationName=legacyOpEntry.getKey();
    ModelNode legacyOperation=legacyOpEntry.getValue();
    ModelNode currentOperation=currentOperations.get(operationName);
    Map<String,ModelNode> legacyParameters=context.getLegacyDefinition().getOperationParameters(operationName);
    Map<String,ModelNode> currentParameters=context.getCurrentDefinition().getOperationParameters(operationName);
    compareKeySetsAndRemoveMissing(context,"parameters for operation '" + operationName + "'",currentParameters,legacyParameters);
    for (    Map.Entry<String,ModelNode> legacyParamEntry : legacyParameters.entrySet()) {
      ModelNode legacyParameter=legacyParamEntry.getValue();
      ModelNode currentParameter=currentParameters.get(legacyParamEntry.getKey());
      String id="parameter '" + legacyParamEntry.getKey() + "' of operation '"+ operationName+ "'";
      compareAttributeOrOperationParameter(context,id,currentParameter,legacyParameter);
    }
    ModelNode legacyReply=legacyOperation.get(REPLY_PROPERTIES);
    ModelNode currentReply=currentOperation.get(REPLY_PROPERTIES);
    if (!currentReply.equals(legacyReply)) {
      context.println("Different 'reply-properties' for operation '" + operationName + "'. Current: "+ currentReply+ "; legacy: "+ legacyReply);
    }
  }
}
