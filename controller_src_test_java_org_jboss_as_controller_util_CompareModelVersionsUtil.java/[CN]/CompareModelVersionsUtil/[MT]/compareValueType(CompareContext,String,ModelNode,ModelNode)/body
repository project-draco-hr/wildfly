{
  ModelNode currentValueType=current.get(VALUE_TYPE);
  ModelNode legacyValueType=legacy.get(VALUE_TYPE);
  if (!currentValueType.isDefined() && !legacyValueType.isDefined()) {
    return;
  }
  if (isType(legacyValueType) || isType(currentValueType)) {
    if (!currentValueType.equals(legacyValueType)) {
      context.println("Different 'value-type' for " + id + ". Current: "+ current.get(VALUE_TYPE)+ "; legacy: "+ legacy.get(VALUE_TYPE));
    }
  }
 else {
    Map<String,ModelNode> legacyValueTypes=createMapIndexedByKey(legacyValueType);
    Map<String,ModelNode> currentValueTypes=createMapIndexedByKey(currentValueType);
    compareKeySetsAndRemoveMissing(context,"value-type for " + id,currentValueTypes,legacyValueTypes);
    for (    Map.Entry<String,ModelNode> entry : currentValueTypes.entrySet()) {
      ModelNode currentEntry=entry.getValue();
      ModelNode legacyEntry=legacyValueTypes.get(entry.getKey());
      compareAttributeOrOperationParameter(context,"value-type key '" + entry.getKey() + "' for "+ id,currentEntry,legacyEntry);
    }
  }
}
