{
  long total=0;
synchronized (properties) {
    for (    Map.Entry<String,String> entry : properties.entrySet()) {
      String val=entry.getValue();
      int valHash=val == null ? 0 : val.hashCode();
      total=Long.rotateLeft(total,1) ^ ((long)entry.getKey().hashCode() << 32L | valHash & 0xffffffffL);
    }
  }
  return total;
}
