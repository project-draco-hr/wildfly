{
  final DeploymentReflectionIndex index=deploymentUnit.getAttachment(Attachments.REFLECTION_INDEX);
  final List<String> services=servicesAttachment.getServiceImplementations(Extension.class.getName());
  if (services == null) {
    return;
  }
  for (  String service : services) {
    final Extension extension=loadExtension(service,index,module.getClassLoader());
    if (extension == null) {
      continue;
    }
    Metadata<Extension> metadata=new MetadataImpl<Extension>(extension,deploymentUnit.getName());
    WeldLogger.DEPLOYMENT_LOGGER.debug("Loaded portable extension " + extension);
    topLevelDeployment.addToAttachmentList(WeldAttachments.PORTABLE_EXTENSIONS,metadata);
  }
}
