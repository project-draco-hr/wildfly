{
  Class<?> clazz=null;
  Class<Extension> serviceClass=null;
  try {
    clazz=loader.loadClass(serviceClassName);
    serviceClass=(Class<Extension>)clazz;
    final Constructor<Extension> ctor=index.getClassIndex(serviceClass).getConstructor(EMPTY_STRING_ARRAY);
    return ctor.newInstance();
  }
 catch (  ClassNotFoundException e) {
    log.warn("Could not load portable extension class " + serviceClassName);
  }
catch (  ClassCastException e) {
    throw new RuntimeException("Service class " + serviceClassName + " didn't implement the Extension interface");
  }
catch (  Exception e) {
    log.warn("Could not load portable extension " + serviceClassName,e);
  }
  return null;
}
