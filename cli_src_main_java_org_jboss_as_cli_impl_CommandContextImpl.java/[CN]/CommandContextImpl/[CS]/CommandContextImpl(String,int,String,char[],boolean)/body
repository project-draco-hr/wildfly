{
  operationHandler=new OperationRequestHandler();
  this.username=username;
  this.password=password;
  if (defaultControllerHost != null) {
    this.defaultControllerHost=defaultControllerHost;
  }
  if (defaultControllerPort != -1) {
    this.defaultControllerPort=defaultControllerPort;
  }
  initCommands();
  final String userHome=SecurityActions.getSystemProperty("user.home");
  config=CliConfigImpl.parse(this,new File(userHome,"jboss-cli.xml"));
  initSSLContext();
  if (initConsole) {
    cmdCompleter=new CommandCompleter(cmdRegistry);
    this.console=Console.Factory.getConsole(this);
    console.setUseHistory(true);
    console.setHistoryFile(new File(userHome,".jboss-cli-history"));
    console.addCompleter(cmdCompleter);
    this.operationCandidatesProvider=new DefaultOperationCandidatesProvider();
  }
 else {
    this.cmdCompleter=null;
    this.operationCandidatesProvider=null;
  }
}
