{
  try {
    DefaultOperationRequestBuilder builder=new DefaultOperationRequestBuilder();
    builder.setOperationName(Util.READ_ATTRIBUTE);
    builder.addProperty(Util.NAME,Util.NAME);
    client.execute(builder.buildRequest());
  }
 catch (  Exception e) {
    try {
      Throwable current=e;
      while (current != null) {
        if (current instanceof SaslException) {
          throw new CommandLineException("Unable to authenticate against controller at " + address.getHost() + ":"+ address.getPort(),current);
        }
        if (current instanceof SSLException) {
          throw new CommandLineException("Unable to negotiate SSL connection with controller at " + address.getHost() + ":"+ address.getPort());
        }
        if (current instanceof RedirectException) {
          throw (RedirectException)current;
        }
        if (current instanceof CommandLineException) {
          throw (CommandLineException)current;
        }
        current=current.getCause();
      }
      throw new CommandLineException("The controller is not available at " + address.getHost() + ":"+ address.getPort(),e);
    }
  finally {
      StreamUtils.safeClose(client);
    }
  }
}
