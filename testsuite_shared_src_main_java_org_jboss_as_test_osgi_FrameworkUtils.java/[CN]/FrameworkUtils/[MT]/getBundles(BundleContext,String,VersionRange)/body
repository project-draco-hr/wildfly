{
  List<Bundle> result=new ArrayList<Bundle>();
  if (Constants.SYSTEM_BUNDLE_SYMBOLICNAME.equals(symbolicName) && versionRange == null) {
    result.add(context.getBundle(0));
  }
 else {
    for (    Bundle aux : context.getBundles()) {
      if (symbolicName == null || symbolicName.equals(aux.getSymbolicName())) {
        if (versionRange == null || versionRange.includes(aux.getVersion())) {
          result.add(aux);
        }
      }
    }
  }
  return !result.isEmpty() ? result.toArray(new Bundle[result.size()]) : null;
}
