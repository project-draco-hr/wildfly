{
  ServiceTracker tracker=new ServiceTracker(context,clazz.getName(),null);
  tracker.open();
  T service=null;
  try {
    service=(T)tracker.waitForService(unit.toMillis(timeout));
  }
 catch (  InterruptedException intEx) {
  }
  tracker.close();
  Assert.assertNotNull("Service registered: " + clazz.getName(),service);
  return service;
}
