{
  if (isJPA21()) {
    try {
      return emf.createEntityManager(synchronizationType,properties);
    }
 catch (    AbstractMethodError consideredNotJPA21Exception) {
      setJPA21(false);
    }
  }
  if (properties != null && properties.size() > 0) {
    return emf.createEntityManager(properties);
  }
  return emf.createEntityManager();
}
