{
  final byte operationId=header.getOperationId();
switch (operationId) {
case DomainControllerProtocol.REGISTER_HOST_CONTROLLER_REQUEST:
    final RegistrationContext context=new RegistrationContext();
  context.activeOperation=handlers.registerActiveOperation(header.getBatchId(),context);
return new RegistrationRequestHandler();
case DomainControllerProtocol.COMPLETE_HOST_CONTROLLER_REGISTRATION:
return new CompleteRegistrationHandler();
}
return handlers.resolveNext();
}
