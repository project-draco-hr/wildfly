{
  final ManagementResponseHeader header=ManagementResponseHeader.create(context.getRequestHeader());
  final FlushableDataOutput output=context.writeMessage(header);
  try {
    output.writeByte(responseType);
    response.writeExternal(output);
    output.writeByte(ManagementProtocol.RESPONSE_END);
    output.close();
  }
  finally {
    StreamUtils.safeClose(output);
  }
}
