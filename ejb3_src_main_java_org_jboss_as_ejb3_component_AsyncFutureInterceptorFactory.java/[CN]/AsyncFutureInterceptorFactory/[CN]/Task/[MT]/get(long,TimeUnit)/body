{
  if (!isDone()) {
    wait(unit.toMillis(timeout));
    if (!isDone()) {
      throw new TimeoutException("Task did not complete in " + timeout + " "+ unit);
    }
  }
  if (cancelledFlag.get()) {
    throw new CancellationException("Task was cancelled");
  }
 else   if (failed != null) {
    throw new ExecutionException(failed);
  }
  return result;
}
