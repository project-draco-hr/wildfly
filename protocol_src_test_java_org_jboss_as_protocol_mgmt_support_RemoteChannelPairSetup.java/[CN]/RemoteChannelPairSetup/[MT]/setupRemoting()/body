{
  executorService=new ThreadPoolExecutor(16,16,1L,TimeUnit.DAYS,new LinkedBlockingQueue<Runnable>());
  ChannelServer.Configuration configuration=new ChannelServer.Configuration();
  configuration.setEndpointName(ENDPOINT_NAME);
  configuration.setUriScheme(URI_SCHEME);
  configuration.setBindAddress(new InetSocketAddress("127.0.0.1",PORT));
  configuration.setExecutor(executorService);
  channelServer=ChannelServer.create(configuration);
  channelServer.addChannelOpenListener(TEST_CHANNEL,new OpenListener(){
    @Override public void registrationTerminated(){
    }
    @Override public void channelOpened(    Channel channel){
      serverChannel=new ManagementChannelFactory().create(TEST_CHANNEL,channel);
      serverChannel.startReceiving();
      clientConnectedLatch.countDown();
    }
  }
);
}
