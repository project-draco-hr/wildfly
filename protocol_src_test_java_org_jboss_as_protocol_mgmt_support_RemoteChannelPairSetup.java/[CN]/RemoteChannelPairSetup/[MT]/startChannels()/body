{
  ProtocolChannelClient.Configuration<ManagementChannel> configuration=new ProtocolChannelClient.Configuration<ManagementChannel>();
  configuration.setEndpointName(ENDPOINT_NAME);
  configuration.setUriScheme(URI_SCHEME);
  configuration.setUri(new URI("" + URI_SCHEME + "://127.0.0.1:"+ PORT+ ""));
  configuration.setExecutor(executorService);
  configuration.setChannelFactory(new ManagementChannelFactory());
  configuration.setOptionMap(OptionMap.create(Options.SASL_POLICY_NOANONYMOUS,Boolean.FALSE));
  ProtocolChannelClient<ManagementChannel> client=ProtocolChannelClient.create(configuration);
  client.connect(new PasswordClientCallbackHandler("TestUser","localhost.localdomain","TestUserPassword".toCharArray()));
  clientChannel=client.openChannel(TEST_CHANNEL);
  try {
    clientConnectedLatch.await();
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
