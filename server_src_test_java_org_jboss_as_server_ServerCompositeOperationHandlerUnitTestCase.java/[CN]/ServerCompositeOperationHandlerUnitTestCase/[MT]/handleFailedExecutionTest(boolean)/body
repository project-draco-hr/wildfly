{
  ExecutionContext step1=getOperation("good","attr1",2,async);
  ExecutionContext step2=getOperation("handleFailed","attr2",1,async);
  ModelNode result=controller.execute(getCompositeOperation(null,step1,step2));
  assertEquals(FAILED,result.get(OUTCOME).asString());
  assertTrue(result.get("failure-description").toString().indexOf("handleFailed") > -1);
  assertTrue(runtimeState.get());
  assertEquals(1,controller.execute(getOperation("good","attr1",3)).get("result").asInt());
  assertEquals(2,controller.execute(getOperation("good","attr2",3)).get("result").asInt());
}
