{
  List<Property> properties=node.asPropertyList();
  if (!properties.isEmpty()) {
    for (    Property prop : properties) {
      final String name=prop.getName();
      final ModelNode factory=prop.getValue();
      if (factory.isDefined()) {
        writer.writeStartElement(Element.POOLED_CONNECTION_FACTORY.getLocalName());
        writer.writeAttribute(Attribute.NAME.getLocalName(),name);
        PCF_USER.marshallAsElement(factory,writer);
        PCF_PASSWORD.marshallAsElement(factory,writer);
        MIN_POOL_SIZE.marshallAsElement(factory,writer);
        MAX_POOL_SIZE.marshallAsElement(factory,writer);
        writeConnectionFactory(writer,name,factory);
      }
    }
  }
}
