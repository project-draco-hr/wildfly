{
  if (operationHandler instanceof BootOperationHandler && state == State.STARTING) {
    return new BootContextImpl(subModel);
  }
 else   if (operationHandler instanceof RuntimeOperationHandler && !(state == State.RESTART_REQUIRED && operationHandler instanceof ModelUpdateOperationHandler)) {
    return new RuntimeContextImpl(subModel);
  }
 else {
    return super.getOperationContext(subModel,operation,operationHandler);
  }
}
