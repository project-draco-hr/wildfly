{
  final PathAddress address=PathAddress.pathAddress(operation.require(ADDRESS));
  final String operationName=operation.require(OP).asString();
  final OperationStepHandler stepHandler=rootRegistration.getOperationHandler(address,operationName);
  if (stepHandler == null) {
    context.getFailureDescription().set(String.format("No handler for operation %s at address %s",operationName,address));
  }
 else {
    OperationContext.Stage stage=OperationContext.Stage.MODEL;
    if (stepHandler instanceof ExtensionAddHandler) {
      stage=OperationContext.Stage.IMMEDIATE;
    }
    context.addStep(response,this.operation,stepHandler,stage);
  }
  context.completeStep();
}
