{
  this.serviceRegistry=serviceRegistry;
  this.serviceTarget=serviceTarget;
  this.rootRegistration=rootRegistration;
  this.stateMonitor=stateMonitor;
  this.persister=persister;
  this.controllerType=controllerType;
  this.prepareStep=prepareStep == null ? new DefaultPrepareStepHandler() : prepareStep;
  this.processState=processState;
  this.serviceTarget.addListener(ServiceListener.Inheritance.ALL,stateMonitor);
  this.executorService=executorService;
}
