{
  final EEModuleDescription eeModuleDescription=subdeployment.getAttachment(EE_MODULE_DESCRIPTION);
  final DeploymentClassIndex classIndex=subdeployment.getAttachment(org.jboss.as.server.deployment.Attachments.CLASS_INDEX);
  if (eeModuleDescription == null) {
    return;
  }
  final Module module=subdeployment.getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  final Collection<EEModuleClassDescription> classDescriptions=eeModuleDescription.getClassDescriptions();
  final Map<String,LazyValue<EEModuleClassConfiguration>> results=new HashMap<String,LazyValue<EEModuleClassConfiguration>>();
  if (classDescriptions != null) {
    for (    final EEModuleClassDescription classDescription : classDescriptions) {
      final LazyValue<EEModuleClassConfiguration> future=handleClassDescription(phaseContext,classDescription,classIndex);
      results.put(classDescription.getClassName(),future);
    }
  }
  eeModuleDescription.addConfiguredClasses(results);
}
