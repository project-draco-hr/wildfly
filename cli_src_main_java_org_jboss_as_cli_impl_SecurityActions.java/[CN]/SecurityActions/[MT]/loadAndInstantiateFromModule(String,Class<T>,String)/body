{
  if (!WildFlySecurityManager.isChecking()) {
    return internalLoadAndInstantiateFromModule(moduleId,iface,name);
  }
 else {
    try {
      return doPrivileged(new PrivilegedExceptionAction<T>(){
        @Override public T run() throws Exception {
          return internalLoadAndInstantiateFromModule(moduleId,iface,name);
        }
      }
);
    }
 catch (    PrivilegedActionException e) {
      Throwable t=e.getCause();
      if (t instanceof RuntimeException) {
        throw (RuntimeException)t;
      }
      throw new Exception(t);
    }
  }
}
