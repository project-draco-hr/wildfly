{
  File tempUploadFile=null;
  ModelNode response=null;
  try {
    tempUploadFile=extractPostContent(http);
    final ModelNode dmr=new ModelNode();
    dmr.get("operation").set("upload-deployment-url");
    dmr.get("address").setEmptyList();
    dmr.get("url").set(tempUploadFile.toURI().toURL().toString());
    response=modelController.execute(OperationBuilder.Factory.create(dmr).build());
  }
 catch (  Throwable t) {
    log.error("Unexpected error executing deployment upload request",t);
    http.sendResponseHeaders(HTTP_INTERNAL_SERVER_ERROR_STATUS,-1);
    return;
  }
 finally {
    if (tempUploadFile != null && tempUploadFile.exists()) {
      tempUploadFile.delete();
    }
  }
  writeResponse(http,false,false,response,200,false);
}
