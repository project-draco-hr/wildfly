{
  Principal user=new RealmUser(ANONYMOUS_USER);
  Subject subject=new Subject();
  subject.getPrincipals().add(user);
  SocketAddress address=exchange.getConnection().getPeerAddress();
  if (address instanceof InetSocketAddress) {
    subject.getPrincipals().add(new InetAddressPrincipal(((InetSocketAddress)address).getAddress()));
  }
  context.authenticationComplete(new RealmIdentityAccount(subject,user),ANONYMOUS_MECH,false);
  return AuthenticationMechanismOutcome.AUTHENTICATED;
}
