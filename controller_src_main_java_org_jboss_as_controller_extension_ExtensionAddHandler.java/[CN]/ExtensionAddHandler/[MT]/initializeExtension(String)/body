{
  try {
    boolean unknownModule=false;
    for (    Extension extension : Module.loadServiceFromCallerModuleLoader(ModuleIdentifier.fromString(module),Extension.class)) {
      ClassLoader oldTccl=SecurityActions.setThreadContextClassLoader(extension.getClass());
      try {
        if (unknownModule || !extensionRegistry.getExtensionModuleNames().contains(module)) {
          extension.initializeParsers(extensionRegistry.getExtensionParsingContext(module,null));
          unknownModule=true;
        }
        extension.initialize(extensionRegistry.getExtensionContext(module));
      }
  finally {
        SecurityActions.setThreadContextClassLoader(oldTccl);
      }
    }
  }
 catch (  ModuleLoadException e) {
    throw new OperationFailedException(new ModelNode().set(e.toString()));
  }
}
