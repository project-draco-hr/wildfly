{
  final ServiceName threadFactoryName;
  if (threadFactory == null) {
    threadFactoryName=serviceName.append("thread-factory");
    final ThreadFactoryService service=new ThreadFactoryService();
    service.setThreadGroupName(defaultThreadGroupName);
    service.setNamePattern("%G - %t");
    target.addService(threadFactoryName,service).install();
  }
 else {
    threadFactoryName=ThreadsServices.threadFactoryName(threadFactory);
  }
  serviceBuilder.addDependency(threadFactoryName,ThreadFactory.class,injector);
}
