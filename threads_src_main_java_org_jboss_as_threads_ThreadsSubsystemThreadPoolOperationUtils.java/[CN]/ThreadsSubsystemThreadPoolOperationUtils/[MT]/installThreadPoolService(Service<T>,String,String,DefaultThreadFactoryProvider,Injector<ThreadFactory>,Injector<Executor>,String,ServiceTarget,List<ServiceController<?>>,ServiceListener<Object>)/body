{
  final ServiceName serviceName=ThreadsServices.executorName(threadPoolName);
  final ServiceBuilder<?> serviceBuilder=target.addService(serviceName,threadPoolService);
  addThreadFactoryDependency(threadFactoryName,threadPoolName,serviceName,defaultThreadFactoryProvider,serviceBuilder,threadFactoryInjector,target,newControllers,newServiceListeners);
  if (handoffExecutorInjector != null && handoffExecutorName != null) {
    serviceBuilder.addDependency(ThreadsServices.executorName(handoffExecutorName),Executor.class,handoffExecutorInjector);
  }
  if (newServiceListeners != null && newServiceListeners.length > 0) {
    serviceBuilder.addListener(newServiceListeners);
  }
  ServiceController<?> sc=serviceBuilder.install();
  if (newControllers != null) {
    newControllers.add(sc);
  }
}
