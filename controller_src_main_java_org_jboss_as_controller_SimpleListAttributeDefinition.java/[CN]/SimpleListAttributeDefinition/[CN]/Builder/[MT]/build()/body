{
  if (xmlName == null)   xmlName=name;
  if (maxSize < 1)   maxSize=Integer.MAX_VALUE;
  if (attributeMarshaller == null) {
    final boolean wrap=wrapXmlList;
    attributeMarshaller=new AttributeMarshaller(){
      @Override public void marshallAsElement(      AttributeDefinition attribute,      ModelNode resourceModel,      boolean marshallDefault,      XMLStreamWriter writer) throws XMLStreamException {
        if (resourceModel.hasDefined(attribute.getName())) {
          if (wrap) {
            writer.writeStartElement(attribute.getXmlName());
          }
          for (          ModelNode handler : resourceModel.get(attribute.getName()).asList()) {
            valueType.marshallAsElement(handler,writer);
          }
          if (wrap) {
            writer.writeEndElement();
          }
        }
      }
    }
;
  }
  return new SimpleListAttributeDefinition(name,xmlName,valueType,allowNull,minSize,maxSize,alternatives,requires,attributeMarshaller,resourceOnly,deprecated,accessConstraints,flags);
}
