{
  if (timerState == TimerState.EXPIRED)   throw MESSAGES.timerHasExpired();
  if (timerState == TimerState.CANCELED)   throw MESSAGES.timerWasCanceled();
  final InterceptorContext ctx=CurrentInvocationContext.get();
  if (ctx != null) {
    if (ctx.getPrivateData(Component.class) instanceof StatefulSessionComponent) {
      if (ctx.getMethod() == null) {
        throw new IllegalStateException("Timer methods may not be invoked from lifecycle methods of a stateful session bean");
      }
    }
  }
  TimerServiceDisabledTacker.assertEnabled();
}
