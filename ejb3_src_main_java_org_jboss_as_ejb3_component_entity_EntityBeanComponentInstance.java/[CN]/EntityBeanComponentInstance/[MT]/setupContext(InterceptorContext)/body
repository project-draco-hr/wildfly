{
  final InvocationType invocationType=interceptorContext.getPrivateData(InvocationType.class);
  try {
    interceptorContext.putPrivateData(InvocationType.class,InvocationType.SET_ENTITY_CONTEXT);
    final EntityContextImpl entityContext=new EntityContextImpl(this);
    setEjbContext(entityContext);
    getInstance().setEntityContext(entityContext);
  }
 catch (  RemoteException e) {
    throw new WrappedRemoteException(e);
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
 finally {
    interceptorContext.putPrivateData(InvocationType.class,invocationType);
  }
}
