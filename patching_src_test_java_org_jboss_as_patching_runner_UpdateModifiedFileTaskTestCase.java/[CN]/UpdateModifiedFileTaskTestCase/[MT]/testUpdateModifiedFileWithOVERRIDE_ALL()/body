{
  PatchingResult result=runner.executeDirect(new FileInputStream(zippedPatch),ContentVerificationPolicy.OVERRIDE_ALL);
  assertPatchHasBeenApplied(result,patch);
  assertFileExists(modifiedFile);
  assertArrayEquals(updatedHash,calculateHash(modifiedFile));
  File backupFile=assertFileExists(env.getHistoryDir(patch.getPatchId()),"misc","bin",modifiedFile.getName());
  assertArrayEquals(expectedModifiedHash,calculateHash(backupFile));
}
