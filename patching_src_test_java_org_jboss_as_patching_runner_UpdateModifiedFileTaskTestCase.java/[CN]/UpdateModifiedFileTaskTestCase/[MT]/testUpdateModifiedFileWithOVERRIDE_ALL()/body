{
  PatchingResult result=runner.executeDirect(new FileInputStream(zippedPatch),ContentVerificationPolicy.OVERRIDE_ALL);
  assertPatchHasBeenApplied(result,patch);
  assertFileExists(modifiedFile);
  assertArrayEquals(updatedHash,hashFile(modifiedFile));
  File backupFile=assertFileExists(env.getInstalledImage().getPatchHistoryDir(patch.getPatchId()),"misc","bin",modifiedFile.getName());
  assertArrayEquals(expectedModifiedHash,hashFile(backupFile));
}
