{
  try {
    runner.applyPatch(zippedPatch,ContentVerificationPolicy.PRESERVE_ALL);
  }
 catch (  PatchingException e) {
    assertPatchHasNotBeenApplied(e,patch,fileUpdated.getItem(),env);
    assertFileExists(modifiedFile);
    assertArrayEquals(expectedModifiedHash,hashFile(modifiedFile));
  }
}
