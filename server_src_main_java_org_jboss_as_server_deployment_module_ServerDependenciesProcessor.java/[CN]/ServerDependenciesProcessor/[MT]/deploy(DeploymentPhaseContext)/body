{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
  final ModuleLoader moduleLoader=Module.getBootModuleLoader();
  for (  ModuleIdentifier moduleId : DEFAULT_MODULES) {
    try {
      moduleLoader.loadModule(moduleId);
      moduleSpecification.addSystemDependency(new ModuleDependency(moduleLoader,moduleId,false,false,false,false));
    }
 catch (    ModuleLoadException ex) {
      ServerLogger.ROOT_LOGGER.debugf("Module not found: %s",moduleId);
    }
  }
  for (  ModuleIdentifier moduleId : DEFAULT_MODULES_WITH_SERVICE_IMPORTS) {
    try {
      moduleLoader.loadModule(moduleId);
      moduleSpecification.addSystemDependency(new ModuleDependency(moduleLoader,moduleId,false,false,true,false));
    }
 catch (    ModuleLoadException ex) {
      ServerLogger.ROOT_LOGGER.debugf("Module not found: %s",moduleId);
    }
  }
}
