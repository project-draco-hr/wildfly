{
  final PatchElement patchElement=entry.element;
  final String patchId;
  final Patch.PatchType patchType=patchElement.getPatchType();
  if (patchType == Patch.PatchType.UPGRADE) {
    patchId=entry.getReleasePatchID();
  }
 else   if (patchType == Patch.PatchType.CUMULATIVE) {
    patchId=entry.getCumulativeID();
  }
 else {
    patchId=patchElement.getId();
  }
  return createPatchElement(entry,patchId,entry.rollbackActions);
}
