{
  final PatchElement patchElement=entry.element;
  final String patchId;
  final Patch.PatchType patchType=patchElement.getPatchType();
  if (patchType == Patch.PatchType.UPGRADE) {
    patchId=entry.getReleasePatchID();
  }
 else   if (patchType == Patch.PatchType.CUMULATIVE) {
    patchId=entry.getCumulativeID();
  }
 else {
    patchId=patchElement.getId();
  }
  final PatchElementImpl element=new PatchElementImpl(patchId);
  element.setProvider(patchElement.getProvider());
  if (patchType == Patch.PatchType.UPGRADE) {
    element.setUpgrade("");
  }
 else {
    element.setNoUpgrade();
  }
  element.getModifications().addAll(entry.rollbackActions);
  return element;
}
