{
  if (!contentRepository.syncContent(hash)) {
    if (context.isBooting()) {
      if (context.getRunningMode() == RunningMode.ADMIN_ONLY) {
        ServerLogger.DEPLOYMENT_LOGGER.reportAdminOnlyMissingDeploymentOverlayContent(HashUtil.bytesToHexString(hash),deploymentOverlayName,contentName);
      }
 else {
        throw ServerMessages.MESSAGES.noSuchDeploymentOverlayContentAtBoot(HashUtil.bytesToHexString(hash),deploymentOverlayName,contentName);
      }
    }
 else {
      throw ServerMessages.MESSAGES.noSuchDeploymentOverlayContent(HashUtil.bytesToHexString(hash));
    }
  }
  return hash;
}
