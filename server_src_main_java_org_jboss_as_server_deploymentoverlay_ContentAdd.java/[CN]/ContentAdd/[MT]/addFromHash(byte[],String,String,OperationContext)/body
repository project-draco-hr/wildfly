{
  if (remoteRepository != null) {
    remoteRepository.getDeploymentFiles(hash);
  }
  if (!contentRepository.syncContent(hash)) {
    if (context.isBooting()) {
      if (context.getRunningMode() == RunningMode.ADMIN_ONLY) {
        ServerLogger.DEPLOYMENT_LOGGER.reportAdminOnlyMissingDeploymentOverlayContent(HashUtil.bytesToHexString(hash),deploymentOverlayName,contentName);
      }
 else {
        throw ServerLogger.ROOT_LOGGER.noSuchDeploymentOverlayContentAtBoot(HashUtil.bytesToHexString(hash),deploymentOverlayName,contentName);
      }
    }
 else {
      throw ServerLogger.ROOT_LOGGER.noSuchDeploymentOverlayContent(HashUtil.bytesToHexString(hash));
    }
  }
  return hash;
}
