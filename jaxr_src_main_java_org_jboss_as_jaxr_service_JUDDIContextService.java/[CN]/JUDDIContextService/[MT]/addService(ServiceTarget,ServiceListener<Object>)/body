{
  JUDDIContextService service=new JUDDIContextService();
  ServiceBuilder<?> builder=target.addService(JUDDI_CONTEXT_SERVICE_NAME,service);
  builder.addDependency(WebSubsystemServices.JBOSS_WEB_HOST.append("default-host"),VirtualHost.class,service.hostInjector);
  builder.addDependency(ServiceBuilder.DependencyType.OPTIONAL,HttpManagementService.SERVICE_NAME,HttpManagement.class,service.httpManagementInjector);
  builder.addDependency(JAXRConfigurationService.SERVICE_NAME,JAXRConfiguration.class,service.injectedConfig);
  builder.addListener(listeners);
  return builder.install();
}
