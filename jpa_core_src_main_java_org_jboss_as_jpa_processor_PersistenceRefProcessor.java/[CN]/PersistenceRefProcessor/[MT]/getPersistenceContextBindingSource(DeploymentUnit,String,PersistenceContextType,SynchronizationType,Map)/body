{
  PersistenceUnitMetadata pu=getPersistenceUnit(deploymentUnit,unitName);
  String scopedPuName=pu.getScopedPersistenceUnitName();
  ServiceName puServiceName=getPuServiceName(scopedPuName);
  return new PersistenceContextInjectionSource(type,synchronizationType,properties,puServiceName,deploymentUnit,scopedPuName,EntityManager.class.getName(),pu);
}
