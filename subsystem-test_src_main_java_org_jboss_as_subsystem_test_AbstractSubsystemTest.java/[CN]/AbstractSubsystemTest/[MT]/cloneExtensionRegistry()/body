{
  final ExtensionRegistry clone=new ExtensionRegistry(extensionParsingRegistry.getProcessType(),new RunningModeControl(RunningMode.NORMAL));
  for (  String extension : extensionParsingRegistry.getExtensionModuleNames()) {
    ExtensionParsingContext epc=clone.getExtensionParsingContext(extension,null);
    for (    Map.Entry<String,ExtensionRegistry.SubsystemInformation> entry : extensionParsingRegistry.getAvailableSubsystems(extension).entrySet()) {
      for (      String namespace : entry.getValue().getXMLNamespaces()) {
        epc.setSubsystemXmlMapping(entry.getKey(),namespace,null);
      }
    }
    for (    String namespace : extensionParsingRegistry.getUnnamedNamespaces(extension)) {
      epc.setSubsystemXmlMapping(namespace,null);
    }
  }
  return clone;
}
