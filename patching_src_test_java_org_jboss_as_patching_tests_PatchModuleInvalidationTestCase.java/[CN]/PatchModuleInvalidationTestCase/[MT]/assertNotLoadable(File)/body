{
  final URL[] urls=new URL[]{jar.toURL()};
  final URLClassLoader cl=new URLClassLoader(urls,null);
  try {
    Assert.assertNull(cl.getResource("testResource"));
    try {
      cl.loadClass("org.jboss.as.patching.tests.TestClass");
      Assert.fail("shouldn't be able to load the test class");
    }
 catch (    ClassNotFoundException ok) {
    }
  }
  finally {
    IoUtils.safeClose(cl);
  }
  ZipFile file=null;
  try {
    file=new ZipFile(jar);
    Assert.fail("should not be able to open" + jar);
  }
 catch (  ZipException expected) {
    return;
  }
 finally {
    IoUtils.safeClose(file);
  }
}
