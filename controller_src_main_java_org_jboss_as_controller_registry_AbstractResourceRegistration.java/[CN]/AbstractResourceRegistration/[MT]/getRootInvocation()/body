{
  RootInvocation result=null;
  if (parent != null) {
synchronized (this) {
      if (rootInvocation == null) {
        NodeSubregistry ancestorSubregistry=parent;
        AbstractResourceRegistration ancestorReg=this;
        final List<PathElement> path=new ArrayList<PathElement>();
        while (ancestorSubregistry != null) {
          PathElement pe=PathElement.pathElement(ancestorSubregistry.getKeyName(),ancestorReg.valueString);
          path.add(0,pe);
          ancestorReg=ancestorSubregistry.getParent();
          ancestorSubregistry=ancestorReg.parent;
        }
        PathAddress pa=PathAddress.pathAddress(path);
        rootInvocation=new RootInvocation(ancestorReg,pa);
      }
      result=rootInvocation;
    }
  }
  return result;
}
