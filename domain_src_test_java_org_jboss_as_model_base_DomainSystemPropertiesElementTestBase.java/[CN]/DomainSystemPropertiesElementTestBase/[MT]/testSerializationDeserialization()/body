{
  String fullcontent=getFullContent("<system-properties><property name=\"prop1\" value=\"value1\"/><property name=\"prop2\"/></system-properties>");
  PropertiesElement testee=getTestProperties(fullcontent);
  byte[] bytes=serialize(testee);
  PropertiesElement testee1=deserialize(bytes,PropertiesElement.class);
  assertEquals(testee.elementHash(),testee1.elementHash());
  assertEquals(testee.size(),testee1.size());
  for (  String name : testee.getPropertyNames()) {
    assertEquals("Property values match for " + name,testee.getProperty(name),testee1.getProperty(name));
  }
}
