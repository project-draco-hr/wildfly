{
  if (dependsOnAnnotations.size() > 1) {
    throw new DeploymentUnitProcessingException("More than one @DependsOn annotation found on bean: " + beanName);
  }
  final AnnotationInstance dependsOnAnnotation=dependsOnAnnotations.get(0);
  final List<AnnotationInstance> singletonAnnotations=annotationsOnBean.get(DotName.createSimple(Singleton.class.getName()));
  if (singletonAnnotations == null || singletonAnnotations.isEmpty()) {
    throw new DeploymentUnitProcessingException("@DependsOn can appear only on a class annotated with @Singleton. Target: " + dependsOnAnnotation.target() + " is not a class.");
  }
  if (dependsOnAnnotation.target() instanceof ClassInfo == false) {
    throw new DeploymentUnitProcessingException("@DependsOn can appear only on a class. Target: " + dependsOnAnnotation.target() + " is not a class.");
  }
}
