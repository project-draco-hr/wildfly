{
  OrderHome orderHome=getOrderHome();
  AddressHome addressHome=getAddressHome();
  Order orderCA1=orderHome.create();
  Address shipCA1=addressHome.create();
  shipCA1.setState("CA");
  orderCA1.setShippingAddressId(shipCA1.getId());
  Address billCA1=addressHome.create();
  billCA1.setState("CA");
  orderCA1.setBillingAddressId(billCA1.getId());
  Order orderCA2=orderHome.create();
  Address shipCA2=addressHome.create();
  shipCA2.setState("CA");
  orderCA2.setShippingAddressId(shipCA2.getId());
  orderCA2.setBillingAddressId(shipCA2.getId());
  Order orderMN=orderHome.create();
  Address shipMN=addressHome.create();
  shipMN.setState("MN");
  orderMN.setShippingAddressId(shipMN.getId());
  Collection c=orderMN.getAddressesInCA();
  System.out.println(c);
  assertTrue(c.contains(shipCA1));
  assertTrue(c.contains(shipCA2));
  assertTrue(c.contains(billCA1));
  assertTrue(c.size() == 3);
  c=orderMN.getAddressesInCA2();
  System.out.println(c);
  assertTrue(c.contains(shipCA1));
  assertTrue(c.contains(shipCA2));
  assertTrue(c.contains(billCA1));
  assertTrue(c.size() == 3);
}
