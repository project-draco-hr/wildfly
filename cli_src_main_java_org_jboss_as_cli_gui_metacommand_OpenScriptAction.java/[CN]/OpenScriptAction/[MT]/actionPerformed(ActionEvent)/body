{
  int returnVal=fileChooser.showOpenDialog(cliGuiCtx.getMainPanel());
  if (returnVal != JFileChooser.APPROVE_OPTION)   return;
  PrintStream originalOut=System.out;
  ByteArrayOutputStream scriptOut=new ByteArrayOutputStream();
  PrintStream printOut=new PrintStream(scriptOut);
  try {
    String filePath=fileChooser.getSelectedFile().getCanonicalPath();
    if ((filePath == null) || (filePath.trim().equals("")))     return;
    System.setOut(printOut);
    doScript(getCommandLines(filePath),scriptOut);
  }
 catch (  IOException ex) {
    ex.printStackTrace();
  }
 finally {
    System.setOut(originalOut);
    System.out.println("from print stream:");
    System.out.println(scriptOut.toString());
  }
}
