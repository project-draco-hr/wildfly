{
  final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS);
  Set<String> children=resource.getChildrenNames(ModelDescriptionConstants.USERNAME_TO_DN);
  if (children.size() > 1) {
    String realmName=ManagementUtil.getSecurityRealmName(operation);
    Set<String> invalid=new HashSet<String>(children);
    throw DomainManagementLogger.ROOT_LOGGER.multipleUsernameToDnConfigurationsDefined(realmName,invalid);
  }
  children=resource.getChildrenNames(ModelDescriptionConstants.GROUP_SEARCH);
  if (children.size() == 0) {
    String realmName=ManagementUtil.getSecurityRealmName(operation);
    throw DomainManagementLogger.ROOT_LOGGER.noGroupSearchDefined(realmName);
  }
 else   if (children.size() > 1) {
    String realmName=ManagementUtil.getSecurityRealmName(operation);
    Set<String> invalid=new HashSet<String>(children);
    throw DomainManagementLogger.ROOT_LOGGER.multipleGroupSearchConfigurationsDefined(realmName,invalid);
  }
  context.stepCompleted();
}
