{
  final Map<String,StringBuilder> requiredProps=new LinkedHashMap<String,StringBuilder>();
  requiredProps.put(this.name.getFullName(),new StringBuilder().append("Required argument in commands which identifies the instance to execute the command against."));
  final Map<String,StringBuilder> optionalProps=new LinkedHashMap<String,StringBuilder>();
  String accessType=null;
  while (props.hasNext()) {
    AttributeDescription attr=props.next();
    accessType=attr.getAccess();
    final boolean required=attr.getBooleanProperty(Util.REQUIRED);
    final StringBuilder descr=new StringBuilder();
    final ModelType modelType=attr.getType();
    final String type=modelType == null ? "no type info" : modelType.toString();
    final String attrDescr=attr.getDescription();
    if (attrDescr != null) {
      descr.append('(');
      descr.append(type);
      if (accessType != null) {
        descr.append(',').append(accessType);
      }
      descr.append(") ");
      descr.append(attrDescr);
    }
 else     if (descr.length() == 0) {
      descr.append("no description.");
    }
    if (required) {
      if (idProperty != null && idProperty.equals(attr.getName())) {
        if (descr.charAt(descr.length() - 1) != '.') {
          descr.append('.');
        }
        requiredProps.get(this.name.getFullName()).insert(0,' ').insert(0,descr.toString());
      }
 else {
        requiredProps.put("--" + attr.getName(),descr);
      }
    }
 else {
      optionalProps.put("--" + attr.getName(),descr);
    }
  }
  ctx.printLine("\n");
  if (accessType == null) {
    ctx.printLine("REQUIRED ARGUMENTS:\n");
  }
  for (  String argName : requiredProps.keySet()) {
    formatProperty(ctx,argName,requiredProps.get(argName));
  }
  if (!optionalProps.isEmpty()) {
    if (accessType == null) {
      ctx.printLine("\n\nOPTIONAL ARGUMENTS:\n");
    }
    for (    String argName : optionalProps.keySet()) {
      formatProperty(ctx,argName,optionalProps.get(argName));
    }
  }
}
