{
  final List<Operand> operands=getOperands();
  if (operands.isEmpty()) {
    throw new CommandLineException(getName() + " has no operands.");
  }
  if (operands.size() != 2) {
    throw new CommandLineException(getName() + " expects 2 operands but got " + operands.size());
  }
  final Object left=operands.get(0).resolveValue(ctx,response);
  final Object right=operands.get(1).resolveValue(ctx,response);
  if (!(left instanceof ModelNode) || !(right instanceof ModelNode)) {
    throw new CommandLineException("Operands aren't instances of org.jboss.dmr.ModelNode: " + left.getClass().getName() + ", "+ right.getClass().getName());
  }
  if (((ModelNode)left).getType() != ((ModelNode)right).getType()) {
    return false;
  }
  return compare(left,right);
}
