{
  if (lo < hi) {
    ++lo;
  }
 else {
    Transaction curTx=null;
    try {
      curTx=tm.suspend();
    }
 catch (    SystemException e) {
      throw MESSAGES.failedToSuspendTx(e);
    }
    try {
      tm.begin();
    }
 catch (    Exception e) {
      throw MESSAGES.failedToBeginTx(e);
    }
    try {
      doGenerate();
      tm.commit();
    }
 catch (    SQLException e) {
      CmpLogger.ROOT_LOGGER.failedToUpdateTable(e);
      try {
        tm.rollback();
      }
 catch (      SystemException e1) {
        CmpLogger.ROOT_LOGGER.failedToRollback(e1);
      }
      throw new IllegalStateException(e);
    }
catch (    Exception e) {
      CmpLogger.ROOT_LOGGER.failedToCommit(e);
    }
 finally {
      if (curTx != null) {
        try {
          tm.resume(curTx);
        }
 catch (        Exception e) {
          throw MESSAGES.failedToResumeTx(e);
        }
      }
    }
  }
  return new Long(lo);
}
