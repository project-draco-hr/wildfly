{
  final StringBuilder buf=new StringBuilder();
  buf.append("JBoss Admin Command-line Interface\n");
  buf.append("JBOSS_HOME: ").append(SecurityActions.getEnvironmentVariable("JBOSS_HOME")).append('\n');
  buf.append("JBoss AS release: ");
  final ModelControllerClient client=ctx.getModelControllerClient();
  if (client == null) {
    buf.append("<connect to the controller and re-run the version command to see the release info>\n");
  }
 else {
    final ModelNode req=new ModelNode();
    req.get(Util.OPERATION).set(Util.READ_RESOURCE);
    req.get(Util.ADDRESS).setEmptyList();
    try {
      final ModelNode response=client.execute(req);
      if (Util.isSuccess(response)) {
        if (response.hasDefined(Util.RESULT)) {
          final ModelNode result=response.get(Util.RESULT);
          byte flag=0;
          if (result.hasDefined("release-version")) {
            buf.append(result.get("release-version").asString());
            ++flag;
          }
          if (result.hasDefined("release-codename")) {
            buf.append(" \"").append(result.get("release-codename").asString()).append('\"');
            ++flag;
          }
          if (flag == 0) {
            buf.append("release info was not provided by the controller");
          }
        }
 else {
          buf.append("result was not available.");
        }
      }
 else {
        buf.append(Util.getFailureDescription(response));
      }
      buf.append('\n');
    }
 catch (    IOException e) {
      throw new CommandFormatException("Failed to get the AS release info: " + e.getLocalizedMessage());
    }
  }
  buf.append("JAVA_HOME: ").append(SecurityActions.getEnvironmentVariable("JAVA_HOME")).append('\n');
  buf.append("java.version: ").append(SecurityActions.getSystemProperty("java.version")).append('\n');
  buf.append("java.vm.vendor: ").append(SecurityActions.getSystemProperty("java.vm.vendor")).append('\n');
  buf.append("java.vm.version: ").append(SecurityActions.getSystemProperty("java.vm.version")).append('\n');
  buf.append("os.name: ").append(SecurityActions.getSystemProperty("os.name")).append('\n');
  buf.append("os.version: ").append(SecurityActions.getSystemProperty("os.version"));
  ctx.printLine(buf.toString());
}
