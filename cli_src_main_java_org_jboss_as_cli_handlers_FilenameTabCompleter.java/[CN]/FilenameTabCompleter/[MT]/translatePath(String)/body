{
  final String translated;
  if (path.startsWith("~" + File.separator)) {
    translated=System.getProperty("user.home") + path.substring(1);
  }
 else   if (path.startsWith("~")) {
    translated=new File(System.getProperty("user.home")).getParentFile().getAbsolutePath();
  }
 else   if (!startsWithRoot(path)) {
    translated=new File("").getAbsolutePath() + File.separator + path;
  }
 else {
    translated=path;
  }
  return translated;
}
