{
  SFSBHibernatewithCriteriaSession sfsb=lookup("SFSBHibernatewithCriteriaSession",SFSBHibernatewithCriteriaSession.class);
  sfsb.setupConfig();
  try {
    Set<Satellite> satellites1=new HashSet<Satellite>();
    Satellite sat=new Satellite();
    sat.setId(new Integer(1));
    sat.setName("MOON");
    satellites1.add(sat);
    Set<Satellite> satellites2=new HashSet<Satellite>();
    Satellite sat2=new Satellite();
    sat2.setId(new Integer(2));
    sat2.setName("TRITON");
    satellites2.add(sat2);
    Planet s1=sfsb.prepareData("EARTH","MILKY WAY","SUN",satellites1,new Integer(1));
    Planet s2=sfsb.prepareData("NEPTUNE","MILKY WAY","SUN",satellites2,new Integer(2));
    Query data=sfsb.fetchwithHQL();
    assertNotNull(data);
    List critdata=sfsb.fetchwithCriteria();
    for (Iterator it=critdata.iterator(); it.hasNext(); ) {
      Planet planet=(Planet)it.next();
      assertEquals("EARTH",planet.getPlanetName());
    }
    Statistics stats=sfsb.getStatistics();
    String[] queryList=stats.getQueries();
    for (int i=0; i < queryList.length; i++) {
      System.out.println("Query obtained from statistics::" + queryList[i]);
    }
  }
  finally {
    sfsb.cleanup();
  }
}
