{
  BatchManager batchManager=ctx.getBatchManager();
  if (!batchManager.isBatchActive()) {
    ctx.printLine("No active batch.");
    return;
  }
  Batch batch=batchManager.getActiveBatch();
  final int batchSize=batch.size();
  if (batchSize == 0) {
    ctx.printLine("The batch is empty.");
    return;
  }
  List<String> arguments=ctx.getParsedArguments().getOtherArguments();
  if (arguments.isEmpty()) {
    ctx.printLine("Missing line number.");
    return;
  }
  if (arguments.size() != 1) {
    ctx.printLine("Expected only one argument - the line number but received: " + arguments);
    return;
  }
  String intStr=arguments.get(0);
  int lineNumber;
  try {
    lineNumber=Integer.parseInt(intStr);
  }
 catch (  NumberFormatException e) {
    ctx.printLine("Failed to parse line number '" + intStr + "': "+ e.getLocalizedMessage());
    return;
  }
  if (lineNumber < 1 || lineNumber > batchSize) {
    ctx.printLine(lineNumber + " isn't in range [1.." + batchSize+ "].");
    return;
  }
  batch.remove(lineNumber - 1);
}
