{
  if (reference instanceof ModularReference) {
    return factoryFromModularReference(ModularReference.class.cast(reference));
  }
  final ClassLoader contextCl=getContextClassLoader();
  Class<?> factoryClass=null;
  try {
    factoryClass=contextCl.loadClass(reference.getFactoryClassName());
    return ObjectFactory.class.cast(factoryClass.newInstance());
  }
 catch (  Throwable ignored) {
  }
  return this;
}
