{
  ModelNode op=new ModelNode();
  op.get("operation").set("read-children-names");
  ModelNode opAddr=op.get("address");
  opAddr.add("host",server.getHostName());
  opAddr.add("server",server.getServerName());
  op.get("child-type").set("socket-binding-group");
  ModelNode result=executeForResult(op);
  String groupName=result.asList().get(0).asString();
  op=new ModelNode();
  op.get("operation").set("read-attribute");
  opAddr=op.get("address");
  opAddr.add("host",server.getHostName());
  opAddr.add("server",server.getServerName());
  opAddr.add("socket-binding-group",groupName);
  opAddr.add("socket-binding","jmx-connector-registry");
  op.get("name").set("bound");
  result=executeForResult(op);
  if (result.asBoolean(false)) {
    op.get("name").set("bound-address");
    String address=executeForResult(op).asString();
    op.get("name").set("bound-port");
    int port=executeForResult(op).asInt();
    return new MBeanServerConnectionProvider(InetAddress.getByName(address),port);
  }
  return null;
}
