{
  EJBContext ejbContext=getEjbContext();
  if (ejbContext instanceof BaseSessionContext) {
    return ((EJBComponent)((BaseSessionContext)ejbContext).getComponent()).getComponentName();
  }
 else {
    throw new IllegalStateException("Unable to extract ejb name from EJBContext " + ejbContext);
  }
}
