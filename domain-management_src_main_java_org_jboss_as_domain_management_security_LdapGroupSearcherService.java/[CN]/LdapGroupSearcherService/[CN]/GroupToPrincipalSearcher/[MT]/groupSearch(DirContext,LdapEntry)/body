{
  SearchControls searchControls=createSearchControl(recursive,attributeArray);
  Set<LdapEntry> foundEntries=new HashSet<LdapEntry>();
  NamingEnumeration<SearchResult> searchResults=dirContext.search(baseDn,filterString,getSearchParameter(entry),searchControls);
  while (searchResults.hasMore()) {
    SearchResult current=searchResults.next();
    Attributes attributes=current.getAttributes();
    if (attributes != null) {
      foundEntries.add(convertToLdapEntry(current,attributes));
    }
  }
  return foundEntries.toArray(new LdapEntry[foundEntries.size()]);
}
