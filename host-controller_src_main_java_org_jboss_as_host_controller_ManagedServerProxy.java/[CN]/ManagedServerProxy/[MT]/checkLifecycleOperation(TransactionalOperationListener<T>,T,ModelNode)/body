{
  final String operationName=op.get(OP).asString();
  if (COMPOSITE.equals(operationName)) {
    if (op.has(STEPS)) {
      for (      final ModelNode step : op.get(STEPS).asList()) {
        return checkLifecycleOperation(listener,operation,step);
      }
    }
  }
 else   if ("reload".equals(operationName)) {
    server.reloading();
    return new TransactionalOperationListener<T>(){
      @Override public void operationPrepared(      PreparedOperation<T> prepared){
        listener.operationPrepared(prepared);
      }
      @Override public void operationFailed(      T operation,      ModelNode result){
        try {
          listener.operationFailed(operation,result);
        }
  finally {
          server.cancelReloading();
        }
      }
      @Override public void operationComplete(      T operation,      ModelNode result){
        listener.operationComplete(operation,result);
      }
    }
;
  }
  return listener;
}
