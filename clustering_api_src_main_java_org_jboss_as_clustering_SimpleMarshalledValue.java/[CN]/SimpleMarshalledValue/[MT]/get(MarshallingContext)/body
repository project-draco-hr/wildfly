{
  if (this.object == null) {
    this.context=context;
    if (this.bytes != null) {
      Unmarshaller unmarshaller=context.createUnmarshaller();
      try {
        unmarshaller.start(Marshalling.createByteInput(new ByteArrayInputStream(this.bytes)));
        ClassLoader currentLoader=null;
        ClassLoader contextLoader=context.getContextClassLoader();
        if (contextLoader != null) {
          currentLoader=getCurrentThreadContextClassLoader();
          setCurrentThreadContextClassLoader(contextLoader);
        }
        try {
          this.object=(T)unmarshaller.readObject();
        }
  finally {
          if (contextLoader != null) {
            setCurrentThreadContextClassLoader(currentLoader);
          }
        }
        unmarshaller.finish();
        this.bytes=null;
      }
  finally {
        unmarshaller.close();
      }
    }
  }
  return this.object;
}
