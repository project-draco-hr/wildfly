def convert_bytes(bytes_, K=(1 << 10), M=(1 << 20), G=(1 << 30), T=(1 << 40)):
    'Converts a number of bytes to a shorter, more human friendly format'
    fn = float(bytes_)
    if (bytes_ >= T):
        return ('%.1fT' % (fn / T))
    elif (bytes_ >= G):
        return ('%.1fG' % (fn / G))
    elif (bytes_ >= M):
        return ('%.1fM' % (fn / M))
    elif (bytes_ >= K):
        return ('%.1fK' % (fn / K))
    else:
        return ('%d' % bytes_)
