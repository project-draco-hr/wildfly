def checksum(filename, chunk_size=128):
    'Returns the checksum of the supplied filename. The file is read in\n    chunk_size blocks'
    name = get_hash_name()
    digest = hashlib.new(name)
    fd = open(filename, 'rb')
    data = fd.read(chunk_size)
    while data:
        digest.update(data)
        data = fd.read(chunk_size)
    return digest.hexdigest()
