{
  ROOT_LOGGER.activatingSubsystem();
  context.addStep(new OperationStepHandler(){
    public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      ServiceTarget serviceTarget=context.getServiceTarget();
      newControllers.add(BundleStartTracker.addService(serviceTarget));
      newControllers.add(BundleInstallProviderIntegration.addService(serviceTarget));
      newControllers.addAll(FrameworkBootstrapService.addService(serviceTarget,verificationHandler));
      newControllers.add(ConfigAdminServiceImpl.addService(serviceTarget,verificationHandler));
      context.completeStep();
    }
  }
,OperationContext.Stage.RUNTIME);
  context.addStep(new AbstractDeploymentChainStep(){
    protected void execute(    DeploymentProcessorTarget processorTarget){
      new OSGiDeploymentActivator().activate(processorTarget);
    }
  }
,OperationContext.Stage.RUNTIME);
  ServiceTarget serviceTarget=context.getServiceTarget();
  newControllers.add(SubsystemState.addService(serviceTarget,getActivationMode(operation)));
  ROOT_LOGGER.debugf("Activated OSGi Subsystem");
}
