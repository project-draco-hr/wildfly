{
  if (targetOldVersions.exists()) {
    return;
  }
  if (!targetOldVersions.mkdirs() && targetOldVersions.exists()) {
    throw new RuntimeException("Could not create " + targetOldVersions);
  }
  for (  File file : oldVersionsBaseDir.listFiles()) {
    if (file.getName().endsWith(".zip")) {
      try {
        expandAsInstance(file);
        if (file.getName().equals("jboss-as-7.1.2.Final.zip")) {
          patchBadRemoting("jboss-as-7.1.2.Final");
        }
 else         if (file.getName().equals("jboss-as-7.1.3.Final.zip")) {
          patchBadRemoting("jboss-as-7.1.3.Final");
        }
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
}
