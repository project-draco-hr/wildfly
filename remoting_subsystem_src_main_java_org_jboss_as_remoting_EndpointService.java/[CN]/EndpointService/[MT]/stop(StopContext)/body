{
  context.asynchronous();
  try {
    endpoint.closeAsync();
  }
  finally {
    endpoint.addCloseHandler(new CloseHandler<Endpoint>(){
      public void handleClose(      final Endpoint closed,      final IOException exception){
        context.complete();
      }
    }
);
  }
}
