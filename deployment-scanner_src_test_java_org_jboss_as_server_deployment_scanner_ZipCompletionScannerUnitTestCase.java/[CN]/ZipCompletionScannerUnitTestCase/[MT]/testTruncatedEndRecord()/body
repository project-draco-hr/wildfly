{
  File truncated=testSupport.getFile("truncated1.jar");
  FileChannel in=testSupport.getChannel(testSupport.getBasicWar(),true);
  FileChannel out=testSupport.getChannel(truncated,false);
  ByteBuffer bb=getByteBuffer((int)in.size() - 1);
  in.read(bb);
  bb.flip();
  out.write(bb);
  Assert.assertFalse(ZipCompletionScanner.isCompleteZip(truncated));
  truncated=testSupport.getFile("truncated2.jar");
  out=testSupport.getChannel(truncated,false);
  bb=getByteBuffer((int)in.size() - 18);
  in.read(bb,0);
  bb.flip();
  out.write(bb);
  Assert.assertFalse(ZipCompletionScanner.isCompleteZip(truncated));
}
