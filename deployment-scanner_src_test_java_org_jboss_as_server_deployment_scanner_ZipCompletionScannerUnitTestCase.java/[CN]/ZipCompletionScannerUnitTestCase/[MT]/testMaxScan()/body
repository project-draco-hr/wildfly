{
  int size=(1 << 16) + 22;
  File maxscan=testSupport.getFile("maxscan.jar");
  FileChannel ch=testSupport.getChannel(maxscan,false);
  ByteBuffer bb=ByteBuffer.allocate(1);
  bb.put((byte)0);
  bb.flip();
  ch.write(bb,size - 1);
  Assert.assertFalse(ZipCompletionScanner.isCompleteZip(maxscan));
  File maxscanplus=testSupport.getFile("maxscanplus.jar");
  ch=testSupport.getChannel(maxscanplus,false);
  bb.flip();
  ch.write(bb,size);
  Assert.assertFalse(ZipCompletionScanner.isCompleteZip(maxscanplus));
  File maxscanminus=testSupport.getFile("maxscanminus.jar");
  ch=testSupport.getChannel(maxscanminus,false);
  bb.flip();
  ch.write(bb,size - 2);
  Assert.assertFalse(ZipCompletionScanner.isCompleteZip(maxscanplus));
}
