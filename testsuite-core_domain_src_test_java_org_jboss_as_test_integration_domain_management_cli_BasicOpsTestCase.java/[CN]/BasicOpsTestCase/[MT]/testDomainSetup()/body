{
  CLIWrapper cli=new CLIWrapper(false,DomainTestSupport.masterAddress);
  assertFalse(cli.isConnected());
  assertTrue(cli.sendConnect(DomainTestSupport.masterAddress));
  assertTrue(cli.isConnected());
  cli.sendLine(":read-children-names(child-type=host)");
  CLIOpResult res=cli.readAllAsOpResult();
  assertTrue(res.getResult() instanceof List);
  List<?> hosts=(List<?>)res.getResult();
  assertTrue(hosts.contains("master"));
  assertTrue(hosts.contains("slave"));
  assertTrue(checkHostServers(cli,"master",new String[]{"main-one","main-two","other-one","reload-one"}));
  assertTrue(checkHostServers(cli,"slave",new String[]{"main-three","main-four","other-two","reload-two"}));
  cli.quit();
}
