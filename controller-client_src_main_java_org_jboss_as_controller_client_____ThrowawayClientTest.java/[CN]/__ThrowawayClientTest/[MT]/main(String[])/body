{
  ModelControllerClient client=null;
  try {
    System.out.println("Connecting");
    client=ModelControllerClient.Factory.create(InetAddress.getByName("localhost"),9999);
    System.out.println("Connected");
{
      ModelNode request=new ModelNode();
      request.get("operation").set("read-resource");
      request.get("address").setEmptyList();
      request.get("recursive").set(true);
      ModelNode r=client.execute(request);
      System.out.println(r);
    }
{
      ModelNode request=new ModelNode();
      request.get("operation").set("read-operation-description");
      request.get("address").setEmptyList();
      request.get("address").set("subsystem","logging");
      request.get("recursive").set(true);
      request.get("name").set("add");
      ModelNode r=client.execute(request);
      System.out.println(r);
    }
{
      ModelNode request=new ModelNode();
      request.get("operation").set("read-resource");
      request.get("address").add("subsystem","web").add("connector","http");
      request.get("include-runtime").set(true);
      ModelNode r=client.execute(request);
      System.out.println(r);
    }
{
      ModelNode request=new ModelNode();
      request.get("operation").set("read-attribute");
      request.get("address").setEmptyList();
      request.get("address").add("subsystem","web").add("connector","http");
      request.get("name").set("requestCount");
      ModelNode r=client.execute(request);
      System.out.println(r);
    }
  }
  finally {
    StreamUtils.safeClose(client);
    System.out.println("Closed");
  }
}
