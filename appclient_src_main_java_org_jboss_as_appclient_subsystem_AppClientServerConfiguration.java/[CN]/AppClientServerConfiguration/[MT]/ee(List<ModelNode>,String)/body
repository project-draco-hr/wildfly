{
  ModelNode add=new ModelNode();
  final List<ModuleIdentifier> identifiers=new ArrayList<ModuleIdentifier>();
  if (globalModules != null && !globalModules.isEmpty()) {
    ModelNode globalModulesNode=new ModelNode();
    final String[] modules=globalModules.split(",");
    for (    final String module : modules) {
      final ModuleIdentifier identifier=ModuleIdentifier.fromString(module);
      final ModelNode node=new ModelNode();
      node.get(GlobalModulesDefinition.NAME).set(identifier.getName());
      node.get(GlobalModulesDefinition.SLOT).set(identifier.getSlot());
      globalModulesNode.add(node);
    }
    add.get(GlobalModulesDefinition.GLOBAL_MODULES).set(globalModulesNode);
  }
  loadExtension(nodes,"org.jboss.as.ee");
  add.get(OP_ADDR).set(new ModelNode().setEmptyList()).add(SUBSYSTEM,"ee");
  add.get(OP).set(ADD);
  add.get("appclient").set(true);
  nodes.add(add);
}
