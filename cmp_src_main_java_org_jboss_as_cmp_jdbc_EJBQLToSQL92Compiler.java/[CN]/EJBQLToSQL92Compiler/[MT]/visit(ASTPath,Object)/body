{
  StringBuffer buf=(StringBuffer)data;
  if (!node.isCMPField()) {
    throw new IllegalStateException("Can only visit cmp valued path node. " + "Should have been handled at a higher level.");
  }
  JDBCFieldBridge cmpField=(JDBCFieldBridge)node.getCMPField();
switch (node.type) {
case EJBQLTypes.ENTITY_TYPE:
case EJBQLTypes.VALUE_CLASS_TYPE:
    if (cmpField.getJDBCType().hasMapper() || cmpField.getJDBCType().getParameterSetter() != null) {
      break;
    }
case EJBQLTypes.UNKNOWN_TYPE:
  throw new IllegalStateException("Can not visit multi-column path " + "node. Should have been handled at a higher level.");
}
addLeftJoinPath(node);
String alias=aliasManager.getAlias(node.getPath(node.size() - 2));
SQLUtil.getColumnNamesClause(cmpField,alias,buf);
return data;
}
