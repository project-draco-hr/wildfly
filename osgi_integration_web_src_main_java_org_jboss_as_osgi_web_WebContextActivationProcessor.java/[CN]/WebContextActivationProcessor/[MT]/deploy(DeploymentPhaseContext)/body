{
  DeploymentUnit depUnit=phaseContext.getDeploymentUnit();
  ContextActivator activator=depUnit.getAttachment(ContextActivator.ATTACHMENT_KEY);
  XBundleRevision brev=depUnit.getAttachment(OSGiConstants.BUNDLE_REVISION_KEY);
  if (activator != null && brev != null) {
    brev.putAttachment(WebExtension.CONTEXT_ACTIVATOR_KEY,activator);
    Deployment deployment=brev.getBundle().adapt(Deployment.class);
    if (deployment.isAutoStart()) {
      activator.startAsync();
    }
  }
}
