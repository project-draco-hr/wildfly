{
  CliGuiContext cliGuiCtx=new CliGuiContext();
  cliGuiCtx.setCommandContext(cmdCtx);
  CommandExecutor executor=new CommandExecutor(cliGuiCtx);
  cliGuiCtx.setExecutor(executor);
  JTextPane output=new JTextPane();
  JPanel outputDisplay=makeOutputDisplay(output);
  JTabbedPane tabs=makeTabbedPane(cliGuiCtx,outputDisplay);
  DoOperationActionListener opListener=new DoOperationActionListener(cliGuiCtx,output,tabs);
  CommandLine cmdLine=new CommandLine(opListener);
  cliGuiCtx.setCommandLine(cmdLine);
  output.addMouseListener(new SelectPreviousOpMouseAdapter(cliGuiCtx,output,opListener));
  JPanel mainPanel=makeMainPanel(tabs,cmdLine);
  cliGuiCtx.setMainPanel(mainPanel);
  return cliGuiCtx;
}
