{
  CliGuiContext cliGuiCtx=new CliGuiContext();
  cliGuiCtx.setCommandContext(cmdCtx);
  CommandExecutor executor=new CommandExecutor(cliGuiCtx);
  cliGuiCtx.setExecutor(executor);
  CLIOutput output=new CLIOutput();
  cliGuiCtx.setOutput(output);
  JPanel outputDisplay=makeOutputDisplay(output);
  JTabbedPane tabs=makeTabbedPane(cliGuiCtx,outputDisplay);
  cliGuiCtx.setTabs(tabs);
  DoOperationActionListener opListener=new DoOperationActionListener(cliGuiCtx);
  CommandLine cmdLine=new CommandLine(opListener);
  cliGuiCtx.setCommandLine(cmdLine);
  output.addMouseListener(new SelectPreviousOpMouseAdapter(cliGuiCtx,opListener));
  JPanel mainPanel=makeMainPanel(tabs,cmdLine);
  cliGuiCtx.setMainPanel(mainPanel);
  return cliGuiCtx;
}
