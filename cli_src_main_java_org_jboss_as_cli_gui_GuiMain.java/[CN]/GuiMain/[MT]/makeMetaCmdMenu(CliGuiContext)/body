{
  JMenu metaCmdMenu=new JMenu("Meta Commands");
  metaCmdMenu.setMnemonic(KeyEvent.VK_M);
  JMenuItem deploy=new JMenuItem(new DeployAction(cliGuiCtx));
  deploy.setMnemonic(KeyEvent.VK_D);
  metaCmdMenu.add(deploy);
  JMenuItem unDeploy=new JMenuItem(new UndeployAction(cliGuiCtx));
  deploy.setMnemonic(KeyEvent.VK_U);
  metaCmdMenu.add(unDeploy);
  final LookAndFeelInfo[] all=UIManager.getInstalledLookAndFeels();
  if (all != null) {
    final String errorTitle="Look & Feel Not Set";
    final JMenu lfMenu=new JMenu("Look & Feel");
    lfMenu.setMnemonic(KeyEvent.VK_L);
    menuBar.add(lfMenu);
    for (    final LookAndFeelInfo lookAndFeelInfo : all) {
      JMenuItem item=new JMenuItem(new AbstractAction(lookAndFeelInfo.getName()){
        @Override public void actionPerformed(        final ActionEvent e){
          try {
            UIManager.setLookAndFeel(lookAndFeelInfo.getClassName());
            SwingUtilities.updateComponentTreeUI(frame);
            PREFERENCES.put(LOOK_AND_FEEL_KEY,lookAndFeelInfo.getClassName());
          }
 catch (          ClassNotFoundException e1) {
            showErrorDialog(errorTitle,e1);
          }
catch (          InstantiationException e1) {
            showErrorDialog(errorTitle,e1);
          }
catch (          IllegalAccessException e1) {
            showErrorDialog(errorTitle,e1);
          }
catch (          UnsupportedLookAndFeelException e1) {
            showErrorDialog(errorTitle,e1);
          }
        }
      }
);
      lfMenu.add(item);
    }
  }
  return menuBar;
}
