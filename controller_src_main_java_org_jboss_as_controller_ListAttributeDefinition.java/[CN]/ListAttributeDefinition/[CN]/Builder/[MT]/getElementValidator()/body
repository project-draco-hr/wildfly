{
  if (elementValidator == null) {
    return null;
  }
  ParameterValidator toWrap=elementValidator;
  ParameterValidator wrappedElementValidator=null;
  if (elementValidator instanceof NillableOrExpressionParameterValidator) {
    NillableOrExpressionParameterValidator wrapped=(NillableOrExpressionParameterValidator)elementValidator;
    Boolean allow=wrapped.getAllowNull();
    if ((allow == null || allow) == getAllowNullElement() && wrapped.isAllowExpression() == isAllowExpression()) {
      wrappedElementValidator=wrapped;
    }
 else {
      toWrap=wrapped.getDelegate();
    }
  }
  if (wrappedElementValidator == null) {
    elementValidator=new NillableOrExpressionParameterValidator(toWrap,getAllowNullElement(),isAllowExpression());
  }
  return elementValidator;
}
