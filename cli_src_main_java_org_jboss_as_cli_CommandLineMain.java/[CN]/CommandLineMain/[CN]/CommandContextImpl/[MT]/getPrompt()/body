{
  StringBuilder buffer=new StringBuilder();
  buffer.append('[');
  if (controllerHost != null) {
    buffer.append(controllerHost).append(':').append(controllerPort).append(' ');
  }
 else {
    buffer.append("disconnected ");
  }
  if (prefix.isEmpty()) {
    buffer.append('/');
  }
 else {
    final String nodeName=prefix.getNodeName();
    if (nodeName == null) {
      buffer.append(prefix.getNodeType());
    }
 else {
      buffer.append(nodeName);
    }
  }
  if (isBatchMode()) {
    buffer.append(" #");
  }
  buffer.append("] ");
  return buffer.toString();
}
