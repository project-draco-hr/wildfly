{
  for (  Callback current : callbacks) {
    if (current instanceof RealmCallback) {
      RealmCallback rcb=(RealmCallback)current;
      String defaultText=rcb.getDefaultText();
      rcb.setText(defaultText);
      if (realmShown == false) {
        realmShown=true;
        printLine("Authenticating against security realm: " + defaultText);
      }
    }
 else     if (current instanceof RealmChoiceCallback) {
      throw new UnsupportedCallbackException(current,"Realm choice not currently supported.");
    }
 else     if (current instanceof NameCallback) {
      NameCallback ncb=(NameCallback)current;
      if (userName == null) {
        userName=console.readLine("Username:");
      }
      ncb.setName(userName);
    }
 else     if (current instanceof PasswordCallback) {
      PasswordCallback pcb=(PasswordCallback)current;
      if (password == null) {
        String temp=console.readLine("Password:",'*');
        if (temp != null) {
          password=temp.toCharArray();
        }
      }
      pcb.setPassword(password);
    }
 else {
      printLine("Unexpected Callback " + current.getClass().getName());
      throw new UnsupportedCallbackException(current);
    }
  }
}
