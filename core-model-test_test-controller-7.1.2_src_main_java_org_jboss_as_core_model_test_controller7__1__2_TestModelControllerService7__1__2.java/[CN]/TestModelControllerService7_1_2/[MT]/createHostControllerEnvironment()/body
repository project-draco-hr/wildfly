{
  try {
    Map<String,String> props=new HashMap<String,String>();
    File home=new File("target/jbossas");
    delete(home);
    home.mkdir();
    props.put(HostControllerEnvironment.HOME_DIR,home.getAbsolutePath());
    File domain=new File(home,"domain");
    domain.mkdir();
    props.put(HostControllerEnvironment.DOMAIN_BASE_DIR,domain.getAbsolutePath());
    File configuration=new File(domain,"configuration");
    configuration.mkdir();
    props.put(HostControllerEnvironment.DOMAIN_CONFIG_DIR,configuration.getAbsolutePath());
    boolean isRestart=false;
    String modulePath="";
    InetAddress processControllerAddress=InetAddress.getLocalHost();
    Integer processControllerPort=9999;
    InetAddress hostControllerAddress=InetAddress.getLocalHost();
    Integer hostControllerPort=1234;
    String defaultJVM=null;
    String domainConfig=null;
    String hostConfig=null;
    RunningMode initialRunningMode=runningModeControl.getRunningMode();
    boolean backupDomainFiles=false;
    boolean useCachedDc=false;
    ProductConfig productConfig=new ProductConfig(null,"");
    return new HostControllerEnvironment(props,isRestart,modulePath,processControllerAddress,processControllerPort,hostControllerAddress,hostControllerPort,defaultJVM,domainConfig,hostConfig,initialRunningMode,backupDomainFiles,useCachedDc,productConfig);
  }
 catch (  UnknownHostException e) {
    throw new RuntimeException(e);
  }
}
