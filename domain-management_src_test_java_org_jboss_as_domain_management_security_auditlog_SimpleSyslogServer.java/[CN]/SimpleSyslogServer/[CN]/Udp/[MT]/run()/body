{
  while (!closed.get()) {
    try {
      DatagramPacket packet=new DatagramPacket(new byte[2048],2048);
      socket.receive(packet);
      byte[] bytes=new byte[packet.getLength()];
      System.arraycopy(packet.getData(),0,bytes,0,packet.getLength());
      receivedData.add(bytes);
    }
 catch (    IOException e) {
      if (!closed.get()) {
        e.printStackTrace();
        close();
      }
    }
  }
}
