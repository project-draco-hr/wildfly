{
  executionId=getContext().getHeader().getExecutionId();
  ProtocolUtils.expectHeader(input,NewModelControllerProtocol.PARAM_OPERATION);
  operation.readExternal(input);
  ProtocolUtils.expectHeader(input,NewModelControllerProtocol.PARAM_INPUTSTREAMS_LENGTH);
  attachmentsLength=input.readInt();
  getContext().getChannel().addCloseHandler(new CloseHandler<Channel>(){
    @Override public void handleClose(    Channel closed){
synchronized (activeTransactions) {
        for (        OperationTransaction tx : activeTransactions.values()) {
          tx.rollback();
        }
      }
      activeTransactions.clear();
    }
  }
);
}
