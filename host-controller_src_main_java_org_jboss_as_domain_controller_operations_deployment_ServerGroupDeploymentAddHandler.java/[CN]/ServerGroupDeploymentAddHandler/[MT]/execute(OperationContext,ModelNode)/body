{
  final ModelNode opAddr=operation.get(OP_ADDR);
  PathAddress address=PathAddress.pathAddress(opAddr);
  String name=address.getLastElement().getValue();
  final Resource deploymentResource=context.readResourceFromRoot(PathAddress.pathAddress(PathElement.pathElement(DEPLOYMENT,name)));
  ModelNode deployment=deploymentResource.getModel();
  for (  ModelNode content : deployment.require(CONTENT).asList()) {
    if ((content.hasDefined(CONTENT_HASH.getName()))) {
      CONTENT_HASH.validateOperation(content);
      fileRepository.getDeploymentFiles(CONTENT_HASH.resolveModelAttribute(context,content).asBytes());
    }
  }
  final Resource resource=context.createResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode subModel=resource.getModel();
  for (  AttributeDefinition def : SERVER_GROUP_ADD_ATTRIBUTES) {
    def.validateAndSet(operation,subModel);
  }
  if (!RUNTIME_NAME_NILLABLE.resolveModelAttribute(context,subModel).isDefined()) {
    RUNTIME_NAME_NILLABLE.validateAndSet(deployment,subModel);
  }
  context.completeStep();
}
