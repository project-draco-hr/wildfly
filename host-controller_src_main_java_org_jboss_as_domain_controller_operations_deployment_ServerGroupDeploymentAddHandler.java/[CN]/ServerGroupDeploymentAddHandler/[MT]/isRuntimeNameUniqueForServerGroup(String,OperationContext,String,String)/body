{
  if (serverGroupName != null) {
    PathAddress address=PathAddress.pathAddress(PathAddress.pathAddress(SERVER_GROUP,serverGroupName),PathElement.pathElement(DEPLOYMENT));
    Set<Resource.ResourceEntry> deployments=context.readResourceFromRoot(address).getChildren(DEPLOYMENT);
    for (    Resource.ResourceEntry existingDeployment : deployments) {
      ModelNode existingDeploymentModel=existingDeployment.getModel();
      if (existingDeploymentModel.hasDefined(RUNTIME_NAME.getName()) && !name.equals(existingDeployment.getName())) {
        if (existingDeploymentModel.get(RUNTIME_NAME.getName()).asString().equals(runtimeName)) {
          throw DomainControllerMessages.MESSAGES.runtimeNameMustBeUnique(existingDeployment.getName(),runtimeName,serverGroupName);
        }
      }
    }
  }
}
