{
  try {
    final Unmarshaller unmarshaller=getUnmarshaller();
    unmarshaller.start(createByteInput(input));
    expectHeader(unmarshaller,StandaloneClientProtocol.PARAM_APPLY_UPDATES_RESULT_COUNT);
    byte resultCode=unmarshaller.readByte();
    if (resultCode == (byte)StandaloneClientProtocol.PARAM_APPLY_UPDATE_RESULT_EXCEPTION) {
      final UpdateFailedException failure=unmarshaller.readObject(UpdateFailedException.class);
      return new StandaloneUpdateResult<Object>(null,failure);
    }
 else {
      final Object result=unmarshaller.readObject(Object.class);
      return new StandaloneUpdateResult<Object>(result,null);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("failed read update result from response",e);
  }
}
