{
  String name=context.getCurrentAddressValue();
  String defaultCache=ModelNodes.asString(CacheContainerResourceDefinition.Attribute.DEFAULT_CACHE.getDefinition().resolveModelAttribute(context,model));
  if ((defaultCache != null) && !defaultCache.equals(CacheServiceName.DEFAULT_CACHE)) {
    for (    CacheGroupAliasBuilderProvider provider : ServiceLoader.load(CacheGroupAliasBuilderProvider.class,CacheGroupAliasBuilderProvider.class.getClassLoader())) {
      for (      Builder<?> builder : provider.getBuilders(name,CacheServiceName.DEFAULT_CACHE,defaultCache)) {
        context.removeService(builder.getServiceName());
      }
    }
    context.removeService(new BinderServiceBuilder<>(InfinispanBindingFactory.createCacheBinding(name,CacheServiceName.DEFAULT_CACHE),CacheServiceName.CACHE.getServiceName(name),Cache.class).getServiceName());
    for (    SubGroupServiceNameFactory nameFactory : CacheServiceName.values()) {
      context.removeService(nameFactory.getServiceName(name));
    }
  }
  context.removeService(InfinispanBindingFactory.createCacheContainerBinding(name).getBinderServiceName());
  for (  GroupServiceNameFactory factory : CacheContainerServiceName.values()) {
    context.removeService(factory.getServiceName(name));
  }
}
