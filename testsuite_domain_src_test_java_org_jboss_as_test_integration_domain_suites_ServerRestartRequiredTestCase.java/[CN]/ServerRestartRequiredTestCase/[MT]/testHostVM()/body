{
  final DomainClient client=domainMasterLifecycleUtil.getDomainClient();
  final ModelNode address=new ModelNode();
  address.add(HOST,"slave");
  address.add(JVM,"default");
  final ModelNode operation=new ModelNode();
  operation.get(OP).set(WRITE_ATTRIBUTE_OPERATION);
  operation.get(OP_ADDR).set(address);
  operation.get(NAME).set("heap-size");
  operation.get(VALUE).set("32M");
  executeOperation(operation,client);
  final ModelNode serverOne=new ModelNode();
  serverOne.add(HOST,"master");
  serverOne.add(RUNNING_SERVER,"reload-one");
  final ModelNode resultOne=getServerState(serverOne,client);
  Assert.assertEquals("running",resultOne.asString());
  final ModelNode serverTwo=new ModelNode();
  serverTwo.add(HOST,"slave");
  serverTwo.add(SERVER,"reload-two");
  final ModelNode resultTwo=getServerState(serverTwo,client);
  Assert.assertEquals(RESTART_REQUIRED,resultTwo.asString());
}
