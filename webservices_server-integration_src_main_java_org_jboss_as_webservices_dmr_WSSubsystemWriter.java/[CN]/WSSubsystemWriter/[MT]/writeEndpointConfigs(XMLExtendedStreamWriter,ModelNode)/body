{
  ModelNode endpointConfig=null;
  for (  final String configName : endpointConfigs.keys()) {
    endpointConfig=endpointConfigs.get(configName);
    writer.writeStartElement(Constants.ENDPOINT_CONFIG);
    writer.writeAttribute(Constants.NAME,configName);
    if (endpointConfig.hasDefined(Constants.PRE_HANDLER_CHAIN)) {
      final ModelNode handlerChains=endpointConfig.get(Constants.PRE_HANDLER_CHAIN);
      writeHandlerChains(writer,handlerChains,true);
    }
    if (endpointConfig.hasDefined(Constants.POST_HANDLER_CHAIN)) {
      final ModelNode handlerChains=endpointConfig.get(Constants.POST_HANDLER_CHAIN);
      writeHandlerChains(writer,handlerChains,false);
    }
    if (endpointConfig.hasDefined(Constants.PROPERTY)) {
      final ModelNode properties=endpointConfig.get(PROPERTY);
      writeProperties(writer,properties);
    }
    writer.writeEndElement();
  }
}
