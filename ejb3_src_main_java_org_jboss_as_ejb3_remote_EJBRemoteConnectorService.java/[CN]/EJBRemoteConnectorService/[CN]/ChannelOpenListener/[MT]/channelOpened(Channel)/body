{
  final ChannelAssociation channelAssociation=new ChannelAssociation(channel);
  EjbLogger.ROOT_LOGGER.tracef("Welcome %s to the " + EJB_CHANNEL_NAME + " channel",channel);
  channel.addCloseHandler(new CloseHandler<Channel>(){
    @Override public void handleClose(    Channel closed,    IOException exception){
      EjbLogger.ROOT_LOGGER.tracef("channel %s closed",closed);
    }
  }
);
  try {
    EJBRemoteConnectorService.this.sendVersionMessage(channelAssociation);
  }
 catch (  IOException e) {
    EjbLogger.ROOT_LOGGER.closingChannel(channel,e);
    IoUtils.safeClose(channel);
  }
  channel.receiveMessage(new ClientVersionMessageReceiver(channelAssociation));
}
