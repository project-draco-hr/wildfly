{
  if (instance.getPrimaryKey() == null) {
    return;
  }
  final CacheEntry entry=cache.get(instance.getPrimaryKey());
  if (entry != null) {
    if (instance == entry.replacedInstance) {
      entry.replacedInstance=null;
    }
 else     if (entry.replacedInstance == null) {
      cache.remove(instance.getPrimaryKey());
    }
    component.discardEntityBeanInstance(instance);
  }
}
