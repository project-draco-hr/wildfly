{
  ModelNode blocker=getOperation("block-model","attr2",1);
  client.executeAsync(blocker,null);
  latch.await();
  ModelNode blockee=getOperation("good","attr1",2);
  Future<ModelNode> future=client.executeAsync(blockee,null);
  ModelStageGoodHandler.goodHandlerLatch.await(5,TimeUnit.SECONDS);
  if (cancelViaResource) {
    testCancelViaMmgtOpResource("good",OperationContext.ExecutionStatus.AWAITING_OTHER_OPERATION,future,true);
  }
 else {
    assertTrue(future.cancel(true));
  }
  releaseBlockingThreads();
  ModelNode result=controller.execute(getOperation("good","attr1",1),null,null,null);
  assertEquals(SUCCESS,result.get(OUTCOME).asString());
  assertEquals(1,result.get(RESULT).asInt());
}
