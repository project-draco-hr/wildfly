{
  Iterator<Interceptor> preDestroyInterceptors=instance.getPreDestroyInterceptors().iterator();
  if (preDestroyInterceptors.hasNext() || (preDestroyMethods != null && !preDestroyMethods.isEmpty())) {
    final ClassLoader contextCl=getContextClassLoader();
    setContextClassLoader(componentClass.getClassLoader());
    try {
      while (preDestroyInterceptors.hasNext()) {
        try {
          final Interceptor interceptor=preDestroyInterceptors.next();
          final InterceptorContext context=new InterceptorContext();
          context.setTarget(instance);
          context.setContextData(new HashMap<String,Object>());
          context.setParameters(EMPTY_OBJECT_ARRAY);
          interceptor.processInvocation(context);
        }
 catch (        Throwable t) {
          throw new RuntimeException("Failed to invoke post construct method for class " + getComponentClass(),t);
        }
      }
      for (      ComponentLifecycle preDestroyMethod : preDestroyMethods) {
        try {
          preDestroyMethod.invoke(instance);
        }
 catch (        Throwable t) {
          throw new RuntimeException("Failed to invoke pre destroy method for class " + getComponentClass(),t);
        }
      }
    }
  finally {
      setContextClassLoader(contextCl);
    }
  }
}
