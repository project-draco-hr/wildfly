{
  ServiceArchiveHolder archiveHolder=archiveHolderInst.get();
  if (archiveHolder != null && serviceArchiveDeployed.get() == true) {
    try {
      Archive<?> archive=archiveHolder.getArchive();
      log.infof("Undeploy arquillian service: %s",archive);
      DeployableContainer<?> deployableContainer=containerInst.get().getDeployableContainer();
      deployableContainer.undeploy(archive);
      serviceArchiveDeployed.set(false);
    }
 catch (    Throwable th) {
      log.error("Cannot undeploy arquillian service",th);
    }
  }
}
