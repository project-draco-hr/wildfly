{
  try {
    final ModelNode operation=new ModelNode();
    operation.get(OP).set(READ_CHILDREN_NAMES_OPERATION);
    operation.get(CHILD_TYPE).set(DEPLOYMENT);
    ModelNode result=getModelControllerClient().execute(OperationBuilder.Factory.create(operation).build());
    if (FAILED.equals(result.get(OUTCOME).asString()))     throw new IllegalStateException("Management request failed: " + result);
    boolean serviceFound=false;
    List<ModelNode> nodeList=result.get(RESULT).asList();
    for (    ModelNode node : nodeList) {
      if (node.asString().equals(archive.getName())) {
        log.infof("Found already deployed arquillian service: %s",node);
        serviceFound=true;
        break;
      }
    }
    return serviceFound;
  }
 catch (  Exception ex) {
    log.errorf(ex,"Cannot determine whether arquillian service is deployed");
    return false;
  }
}
