{
  final InterceptorContext invocation=CurrentInvocationContext.get();
  final boolean lifecycleCallback=invocation.getMethod() == null;
  if (lifecycleCallback) {
    throw new IllegalStateException("getCallerPrincipal is not allowed in lifecycle methods of stateless session beans");
  }
  return super.getCallerPrincipal();
}
