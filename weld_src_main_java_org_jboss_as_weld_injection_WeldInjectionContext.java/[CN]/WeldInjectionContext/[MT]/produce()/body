{
  if (delegateProduce && bean instanceof ManagedBean) {
    final Object instance=((ManagedBean)bean).getInjectionTarget().produce(context);
    return new WeldManagedReference(context,instance);
  }
 else {
    final Object instance=injectionTarget.produce(context);
    return new WeldManagedReference(context,instance);
  }
}
