{
  this.testClass=testClass;
  this.sharedClientConfig=DomainControllerClientConfig.create();
  masterConfiguration=getMasterConfiguration(domainConfig,masterConfig,testClass,masterParams,readOnlyDomainConfig,readOnlyMasterHostConfig);
  domainMasterLifecycleUtil=new DomainLifecycleUtil(masterConfiguration,sharedClientConfig);
  if (slaveConfig != null) {
    slaveConfiguration=getSlaveConfiguration(slaveConfig,testClass,slaveParams,readOnlySlaveHostConfig);
    domainSlaveLifecycleUtil=new DomainLifecycleUtil(slaveConfiguration,sharedClientConfig);
  }
 else {
    slaveConfiguration=null;
    domainSlaveLifecycleUtil=null;
  }
}
