{
  ServiceController<?> controller=context.getController();
  ROOT_LOGGER.debugf("Starting: %s in mode %s",controller.getName(),controller.getMode());
  ROOT_LOGGER.registerModule(module);
  try {
    ServiceTarget serviceTarget=context.getChildTarget();
    BundleManagerService bundleManager=injectedBundleManager.getValue();
    installedBundleName=bundleManager.registerModule(serviceTarget,module,metadata);
  }
 catch (  Throwable t) {
    throw new StartException(MESSAGES.failedToRegisterModule(module),t);
  }
}
