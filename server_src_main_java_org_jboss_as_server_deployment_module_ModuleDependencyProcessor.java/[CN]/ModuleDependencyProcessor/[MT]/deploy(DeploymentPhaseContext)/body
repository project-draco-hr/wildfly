{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
  moduleSpecification.addUserDependencies(deploymentUnit.getAttachmentList(Attachments.MANIFEST_DEPENDENCIES));
  if (deploymentUnit.getParent() != null) {
    final List<ModuleDependency> parentDependencies=deploymentUnit.getParent().getAttachmentList(Attachments.MANIFEST_DEPENDENCIES);
    moduleSpecification.addUserDependencies(parentDependencies);
  }
}
