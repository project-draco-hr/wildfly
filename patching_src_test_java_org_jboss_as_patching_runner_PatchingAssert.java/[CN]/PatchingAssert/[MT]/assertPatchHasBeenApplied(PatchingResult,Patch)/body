{
  if (UPGRADE == patch.getIdentity().getPatchType()) {
    assertEquals(patch.getPatchId(),result.getPatchInfo().getReleasePatchID());
    assertEquals(patch.getIdentity().forType(UPGRADE,org.jboss.as.patching.metadata.Identity.IdentityUpgrade.class).getResultingVersion(),result.getPatchInfo().getVersion());
  }
 else {
    assertTrue(result.getPatchInfo().getPatchIDs().contains(patch.getPatchId()));
    assertEquals(patch.getPatchId(),result.getPatchInfo().getPatchIDs().get(0));
  }
}
