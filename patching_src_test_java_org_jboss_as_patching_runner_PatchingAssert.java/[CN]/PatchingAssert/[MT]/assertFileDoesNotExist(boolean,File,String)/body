{
  if (segments.length == 0) {
    assertFalse(rootFile + " exists",rootFile.exists());
    assertEquals(rootFile + " is " + (isDir ? "not" : "")+ " a directory",isDir,rootFile.isDirectory());
    return;
  }
  File f=rootFile;
  for (int i=0; i < segments.length - 1; i++) {
    String segment=segments[i];
    f=new File(f,segment);
    assertTrue(f + " does not exist",f.exists());
  }
  f=new File(f,segments[segments.length - 1]);
  assertEquals(f + " is " + (isDir ? "not" : "")+ " a directory",isDir,f.isDirectory());
}
