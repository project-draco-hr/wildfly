{
  if (this.isLifecycleCallbackInvocation() && !this.isSingletonBeanInvocation()) {
    throw new IllegalStateException("Creation of timers is not allowed during lifecycle callback of non-singleton EJBs");
  }
  if (schedule == null) {
    throw new IllegalArgumentException("schedule is null");
  }
  CalendarBasedTimeout calendarTimeout=new CalendarBasedTimeout(schedule);
  UUID uuid=UUID.randomUUID();
  TimerImpl timer=new CalendarTimer(uuid.toString(),this,calendarTimeout,info,persistent,timeoutMethod);
  if (persistent) {
    this.persistTimer(timer);
  }
  this.startTimer(timer);
  this.addTimer(timer);
  return timer;
}
