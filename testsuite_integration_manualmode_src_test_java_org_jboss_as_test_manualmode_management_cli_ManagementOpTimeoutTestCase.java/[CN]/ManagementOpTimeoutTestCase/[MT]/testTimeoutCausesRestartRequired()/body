{
  cli.sendLine("/extension=org.wildfly.extension.blocker-test:add");
  CLIOpResult result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  cli.sendLine("/subsystem=blocker-test:add");
  result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  final CountDownLatch latch=new CountDownLatch(1);
  final Throwable[] holder=new Throwable[1];
  Runnable r=new Runnable(){
    @Override public void run(){
      block(latch,holder);
    }
  }
;
  Thread t=new Thread(r);
  t.setDaemon(true);
  t.start();
  assertTrue(latch.await(20,TimeUnit.SECONDS));
  assertNull(holder[0]);
}
