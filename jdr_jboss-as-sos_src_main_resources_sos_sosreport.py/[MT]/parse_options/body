def parse_options(opts):
    ' Parse command line options '
    parser = OptionParserExtended(option_class=SosOption)
    parser.add_option('-l', '--list-plugins', action='store_true', dest='listPlugins', default=False, help='list plugins and available plugin options')
    parser.add_option('-n', '--skip-plugins', action='extend', dest='noplugins', type='string', help='skip these plugins', default=deque())
    parser.add_option('-e', '--enable-plugins', action='extend', dest='enableplugins', type='string', help='enable these plugins', default=deque())
    parser.add_option('-o', '--only-plugins', action='extend', dest='onlyplugins', type='string', help='enable these plugins only', default=deque())
    parser.add_option('-k', action='append', dest='plugopts', type='string', help='plugin options in plugname.option=value format (see -l)')
    parser.add_option('-a', '--alloptions', action='store_true', dest='usealloptions', default=False, help='enable all options for loaded plugins')
    parser.add_option('-u', '--upload', action='store', dest='upload', default=False, help='upload the report to an ftp server')
    parser.add_option('--batch', action='store_true', dest='batch', default=False, help='do not ask any question (batch mode)')
    parser.add_option('--no-colors', action='store_true', dest='nocolors', default=False, help='do not use terminal colors for text')
    parser.add_option('-v', '--verbose', action='count', dest='verbosity', help='increase verbosity')
    parser.add_option('', '--silent', action='store_true', dest='silent', default=False, help='Only display FATAL errors on stdout')
    parser.add_option('--debug', action='count', dest='debug', help='enabling debugging through python debugger')
    parser.add_option('--ticket-number', action='store', dest='ticketNumber', help='set ticket number')
    parser.add_option('--name', action='store', dest='customerName', help='define customer name')
    parser.add_option('--config-file', action='store', dest='config_file', help='specify alternate configuration file')
    parser.add_option('--tmp-dir', action='store', dest='tmp_dir', help='specify alternate temporary directory', default=tempfile.gettempdir())
    parser.add_option('--diagnose', action='store_true', dest='diagnose', help='enable diagnostics', default=False)
    parser.add_option('--analyze', action='store_true', dest='analyze', help='enable analyzations', default=False)
    parser.add_option('--report', action='store_true', dest='report', help='Enable html/xml reporting', default=False)
    parser.add_option('--profile', action='store_true', dest='profiler', help='turn on profiling', default=False)
    parser.add_option('-z', '--compression-type', dest='compression_type', help='compression technology to use [auto, zip, gzip, bzip2, xz] (default=auto)', default='auto')
    return parser.parse_args(opts)
