def main(args):
    'The main entry point'
    try:
        sos = SoSReport(args)
        if sos.opts.listPlugins:
            sos.list_plugins()
        sos.ensure_plugins()
        sos.batch()
        if sos.opts.diagnose:
            sos.diagnose()
        sos.prework()
        sos.setup()
        sos.ui_log.info(_(' Running plugins. Please wait ...'))
        sos.ui_log.info('')
        sos.copy_stuff()
        sos.ui_log.info('')
        if sos.opts.report:
            sos.report()
            sos.html_report()
            sos.plain_report()
        sos.postproc()
        sos.version()
        return sos.final_work()
    except SystemExit:
        return None
