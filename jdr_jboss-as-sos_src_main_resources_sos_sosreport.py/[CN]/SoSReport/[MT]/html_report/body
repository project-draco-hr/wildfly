def html_report(self):
    rfd = self.get_temp_file()
    rfd.write('\n        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n        <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">\n            <head>\n        <link rel="stylesheet" type="text/css" media="screen" href="donot.css" />\n        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n        <title>Sos System Report</title>\n            </head>\n\n            <body>\n        ')
    allAlerts = deque()
    plugNames = deque()
    for (plugname, plug) in self.loaded_plugins:
        for alert in plug.alerts:
            allAlerts.append(('<a href="#%s">%s</a>: %s' % (plugname, plugname, alert)))
        plugNames.append(plugname)
    rfd.write('<hr/><h3>Loaded Plugins:</h3>')
    rfd.write('<table><tr>\n')
    rr = 0
    for i in range(len(plugNames)):
        rfd.write(('<td><a href="#%s">%s</a></td>\n' % (plugNames[i], plugNames[i])))
        rr = divmod(i, 4)[1]
        if (rr == 3):
            rfd.write('</tr>')
    if (not (rr == 3)):
        rfd.write('</tr>')
    rfd.write('</table>\n')
    rfd.write('<hr/><h3>Alerts:</h3>')
    rfd.write('<ul>')
    for alert in allAlerts:
        rfd.write(('<li>%s</li>' % alert))
    rfd.write('</ul>')
    for (plugname, plug) in self.loaded_plugins:
        try:
            html = plug.report()
        except:
            if self.raise_plugins:
                raise
        else:
            rfd.write(html)
    rfd.write('</body></html>')
    rfd.flush()
    self.archive.add_file(rfd.name, dest=os.path.join('sos_reports', 'sos.html'))
