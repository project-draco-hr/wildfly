def _set_archive(self):
    if (self.opts.compression_type not in ('auto', 'zip', 'bzip2', 'gzip', 'xz')):
        raise Exception('Invalid compression type specified. Options are: auto, zip, bzip2, gzip and xz')
    archive_name = os.path.join(self.opts.tmp_dir, self.policy.getArchiveName())
    if (self.opts.compression_type == 'auto'):
        auto_archive = self.policy.preferedArchive()
        self.archive = auto_archive(archive_name)
    elif (self.opts.compression_type == 'zip'):
        self.archive = ZipFileArchive(archive_name)
    else:
        self.archive = TarFileArchive(archive_name)
