@staticmethod
def _exception(etype, eval_, etrace):
    ' Wrap exception in debugger if not in tty '
    if (hasattr(sys, 'ps1') or (not sys.stderr.isatty())):
        sys.__excepthook__(etype, eval_, etrace)
    else:
        import traceback, pdb
        traceback.print_exception(etype, eval_, etrace, limit=2, file=sys.stdout)
        print 
        pdb.pm()
