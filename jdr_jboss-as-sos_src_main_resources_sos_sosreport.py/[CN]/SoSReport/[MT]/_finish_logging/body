def _finish_logging(self):
    logging.shutdown()
    for logger in [logging.getLogger(x) for x in ('sos', 'sosprofile', 'sos.ui')]:
        for h in logger.handlers:
            logger.removeHandler(h)
    if getattr(self, 'sos_log_file', None):
        self.archive.add_file(self.sos_log_file.name, dest=os.path.join('sos_logs', 'sos.log'))
    if getattr(self, 'sos_profile_log_file', None):
        self.archive.add_file(self.sos_profile_log_file.name, dest=os.path.join('sos_logs', 'profile.log'))
    if getattr(self, 'sos_ui_log_file', None):
        self.archive.add_file(self.sos_ui_log_file.name, dest=os.path.join('sos_logs', 'ui.log'))
