def __init__(self, opts):
    self.loaded_plugins = deque()
    self.skipped_plugins = deque()
    self.all_options = deque()
    self.xml_report = XmlReport()
    try:
        import signal
        signal.signal(signal.SIGTERM, self.get_exit_handler())
    except Exception:
        pass
    (self.opts, self.args) = parse_options(opts)
    self.tempfile_util = TempFileUtil(tmp_dir=self.opts.tmp_dir)
    self._set_debug()
    self._read_config()
    self.policy = sos.policies.load()
    self._is_root = self.policy.is_root()
    self._set_directories()
    self._setup_logging()
    self.policy.setCommons(self.get_commons())
    self.print_header()
    self.load_plugins()
    self._set_tunables()
    self._check_for_unknown_plugins()
    self._set_plugin_options()
