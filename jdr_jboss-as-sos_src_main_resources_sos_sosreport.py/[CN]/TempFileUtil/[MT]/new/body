def new(self):
    (fd, fname) = tempfile.mkstemp(dir=self.tmp_dir)
    fobj = open(fname, 'w')
    self.files.append((fname, fobj))
    return fobj
