def add_command(self, cmdline, exitcode, stdout=None, stderr=None, f_stdout=None, f_stderr=None, runtime=None):
    ' Appends command run into report '
    if (not self.enabled):
        return
    cmd = self.commands.newChild(None, 'cmd', None)
    cmd.setNsProp(None, 'cmdline', cmdline)
    cmdchild = cmd.newChild(None, 'exitcode', str(exitcode))
    if runtime:
        cmd.newChild(None, 'runtime', str(runtime))
    if (stdout or f_stdout):
        cmdchild = cmd.newChild(None, 'stdout', stdout)
        if f_stdout:
            cmdchild.setNsProp(None, 'file', f_stdout)
    if (stderr or f_stderr):
        cmdchild = cmd.newChild(None, 'stderr', stderr)
        if f_stderr:
            cmdchild.setNsProp(None, 'file', f_stderr)
