{
  boolean result=true;
  String provider=pu.getPersistenceProviderClassName();
  if (pu.getProperties().containsKey(Configuration.JPA_CONTAINER_CLASS_TRANSFORMER)) {
    result=Boolean.parseBoolean(pu.getProperties().getProperty(Configuration.JPA_CONTAINER_CLASS_TRANSFORMER));
  }
 else   if (provider == null || provider.equals(Configuration.PROVIDER_CLASS_HIBERNATE)) {
    String useHibernateClassEnhancer=pu.getProperties().getProperty("hibernate.ejb.use_class_enhancer");
    result="true".equals(useHibernateClassEnhancer);
  }
  return result;
}
