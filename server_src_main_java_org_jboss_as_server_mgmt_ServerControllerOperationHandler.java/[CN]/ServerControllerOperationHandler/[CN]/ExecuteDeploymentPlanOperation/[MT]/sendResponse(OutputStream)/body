{
  ServerDeploymentPlanResult result=null;
  try {
    result=deploymentManager.execute(deploymentPlan).get();
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw new ManagementException("Failed get deployment plan result.",e);
  }
catch (  ExecutionException e) {
    throw new ManagementException("Failed get deployment plan result.",e);
  }
  final Marshaller marshaller=getMarshaller();
  marshaller.start(createByteOutput(output));
  try {
    marshaller.writeByte(StandaloneClientProtocol.PARAM_DEPLOYMENT_PLAN_RESULT);
    marshaller.writeObject(result);
    marshaller.finish();
  }
  finally {
    safeFinish(marshaller);
  }
}
