{
  SSOManagerFactory factory=this.ssoManagerFactory.getOptionalValue();
  final SingleSignOn ssoValve=(factory != null) ? new SingleSignOnFacade(factory.createSSOManager(new LocalSSOContextFactory())) : new SingleSignOn();
  if (element.hasDefined(Constants.DOMAIN))   ssoValve.setCookieDomain(element.get(Constants.DOMAIN).asString());
  if (element.hasDefined(Constants.REAUTHENTICATE))   ssoValve.setRequireReauthentication(element.get(Constants.REAUTHENTICATE).asBoolean());
  return ssoValve;
}
