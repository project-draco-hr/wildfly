{
  try {
    final ServiceContainer container=context.getController().getServiceContainer();
    AS7Deployer deployer=new AS7Deployer(jndiStrategy.getValue(),module.getClassLoader(),log,container);
    deployer.setTransactionManager(getTransactionManager());
    deployer.setMetadataRepository(mdr.getValue());
    CommonDeployment deployment=deployer.doDeploy(new URL("file://DataSourceDeployment"),deploymentName,uniqueJdbcLocalId,uniqueJdbcXAId,datasources,module.getClassLoader());
  }
 catch (  Throwable t) {
    throw new StartException("Failed to deploy dataSource",t);
  }
}
