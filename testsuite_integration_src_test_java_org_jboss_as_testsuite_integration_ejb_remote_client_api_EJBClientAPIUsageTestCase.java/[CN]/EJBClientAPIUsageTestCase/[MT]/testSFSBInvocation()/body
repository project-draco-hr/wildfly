{
  final Counter counter=EJBClient.getProxy(APP_NAME,MODULE_NAME,null,CounterBean.class.getSimpleName(),Counter.class);
  Assert.assertNotNull("Received a null proxy",counter);
  EJBClient.createSession(counter);
  final int initialCount=counter.getCount();
  Assert.assertEquals("Unexpected initial count from stateful bean",0,initialCount);
  final int NUM_TIMES=25;
  for (int i=1; i <= NUM_TIMES; i++) {
    final int count=counter.incrementAndGetCount();
    Assert.assertEquals("Unexpected count after increment",i,count);
  }
  final int finalCount=counter.getCount();
  Assert.assertEquals("Unexpected final count",NUM_TIMES,finalCount);
}
