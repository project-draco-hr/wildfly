{
  ModelNode op=createOperation(READ_RESOURCE_OPERATION);
  op.get(RECURSIVE).set(true);
  if (includeRuntime) {
    op.get(INCLUDE_RUNTIME).set(true);
  }
  if (includeAlias) {
    op.get(INCLUDE_ALIASES).set(true);
  }
  ModelNode result=executeForResult(op);
  Assert.assertEquals(includeAlias ? 2 : 1,result.keys().size());
  Assert.assertTrue(result.keys().contains(CORE));
  checkResource(includeAlias,result.get(CORE,MODEL),ro,rw,rt,childRw);
  if (includeAlias) {
    Assert.assertTrue(result.keys().contains(ALIASED));
    checkResource(includeAlias,result.get(ALIASED,MODEL),ro,rw,rt,childRw);
  }
 else {
    Assert.assertFalse(result.get(ALIASED,MODEL).isDefined());
  }
}
