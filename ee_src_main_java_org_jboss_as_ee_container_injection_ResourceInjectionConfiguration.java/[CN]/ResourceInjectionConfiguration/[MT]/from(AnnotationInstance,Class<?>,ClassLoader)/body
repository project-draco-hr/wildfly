{
  final AnnotationTarget annotationTarget=annotation.target();
  final ResourceInjectionConfiguration resourceConfiguration;
  if (annotationTarget instanceof FieldInfo) {
    resourceConfiguration=processFieldResource(FieldInfo.class.cast(annotationTarget),beanClass);
  }
 else   if (annotationTarget instanceof MethodInfo) {
    resourceConfiguration=processMethodResource(MethodInfo.class.cast(annotationTarget),beanClass,beanClassLoader);
  }
 else   if (annotationTarget instanceof ClassInfo) {
    final Resource resource=beanClass.getAnnotation(Resource.class);
    if (resource == null) {
      throw new IllegalArgumentException("Failed to get @Resource annotation from class " + beanClass.getName());
    }
    resourceConfiguration=processClassResource(beanClass,resource);
  }
 else {
    resourceConfiguration=null;
  }
  return resourceConfiguration;
}
