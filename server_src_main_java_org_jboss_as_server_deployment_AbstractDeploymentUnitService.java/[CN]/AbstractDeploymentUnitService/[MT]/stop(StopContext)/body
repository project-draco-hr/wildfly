{
  final String deploymentName=context.getController().getName().getSimpleName();
  log.infof("Stopping deployment \"%s\"",deploymentName);
  final ServiceName serviceName=deploymentUnit.getServiceName().append(FIRST_PHASE_NAME);
  final ServiceController<?> controller=context.getController().getServiceContainer().getService(serviceName);
  if (controller != null) {
    controller.setMode(ServiceController.Mode.REMOVE);
    final MultipleRemoveListener<LifecycleContext> listener=MultipleRemoveListener.create(context);
    context.asynchronous();
    controller.addListener(listener);
    listener.done();
  }
}
