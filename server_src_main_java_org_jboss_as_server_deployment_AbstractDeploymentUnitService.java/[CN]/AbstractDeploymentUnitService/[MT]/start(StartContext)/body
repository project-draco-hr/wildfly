{
  ServiceTarget target=context.getChildTarget();
  final String deploymentName=context.getController().getName().getSimpleName();
  monitor=new StabilityMonitor();
  monitor.addController(context.getController());
  deploymentUnit=createAndInitializeDeploymentUnit(context.getController().getServiceContainer());
  final String managementName=deploymentUnit.getAttachment(Attachments.MANAGEMENT_NAME);
  if (deploymentUnit.getParent() == null) {
    ServerLogger.DEPLOYMENT_LOGGER.startingDeployment(managementName,deploymentName);
  }
 else {
    ServerLogger.DEPLOYMENT_LOGGER.startingSubDeployment(deploymentName);
  }
  final ServiceName serviceName=deploymentUnit.getServiceName().append(FIRST_PHASE_NAME);
  final Phase firstPhase=Phase.values()[0];
  final DeploymentUnitPhaseService<?> phaseService=DeploymentUnitPhaseService.create(deploymentUnit,firstPhase);
  final ServiceBuilder<?> phaseServiceBuilder=target.addService(serviceName,phaseService);
  phaseServiceBuilder.addDependency(Services.JBOSS_DEPLOYMENT_CHAINS,DeployerChains.class,phaseService.getDeployerChainsInjector());
  phaseServiceBuilder.install();
}
