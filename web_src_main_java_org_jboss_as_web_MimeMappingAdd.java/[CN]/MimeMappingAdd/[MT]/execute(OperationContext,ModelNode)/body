{
  if (context.getType() == OperationContext.Type.SERVER || context.getType() == OperationContext.Type.HOST) {
    final ModelNode mimetypes=context.readResourceForUpdate(PathAddress.EMPTY_ADDRESS).getModel().get(MIME_MAPPING);
    if (operation.hasDefined("name") && operation.hasDefined("value")) {
      mimetypes.get(operation.get("name").asString()).set(operation.get("value").asString());
    }
 else     throw new OperationFailedException(new ModelNode().set(MESSAGES.nameAndValueRequiredForAddMimeMapping()));
  }
  context.completeStep();
}
