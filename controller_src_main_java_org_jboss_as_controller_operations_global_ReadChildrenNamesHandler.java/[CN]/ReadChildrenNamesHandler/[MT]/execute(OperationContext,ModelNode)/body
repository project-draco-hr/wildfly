{
  validator.validate(operation);
  final PathAddress address=PathAddress.pathAddress(operation.get(OP_ADDR));
  final String childType=operation.require(GlobalOperationHandlers.CHILD_TYPE.getName()).asString();
  final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS,false);
  ImmutableManagementResourceRegistration registry=context.getResourceRegistration();
  Map<String,Set<String>> childAddresses=GlobalOperationHandlers.getChildAddresses(context,address,registry,resource,childType);
  Set<String> childNames=childAddresses.get(childType);
  if (childNames == null) {
    throw new OperationFailedException(new ModelNode().set(MESSAGES.unknownChildType(childType)));
  }
  childNames=new TreeSet<String>(childNames);
  ModelNode result=context.getResult();
  result.setEmptyList();
  for (  String childName : childNames) {
    result.add(childName);
  }
  context.stepCompleted();
}
