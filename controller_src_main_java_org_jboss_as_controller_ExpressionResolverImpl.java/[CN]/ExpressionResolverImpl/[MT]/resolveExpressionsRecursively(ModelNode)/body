{
  if (!node.isDefined()) {
    return node;
  }
  ModelNode resolved=node.clone();
  if (resolved.getType() == ModelType.EXPRESSION) {
    resolvePluggableExpression(resolved);
  }
 else   if (resolved.getType() == ModelType.OBJECT) {
    for (    Property prop : resolved.asPropertyList()) {
      resolveExpressionsRecursively(prop.getValue());
    }
  }
 else   if (resolved.getType() == ModelType.LIST) {
    for (    ModelNode current : resolved.asList()) {
      resolveExpressionsRecursively(current);
    }
  }
 else   if (resolved.getType() == ModelType.PROPERTY) {
    resolveExpressionsRecursively(resolved.asProperty().getValue());
  }
  return resolved;
}
