{
  ClusteredSession<O> session=cast(s);
synchronized (session) {
    String realId=session.getRealId();
    if (realId == null)     return;
    log.tracef("Removing session from store with id: %s",realId);
    try {
      session.removeMyself();
    }
  finally {
      SessionReplicationContext.sessionExpired(session,realId,snapshotManager);
      SessionInvalidationTracker.sessionInvalidated(realId,this);
      sessions.remove(realId);
      this.getReplicationStatistics().removeStats(realId);
      int timeAlive=(int)((System.currentTimeMillis() - session.getCreationTimeInternal()) / 1000);
      sessionExpired(timeAlive);
    }
  }
}
