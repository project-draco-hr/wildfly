{
  try {
    boolean inLockingValve=SessionReplicationContext.isLocallyActive();
    if (inLockingValve || this.valveLock.tryLock(0,TimeUnit.SECONDS)) {
      try {
        log.trace("Creating an empty ClusteredSession");
        return createEmptyClusteredSession();
      }
  finally {
        if (!inLockingValve) {
          this.valveLock.unlock();
        }
      }
    }
 else {
      log.trace("createEmptySession(): Manager is not handling requests; returning null");
    }
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
  return null;
}
