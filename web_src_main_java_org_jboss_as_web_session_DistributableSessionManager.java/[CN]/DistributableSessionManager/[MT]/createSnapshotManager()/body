{
  String ctxPath=((Context)this.container).getPath();
switch (this.getSnapshotMode()) {
case INTERVAL:
{
      int interval=this.getSnapshotInterval();
      if (interval > 0) {
        return new IntervalSnapshotManager(this,ctxPath,interval);
      }
      WebLogger.WEB_SESSION_LOGGER.invalidSnapshotInterval();
    }
case INSTANT:
{
    return new InstantSnapshotManager(this,ctxPath);
  }
default :
{
  throw MESSAGES.invalidSnapshotMode();
}
}
}
