{
  if ((mBeanName == null) || (mBeanInstance == null) || (target == null)) {
    throw new IllegalArgumentException("Parameters must not be null");
  }
  final Method createMethod=ReflectionUtils.getMethod(mBeanClassHierarchy,CREATE_METHOD_NAME,NO_ARGS,false);
  final Method destroyMethod=ReflectionUtils.getMethod(mBeanClassHierarchy,DESTROY_METHOD_NAME,NO_ARGS,false);
  createDestroyService=new CreateDestroyService(mBeanInstance,createMethod,destroyMethod);
  createDestroyServiceName=ServiceNameFactory.newCreateDestroy(mBeanName);
  createDestroyServiceBuilder=target.addService(createDestroyServiceName,createDestroyService);
  final Method startMethod=ReflectionUtils.getMethod(mBeanClassHierarchy,START_METHOD_NAME,NO_ARGS,false);
  final Method stopMethod=ReflectionUtils.getMethod(mBeanClassHierarchy,STOP_METHOD_NAME,NO_ARGS,false);
  startStopService=new StartStopService(mBeanInstance,startMethod,stopMethod);
  startStopServiceName=ServiceNameFactory.newStartStop(mBeanName);
  startStopServiceBuilder=target.addService(startStopServiceName,startStopService);
  startStopServiceBuilder.addDependency(createDestroyServiceName);
  this.mBeanName=mBeanName;
  this.target=target;
}
