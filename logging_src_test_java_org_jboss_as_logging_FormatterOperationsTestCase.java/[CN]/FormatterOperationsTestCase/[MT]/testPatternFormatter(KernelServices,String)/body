{
  final ModelNode address=createPatternFormatterAddress(profileName,"PATTERN").toModelNode();
  final ModelNode addOp=SubsystemOperations.createAddOperation(address);
  executeOperation(kernelServices,addOp);
  testWrite(kernelServices,address,PatternFormatterResourceDefinition.PATTERN,"[test] %d{HH:mm:ss,SSS} %-5p [%c] %s%E%n");
  testWrite(kernelServices,address,PatternFormatterResourceDefinition.COLOR_MAP,"info:blue,warn:yellow,error:red,debug:cyan");
  testUndefine(kernelServices,address,PatternFormatterResourceDefinition.PATTERN);
  testUndefine(kernelServices,address,PatternFormatterResourceDefinition.COLOR_MAP);
  executeOperation(kernelServices,SubsystemOperations.createRemoveOperation(address));
  verifyRemoved(kernelServices,address);
}
