{
  checkAlreadyConnected();
  try {
    ctx=CommandContextFactory.getInstance().newCommandContext(protocol,controllerHost,controllerPort,username,password);
    ctx.connectController();
  }
 catch (  CliInitializationException e) {
    throw new IllegalStateException("Unable to initialize command context.",e);
  }
catch (  CommandLineException e) {
    throw new IllegalStateException("Unable to connect to controller.",e);
  }
}
