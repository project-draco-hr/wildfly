{
  long wait=0;
synchronized (this) {
    if (stopped || start)     return;
    wait=respawnPolicy.getTimeOutMs(++respawnCount);
    if (wait < 0) {
      System.err.println(processName + " has crashed " + respawnCount+ " times, stopping it");
      try {
        stop();
      }
 catch (      IOException e) {
        log.warn("Error stopping crashed " + processName,e);
      }
      return;
    }
  }
  try {
    TimeUnit.MILLISECONDS.sleep(wait);
  }
 catch (  InterruptedException e) {
    log.info("Error waiting  " + wait + "ms to respawn crashed "+ processName,e);
  }
synchronized (this) {
    if (stopped || start)     return;
  }
  try {
    start(true);
  }
 catch (  IOException e) {
    log.warn("Error respawning " + processName,e);
  }
}
