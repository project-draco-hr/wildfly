{
  int exitCode=0;
  InputStream processStdout=new BufferedInputStream(process.getInputStream());
  try {
    while (processStdout.read() != -1) {
    }
  }
 catch (  IOException e) {
  }
 finally {
    safeClose(processStdout);
  }
  for (; ; ) {
    try {
      exitCode=process.waitFor();
      managed.processEnded(exitCode);
      break;
    }
 catch (    InterruptedException e) {
    }
  }
}
