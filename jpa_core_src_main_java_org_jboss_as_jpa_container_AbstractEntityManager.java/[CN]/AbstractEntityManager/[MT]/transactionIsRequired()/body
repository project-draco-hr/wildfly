{
  if (!this.isExtendedPersistenceContext() && !this.isInTx()) {
    throw new TransactionRequiredException("Transaction is required to perform this operation (either use a transaction or extended persistence context)");
  }
}
