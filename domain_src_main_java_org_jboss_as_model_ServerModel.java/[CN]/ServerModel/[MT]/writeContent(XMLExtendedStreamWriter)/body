{
  writeNamespaces(streamWriter);
  streamWriter.writeStartElement(Element.NAME.getLocalName());
  streamWriter.writeCharacters(serverName);
  streamWriter.writeEndElement();
  if (!extensions.isEmpty()) {
    streamWriter.writeStartElement(Element.EXTENSIONS.getLocalName());
    for (    String extension : extensions) {
      streamWriter.writeEmptyElement(Element.EXTENSION.getLocalName());
      streamWriter.writeAttribute(Attribute.MODULE.getLocalName(),extension);
    }
    streamWriter.writeEndElement();
  }
synchronized (paths) {
    if (!paths.isEmpty()) {
      streamWriter.writeStartElement(Element.PATHS.getLocalName());
      for (      final PathElement path : paths.values()) {
        streamWriter.writeStartElement(Element.PATH.getLocalName());
        path.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
synchronized (managementElement) {
    if (managementElement != null) {
      streamWriter.writeStartElement(Element.MANAGEMENT.getLocalName());
      managementElement.writeContent(streamWriter);
    }
  }
  streamWriter.writeStartElement(Element.PROFILE.getLocalName());
  profile.writeContent(streamWriter);
synchronized (interfaces) {
    if (!interfaces.isEmpty()) {
      streamWriter.writeStartElement(Element.INTERFACES.getLocalName());
      for (      InterfaceElement element : interfaces.values()) {
        streamWriter.writeStartElement(Element.INTERFACE.getLocalName());
        element.writeContent(streamWriter);
      }
      streamWriter.writeEndElement();
    }
  }
  if (socketBindings != null) {
    streamWriter.writeStartElement(Element.SOCKET_BINDING_GROUP.getLocalName());
    socketBindings.writeContent(streamWriter);
  }
  if (systemProperties != null && systemProperties.size() > 0) {
    streamWriter.writeStartElement(Element.SYSTEM_PROPERTIES.getLocalName());
    systemProperties.writeContent(streamWriter);
  }
  if (!repositories.isEmpty()) {
    for (    DeploymentRepositoryElement element : repositories.values()) {
      streamWriter.writeStartElement(Element.DEPLOYMENT_REPOSITORY.getLocalName());
      element.writeContent(streamWriter);
    }
  }
  if (!deployments.isEmpty()) {
    streamWriter.writeStartElement(Element.DEPLOYMENTS.getLocalName());
    for (    ServerGroupDeploymentElement element : deployments.values()) {
      streamWriter.writeStartElement(Element.DEPLOYMENT.getLocalName());
      element.writeContent(streamWriter);
    }
    streamWriter.writeEndElement();
  }
  streamWriter.writeEndElement();
}
