{
  ModelNode hostFailureResults=null;
  for (  Map.Entry<String,ModelNode> entry : domainOperationContext.getHostControllerResults().entrySet()) {
    ModelNode hostResult=entry.getValue();
    if (hostResult.has(FAILURE_DESCRIPTION)) {
      if (hostFailureResults == null) {
        hostFailureResults=new ModelNode();
      }
      final ModelNode desc=hostResult.hasDefined(FAILURE_DESCRIPTION) ? hostResult.get(FAILURE_DESCRIPTION) : new ModelNode().set("Unexplained failure");
      hostFailureResults.add(entry.getKey(),desc);
    }
  }
  final ModelNode coordinator=domainOperationContext.getCoordinatorResult();
  if (!isDomain && coordinator != null && coordinator.has(FAILURE_DESCRIPTION)) {
    if (hostFailureResults == null) {
      hostFailureResults=new ModelNode();
    }
    final ModelNode desc=coordinator.hasDefined(FAILURE_DESCRIPTION) ? coordinator.get(FAILURE_DESCRIPTION) : new ModelNode().set("Unexplained failure");
    hostFailureResults.add(domainOperationContext.getLocalHostInfo().getLocalHostName(),desc);
  }
  if (hostFailureResults != null) {
    context.getFailureDescription().get(HOST_FAILURE_DESCRIPTIONS).set(hostFailureResults);
    return true;
  }
  return false;
}
