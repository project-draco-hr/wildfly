{
  final DeploymentUnit unit=phaseContext.getDeploymentUnit();
  final WebServiceDeployment wsDeploymentAdapter=new WebServiceDeploymentAdapter();
  processAnnotation(unit,WEB_SERVICE_ANNOTATION,wsDeploymentAdapter);
  processAnnotation(unit,WEB_SERVICE_PROVIDER_ANNOTATION,wsDeploymentAdapter);
  if (!wsDeploymentAdapter.getServiceEndpoints().isEmpty()) {
    unit.putAttachment(WEBSERVICE_DEPLOYMENT_KEY,wsDeploymentAdapter);
  }
}
