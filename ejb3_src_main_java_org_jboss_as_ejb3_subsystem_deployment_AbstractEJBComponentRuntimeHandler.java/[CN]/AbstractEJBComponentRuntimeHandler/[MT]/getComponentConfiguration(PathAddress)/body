{
  List<PathElement> relativeAddress=new ArrayList<PathElement>();
  for (int i=operationAddress.size() - 1; i >= 0; i--) {
    PathElement pe=operationAddress.getElement(i);
    relativeAddress.add(0,pe);
    if (ModelDescriptionConstants.DEPLOYMENT.equals(pe.getKey())) {
      break;
    }
  }
  PathAddress pa=PathAddress.pathAddress(relativeAddress);
  ComponentConfiguration config=componentConfigs.get(pa);
  if (config == null) {
    throw new OperationFailedException(new ModelNode().set(String.format("No EJB component registered for address %s",operationAddress)));
  }
  return config;
}
