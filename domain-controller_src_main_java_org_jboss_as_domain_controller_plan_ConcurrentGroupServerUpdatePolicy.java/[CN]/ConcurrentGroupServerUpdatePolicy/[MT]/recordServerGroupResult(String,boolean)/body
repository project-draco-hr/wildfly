{
synchronized (this) {
    if (groups.contains(serverGroup)) {
      responseCount++;
      if (failed) {
        this.failed=true;
      }
      notifyAll();
    }
 else {
      throw new IllegalStateException("Unknown server group " + serverGroup);
    }
  }
}
