{
  if (!pu.getProperties().containsKey(TRANSACTION_MODE)) {
    properties.put(TRANSACTION_MODE,"managed");
  }
  if (!pu.getProperties().containsKey(MANAGED_RUNTIME)) {
    properties.put(MANAGED_RUNTIME,"jndi(TransactionManagerName=java:jboss/TransactionManager)");
  }
  if (!pu.getProperties().containsKey(METADATA_FACTORY)) {
    properties.put(METADATA_FACTORY,JBossPersistenceMetaDataFactory.class.getName());
  }
}
