{
  DomainClient client=null;
  try {
    client=DomainClient.Factory.create(InetAddress.getByName("localhost"),9999);
    System.out.println("\nReading the domain configuration:\n");
    System.out.println(writeModel("domain",client.getDomainModel()));
    System.out.println("\nReading the list of active host controllers:\n");
    List<String> hostControllers=client.getHostControllerNames();
    for (    String hc : hostControllers) {
      System.out.println(hc);
    }
    for (    String hc : hostControllers) {
      System.out.println("\nReading host configuration for host controller " + hc + "\n");
      System.out.println(writeModel("host",client.getHostModel(hc)));
    }
  }
  finally {
    safeClose(client);
  }
}
