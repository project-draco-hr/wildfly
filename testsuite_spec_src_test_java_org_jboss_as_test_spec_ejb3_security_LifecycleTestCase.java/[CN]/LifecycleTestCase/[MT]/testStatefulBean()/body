{
  StringBuilder failureMessages=new StringBuilder();
  LoginContext lc=getCLMLoginContext("user1","password1");
  lc.login();
  try {
    Map<String,String> result=entryBean.testStatefulBean();
    verifyResult(result,DEPENDENCY_INJECTION,ILLEGAL_STATE,UNSUPPORTED_OPERATION,ILLEGAL_STATE,ILLEGAL_STATE,failureMessages);
    verifyResult(result,LIFECYCLE_CALLBACK,USER1,UNSUPPORTED_OPERATION,TRUE,ILLEGAL_STATE,failureMessages);
    verifyResult(result,BUSINESS,USER1,UNSUPPORTED_OPERATION,TRUE,ILLEGAL_STATE,failureMessages);
    verifyResult(result,AFTER_BEGIN,USER1,UNSUPPORTED_OPERATION,TRUE,ILLEGAL_STATE,failureMessages);
  }
  finally {
    lc.logout();
  }
  if (failureMessages.length() > 0) {
    fail(failureMessages.toString());
  }
}
