{
  String value=null;
  if (args.hasArguments()) {
    if (index >= 0) {
      List<String> others=args.getOtherArguments();
      if (others.size() > index) {
        return others.get(index);
      }
    }
    value=args.getArgument(fullName);
    if (value == null && shortName != null) {
      value=args.getArgument(shortName);
    }
  }
  if (required && value == null && !isPresent(args)) {
    StringBuilder buf=new StringBuilder();
    buf.append("Required argument ");
    buf.append('\'').append(fullName).append('\'');
    buf.append(" is missing.");
    throw new IllegalArgumentException(buf.toString());
  }
  return value;
}
