{
  registration.registerOperationHandler(READ_RESOURCE_OPERATION,GlobalOperationHandlers.READ_RESOURCE,CommonProviders.READ_RESOURCE_PROVIDER,true,EnumSet.of(Flag.RUNTIME_ONLY));
  registration.registerOperationHandler("setup",new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      createModel(context,model);
      context.completeStep();
    }
  }
,new DescriptionProvider(){
    @Override public ModelNode getModelDescription(    Locale locale){
      return new ModelNode();
    }
  }
,false,OperationEntry.EntryType.PRIVATE);
  ManagementResourceRegistration reg=registration.registerSubModel(PathElement.pathElement("test"),new DescriptionProvider(){
    @Override public ModelNode getModelDescription(    Locale locale){
      ModelNode node=new ModelNode();
      node.get(DESCRIPTION).set("a test node");
      node.get(ATTRIBUTES,"prop",TYPE).set(ModelType.STRING);
      node.get(ATTRIBUTES,"prop",DESCRIPTION).set("A test property");
      return node;
    }
  }
);
  rootResource.getModel().set(model);
  System.out.println(model);
}
