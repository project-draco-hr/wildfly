{
  String op=operation.get(ModelDescriptionConstants.OP).asString();
  ModelNode defaultDataStore=context.readResource(PathAddress.EMPTY_ADDRESS).getModel().get(DEFAULT_DATA_STORE.getName());
  if (!defaultDataStore.isDefined()) {
    defaultDataStore=DEFAULT_DATA_STORE.getDefaultValue();
  }
  PathAddress address=PathAddress.pathAddress(operation.get(ModelDescriptionConstants.ADDRESS));
  address=address.append(EJB3SubsystemModel.FILE_DATA_STORE,defaultDataStore.asString());
  operation.get(ModelDescriptionConstants.ADDRESS).set(address.toModelNode());
  if (op.equals(ModelDescriptionConstants.ADD)) {
    context.addStep(operation,FileDataStoreAdd.INSTANCE,OperationContext.Stage.MODEL,true);
  }
 else   if (op.equals(ModelDescriptionConstants.READ_ATTRIBUTE_OPERATION)) {
    context.addStep(operation,ReadAttributeHandler.INSTANCE,OperationContext.Stage.MODEL,true);
  }
 else   if (op.equals(ModelDescriptionConstants.WRITE_ATTRIBUTE_OPERATION)) {
    context.addStep(operation,WriteAttributeHandler.INSTANCE,OperationContext.Stage.MODEL,true);
  }
 else   if (op.equals(ModelDescriptionConstants.UNDEFINE_ATTRIBUTE_OPERATION)) {
    context.addStep(operation,UndefineAttributeHandler.INSTANCE,OperationContext.Stage.MODEL,true);
  }
  context.stepCompleted();
}
