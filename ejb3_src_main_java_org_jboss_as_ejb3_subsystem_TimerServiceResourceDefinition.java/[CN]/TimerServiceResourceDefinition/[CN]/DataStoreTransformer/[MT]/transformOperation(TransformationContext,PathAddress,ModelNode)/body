{
  Resource original=context.readResource(address);
  if (original.getChildren(EJB3SubsystemModel.FILE_DATA_STORE).size() > 1) {
    return new TransformedOperation(operation,new OperationRejectionPolicy(){
      @Override public boolean rejectOperation(      ModelNode preparedResult){
        return true;
      }
      @Override public String getFailureDescription(){
        return context.getLogger().getRejectedResourceWarning(address,operation);
      }
    }
,OperationResultTransformer.ORIGINAL_RESULT);
  }
  operation.get(THREAD_POOL_NAME.getName()).set(original.getModel().get(THREAD_POOL_NAME.getName()));
  return new TransformedOperation(operation,OperationResultTransformer.ORIGINAL_RESULT);
}
