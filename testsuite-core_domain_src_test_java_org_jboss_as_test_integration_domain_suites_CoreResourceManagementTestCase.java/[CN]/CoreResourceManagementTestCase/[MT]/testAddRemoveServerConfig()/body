{
  final DomainClient masterClient=domainMasterLifecycleUtil.getDomainClient();
  final ModelNode serverAddress=new ModelNode();
  serverAddress.add(HOST,"slave");
  serverAddress.add(SERVER_CONFIG,"test-server");
  final ModelNode composite=new ModelNode();
  composite.get(OP).set(COMPOSITE);
  composite.get(OP_ADDR).setEmptyList();
  final ModelNode steps=composite.get(STEPS).setEmptyList();
  final ModelNode step1=steps.add();
  step1.get(OP).set(ADD);
  step1.get(OP_ADDR).set(serverAddress);
  step1.get(GROUP).set("main-server-group");
  step1.get(AUTO_START).set(false);
  final ModelNode step2=steps.add();
  step2.get(OP).set(ADD);
  step2.get(OP_ADDR).set(serverAddress).add(SYSTEM_PROPERTY,"test-prop");
  step2.get(VALUE).set("test");
  try {
    final ModelNode response=masterClient.execute(composite);
    validateResponse(response);
  }
  finally {
    final ModelNode remove=new ModelNode();
    remove.get(OP).set(REMOVE);
    remove.get(OP_ADDR).set(serverAddress);
    masterClient.execute(remove);
  }
}
