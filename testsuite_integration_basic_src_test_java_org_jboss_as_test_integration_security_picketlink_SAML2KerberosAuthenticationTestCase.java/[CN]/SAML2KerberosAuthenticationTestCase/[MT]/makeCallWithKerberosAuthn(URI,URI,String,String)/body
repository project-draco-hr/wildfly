{
  final String canonicalHost=Utils.getDefaultHost(true);
  uri=Utils.replaceHost(uri,canonicalHost);
  idpUri=Utils.replaceHost(idpUri,canonicalHost);
  LOGGER.info("Making call to: " + uri);
  LOGGER.info("Expected IDP: " + idpUri);
  Configuration.setConfiguration(new Krb5LoginConfiguration());
  final LoginContext lc=new LoginContext(Utils.class.getName(),new UsernamePasswordHandler(user,pass));
  lc.login();
  final String responseBody=Subject.doAs(lc.getSubject(),new HttpGetInKerberos(uri,idpUri));
  lc.logout();
  return responseBody;
}
