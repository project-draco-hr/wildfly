{
  if (children.containsKey(childName)) {
    throw nameAlreadyBound(fullName.add(childName));
  }
  final Map<String,TreeNode> copy=new FastCopyHashMap<String,TreeNode>(children);
  copy.put(childName,childNode);
  children=copy;
}
