{
  Name currentName=name;
  ContextNode currentNode=root;
  for (int i=0; i < name.size(); i++) {
    String childName=currentName.get(0);
    final TreeNode childNode=currentNode.children.get(childName);
    currentName=currentName.getSuffix(1);
    if (childNode == null) {
      throw nameNotFoundException(childName,currentName);
    }
 else     if (isEmpty(currentName)) {
      return childNode;
    }
 else     if (childNode instanceof ContextNode) {
      currentNode=cast(childNode);
    }
 else {
      checkReferenceForContinuation(currentName,childNode.binding.getObject());
      throw notAContextException(name);
    }
  }
  return currentNode;
}
