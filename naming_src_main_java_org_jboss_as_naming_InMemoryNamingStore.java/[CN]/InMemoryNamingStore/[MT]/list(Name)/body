{
  checkPermissions(name,JndiPermission.LIST);
  final Name nodeName=name.isEmpty() ? new CompositeName("") : name;
  final TreeNode node=root.findNode(nodeName);
  if (node instanceof BindingNode) {
    checkReferenceForContinuation(new CompositeName(""),node.binding.getObject());
    throw notAContext(name);
  }
  final ContextNode contextNode=ContextNode.class.cast(node);
  final List<NameClassPair> nameClassPairs=new ArrayList<NameClassPair>();
  for (  TreeNode childNode : contextNode.children.values()) {
    final Binding binding=childNode.binding;
    NameClassPair nameClassPair=new NameClassPair(binding.getName(),binding.getClassName(),true);
    nameClassPairs.add(nameClassPair);
  }
  return nameClassPairs;
}
