{
  ModelNode entries=operation.get(ModelConstants.ENTRIES);
  String pid=operation.get(ModelDescriptionConstants.OP_ADDR).asObject().get(ModelConstants.CONFIGURATION).asString();
  Dictionary<String,String> dictionary=new Hashtable<String,String>();
  for (  String key : entries.keys()) {
    dictionary.put(key,entries.get(key).asString());
  }
  ConfigAdminServiceImpl configAdmin=ConfigAdminExtension.getConfigAdminService(context);
  if (configAdmin != null) {
    configAdmin.putConfigurationFromDMR(pid,dictionary);
  }
 else {
synchronized (this) {
      if (initializationService == null) {
        initializationService=new InitializeConfigAdminService();
        ServiceBuilder<Object> builder=context.getServiceTarget().addService(ServiceName.JBOSS.append("configadmin","data_initialization"),initializationService);
        builder.addDependency(ConfigAdminService.SERVICE_NAME,ConfigAdminService.class,initializationService.injectedConfigAdminService);
        builder.install();
      }
    }
    initializationService.putConfiguration(pid,dictionary);
  }
}
