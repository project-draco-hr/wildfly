{
  TreeMap metadata=new TreeMap();
  Map headers=connection.getHeaderFields();
  for (Iterator i=headers.keySet().iterator(); i.hasNext(); ) {
    String key=(String)i.next();
    if (key == null)     continue;
    if (key.startsWith(Utils.METADATA_PREFIX)) {
      metadata.put(key.substring(Utils.METADATA_PREFIX.length()),headers.get(key));
    }
  }
  return metadata;
}
