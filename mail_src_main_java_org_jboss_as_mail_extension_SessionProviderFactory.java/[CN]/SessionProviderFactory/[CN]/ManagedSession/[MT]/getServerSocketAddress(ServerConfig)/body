{
  final String ref=server.getOutgoingSocketBinding();
  final OutboundSocketBinding binding=socketBindings.get(ref);
  if (ref == null) {
    throw MailMessages.MESSAGES.outboundSocketBindingNotAvailable(ref);
  }
  final InetAddress destinationAddress;
  try {
    destinationAddress=binding.getDestinationAddress();
  }
 catch (  UnknownHostException uhe) {
    throw MailMessages.MESSAGES.unknownOutboundSocketBindingDestination(uhe,ref);
  }
  return new InetSocketAddress(destinationAddress,binding.getDestinationPort());
}
