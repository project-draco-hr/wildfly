{
  StringBuilder illegal=null;
  for (  String groupName : element.getServerGroupNames()) {
    ServerGroupElement sge=element.getServerGroup(groupName);
    if (bindingGroupName.equals(sge.getSocketBindingGroupName())) {
      if (illegal == null) {
        illegal=new StringBuilder(groupName);
      }
 else {
        illegal.append(", ");
        illegal.append(groupName);
      }
    }
  }
  if (illegal != null) {
    throw new UpdateFailedException(String.format("Socket binding group %s cannot " + "be removed as it is referenced by server groups %s",this.bindingGroupName,illegal.toString()));
  }
  if (!element.removeBindingGroup(bindingGroupName)) {
    throw new UpdateFailedException(String.format("binding-group (%s) does not exist",bindingGroupName));
  }
}
