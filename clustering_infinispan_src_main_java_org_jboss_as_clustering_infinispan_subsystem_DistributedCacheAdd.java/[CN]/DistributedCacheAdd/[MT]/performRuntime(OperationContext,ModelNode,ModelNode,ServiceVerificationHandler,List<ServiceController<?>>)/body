{
  log.debug("Performing runtime");
  Configuration overrides=new Configuration();
  List<AdditionalDependency> additionalDeps=new LinkedList<AdditionalDependency>();
  processDistributedCacheModelNode(model,overrides,additionalDeps);
  PathAddress cacheAddress=PathAddress.pathAddress(operation.get(OP_ADDR));
  PathAddress containerAddress=cacheAddress.subAddress(0,cacheAddress.size() - 1);
  String cacheName=cacheAddress.getLastElement().getValue();
  String containerName=containerAddress.getLastElement().getValue();
  ServiceName containerServiceName=EmbeddedCacheManagerService.getServiceName(containerName);
  ServiceName cacheServiceName=containerServiceName.append(cacheName);
  Resource rootResource=context.getRootResource();
  ModelNode container=rootResource.navigate(containerAddress).getModel();
  String defaultCache=container.require(ModelKeys.DEFAULT_CACHE).asString();
  StartMode startMode=operation.hasDefined(ModelKeys.START) ? StartMode.valueOf(operation.get(ModelKeys.START).asString()) : StartMode.LAZY;
  String jndiName=CacheContainerAdd.getContainerJNDIName(container,containerName);
  final ContextNames.BindInfo bindInfo=ContextNames.bindInfoFor(jndiName);
  ServiceTarget target=context.getServiceTarget();
  ServiceName serviceName=EmbeddedCacheManagerService.getServiceName(containerName).append(cacheName);
  ServiceBuilder<Cache<Object,Object>> builder=new CacheService<Object,Object>(cacheName,overrides).build(target,containerServiceName);
  builder.addDependency(bindInfo.getBinderServiceName());
  for (  AdditionalDependency dep : additionalDeps) {
    builder.addDependency(dep.getName(),dep.getType(),dep.getTarget());
  }
  builder.setInitialMode(startMode.getMode());
  if (cacheName.equals(defaultCache)) {
    builder.addAliases(CacheService.getServiceName(containerName,null));
  }
  if (startMode.getMode() == ServiceController.Mode.ACTIVE) {
    builder.addListener(verificationHandler);
  }
  setTransportRequired(context,containerServiceName);
  newControllers.add(builder.install());
  log.debug("cache " + cacheName + " installed for container "+ containerName);
  log.debug("Performed runtime");
}
