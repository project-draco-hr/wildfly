{
  final File policySetFile=new File(policyDir,JBossPDPTestUtils.MED_EXAMPLE_POLICY_SET);
  final File policyFile=new File(policyDir,JBossPDPTestUtils.MED_EXAMPLE_POLICY);
  FileUtils.copyInputStreamToFile(getClass().getResourceAsStream(JBossPDPTestUtils.TESTOBJECTS_POLICIES + "/" + JBossPDPTestUtils.MED_EXAMPLE_POLICY_SET),policySetFile);
  FileUtils.copyInputStreamToFile(getClass().getResourceAsStream(JBossPDPTestUtils.TESTOBJECTS_POLICIES + "/" + JBossPDPTestUtils.MED_EXAMPLE_POLICY),policyFile);
  final PDP pdp=new PDP();
  final PoliciesType policies=new PoliciesType();
  final PolicySetType policySet=new PolicySetType();
  policySet.setLocation(policyDir.getPath());
  policies.getPolicySet().add(policySet);
  pdp.setPolicies(policies);
  final LocatorType locator=new LocatorType();
  locator.setName(JBossPolicySetLocator.class.getName());
  final LocatorsType locators=new LocatorsType();
  locators.getLocator().add(locator);
  pdp.setLocators(locators);
  return new JBossPDP(JBossPDPTestUtils.createJAXBElementPDP(pdp));
}
