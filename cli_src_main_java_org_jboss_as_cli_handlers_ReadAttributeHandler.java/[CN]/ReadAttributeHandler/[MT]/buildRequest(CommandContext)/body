{
  final ParsedCommandLine parsedCmd=ctx.getParsedCommandLine();
  final String name=this.name.getValue(parsedCmd);
  if (name == null || name.isEmpty()) {
    throw new CommandFormatException("Required argument " + this.name.getFullName() + " is not specified.");
  }
  final OperationRequestAddress address=getAddress(ctx);
  final ModelNode req=new ModelNode();
  if (address.isEmpty()) {
    req.get(Util.ADDRESS).setEmptyList();
  }
 else {
    if (address.endsOnType()) {
      throw new CommandFormatException("The address ends on a type: " + address.getNodeType());
    }
    final ModelNode addrNode=req.get(Util.ADDRESS);
    for (    OperationRequestAddress.Node node : address) {
      addrNode.add(node.getType(),node.getName());
    }
  }
  req.get(Util.OPERATION).set(Util.READ_ATTRIBUTE);
  req.get(Util.NAME).set(name);
  final String includeDefaults=this.includeDefaults.getValue(parsedCmd);
  if (includeDefaults != null && !includeDefaults.isEmpty()) {
    req.get(Util.INCLUDE_DEFAULTS).set(includeDefaults);
  }
  return req;
}
