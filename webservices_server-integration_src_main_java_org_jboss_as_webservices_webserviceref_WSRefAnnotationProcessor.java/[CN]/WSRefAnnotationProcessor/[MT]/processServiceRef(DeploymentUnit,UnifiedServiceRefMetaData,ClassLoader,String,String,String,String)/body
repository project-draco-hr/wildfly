{
  final Class<?> typeClass;
  try {
    typeClass=classLoader.loadClass(type);
  }
 catch (  ClassNotFoundException e) {
    throw new RuntimeException("Could not load class " + type);
  }
  if (wsdlLocation != null && wsdlLocation.length() > 0) {
    serviceRefUMDM.setWsdlFile(wsdlLocation);
  }
  serviceRefUMDM.setServiceRefType(type);
  if (!isEmpty(value)) {
    serviceRefUMDM.setServiceInterface(value);
  }
 else   if (Service.class.isAssignableFrom(typeClass)) {
    serviceRefUMDM.setServiceInterface(type);
  }
 else {
    serviceRefUMDM.setServiceInterface(Service.class.getName());
  }
  final boolean isJAXRPC=serviceRefUMDM.getMappingFile() != null || "javax.xml.rpc.Service".equals(serviceRefUMDM.getServiceInterface());
  serviceRefUMDM.setType(isJAXRPC ? ServiceRefHandler.Type.JAXRPC : ServiceRefHandler.Type.JAXWS);
  return serviceRefUMDM;
}
