{
  final UnifiedServiceRefMetaData serviceRefUMDM=getServiceRef(unit,bindingName);
  initServiceRef(unit,serviceRefUMDM,type,annotation);
  processWSFeatures(unit,serviceRefUMDM,injectionTarget,classInfo);
  final EEModuleDescription moduleDescription=unit.getAttachment(Attachments.EE_MODULE_DESCRIPTION);
  final EEModuleClassDescription classDescription=moduleDescription.addOrGetLocalClassDescription(classInfo.name().toString());
  final InjectionSource serviceRefSource=new WSRefValueSource(serviceRefUMDM);
  final BindingConfiguration bindingConfiguration=new BindingConfiguration(bindingName,serviceRefSource);
  classDescription.getBindingConfigurations().add(bindingConfiguration);
  final ResourceInjectionConfiguration injectionConfiguration=injectionTarget != null ? new ResourceInjectionConfiguration(injectionTarget,new LookupInjectionSource(bindingName)) : null;
  if (injectionConfiguration != null) {
    classDescription.getInjectionConfigurations().add(injectionConfiguration);
  }
}
