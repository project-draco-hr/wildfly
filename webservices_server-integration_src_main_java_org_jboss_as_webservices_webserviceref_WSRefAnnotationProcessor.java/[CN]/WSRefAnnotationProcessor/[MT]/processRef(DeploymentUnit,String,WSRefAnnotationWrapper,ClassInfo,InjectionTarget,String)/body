{
  final UnifiedServiceRefMetaData serviceRefUMDM=getServiceRef(unit,bindingName);
  initServiceRef(unit,serviceRefUMDM,type,annotation);
  processWSFeatures(unit,serviceRefUMDM,injectionTarget,classInfo);
  final EEApplicationClasses applicationClasses=unit.getAttachment(Attachments.EE_APPLICATION_CLASSES_DESCRIPTION);
  final EEModuleClassDescription classDescription=applicationClasses.getOrAddClassByName(classInfo.name().toString());
  final InjectionSource serviceRefSource=new WSRefValueSource(serviceRefUMDM);
  final BindingConfiguration bindingConfiguration=new BindingConfiguration(bindingName,serviceRefSource);
  classDescription.getConfigurators().add(new BindingConfigurator(bindingConfiguration));
  final ResourceInjectionConfiguration injectionConfiguration=injectionTarget != null ? new ResourceInjectionConfiguration(injectionTarget,new LookupInjectionSource(bindingName)) : null;
  if (injectionConfiguration != null) {
    classDescription.getConfigurators().add(new InjectionConfigurator(injectionConfiguration));
  }
}
