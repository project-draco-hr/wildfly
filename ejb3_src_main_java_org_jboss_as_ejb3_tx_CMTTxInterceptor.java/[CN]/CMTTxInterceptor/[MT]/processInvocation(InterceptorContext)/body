{
  final TransactionalInvocationContext invocation=(TransactionalInvocationContext)context.getPrivateData(InvocationContext.class);
  TransactionAttributeType attr=invocation.getTransactionAttribute();
switch (attr) {
case MANDATORY:
    return mandatory(invocation);
case NEVER:
  return never(invocation);
case NOT_SUPPORTED:
return notSupported(invocation);
case REQUIRED:
return required(invocation);
case REQUIRES_NEW:
return requiresNew(invocation);
case SUPPORTS:
return supports(invocation);
default :
throw new IllegalStateException("Unexpected tx attribute " + attr + " on "+ invocation);
}
}
