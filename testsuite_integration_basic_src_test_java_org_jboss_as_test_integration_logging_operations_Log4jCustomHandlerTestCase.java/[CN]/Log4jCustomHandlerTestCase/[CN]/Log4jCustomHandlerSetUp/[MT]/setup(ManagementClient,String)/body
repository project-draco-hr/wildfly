{
  logFile=getAbsoluteLogFilePath(managementClient,FILE_NAME);
  final ModelControllerClient client=managementClient.getControllerClient();
  ModelNode op=Operations.createAddOperation(CUSTOM_HANDLER_ADDRESS.toModelNode());
  op.get("class").set("org.apache.log4j.FileAppender");
  op.get("module").set("org.apache.log4j");
  ModelNode opProperties=op.get("properties").setEmptyObject();
  opProperties.get("file").set(logFile.getAbsolutePath());
  opProperties.get("immediateFlush").set(true);
  client.execute(op);
  op=Operations.createOperation("add-handler",createRootLoggerAddress().toModelNode());
  op.get(ModelDescriptionConstants.NAME).set(CUSTOM_HANDLER_NAME);
  client.execute(op);
}
