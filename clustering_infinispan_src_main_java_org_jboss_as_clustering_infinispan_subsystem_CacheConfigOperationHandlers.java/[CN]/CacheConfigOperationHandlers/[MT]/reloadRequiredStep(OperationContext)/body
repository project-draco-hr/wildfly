{
  if (context.getProcessType().isServer() || !context.isBooting()) {
    context.addStep(new OperationStepHandler(){
      @Override public void execute(      final OperationContext context,      final ModelNode operation) throws OperationFailedException {
        PathAddress elementAddress=PathAddress.pathAddress(operation.get(OP_ADDR));
        PathAddress cacheAddress=elementAddress.subAddress(0,elementAddress.size() - 1);
        PathAddress containerAddress=cacheAddress.subAddress(0,cacheAddress.size() - 2);
        String cacheName=cacheAddress.getLastElement().getValue();
        String containerName=containerAddress.getLastElement().getValue();
        ServiceName cacheConfigurationServiceName=CacheConfigurationService.getServiceName(containerName,cacheName);
        final ServiceController<?> controller=context.getServiceRegistry(false).getService(cacheConfigurationServiceName);
        if (controller != null) {
          context.reloadRequired();
        }
        if (context.completeStep() == OperationContext.ResultAction.ROLLBACK) {
          context.revertReloadRequired();
        }
      }
    }
,OperationContext.Stage.RUNTIME);
  }
}
