{
  final ModelNode model=resource.getModel();
  if (isCacheStoreDefined(context,operation)) {
    String storeName=getDefinedCacheStore(context,operation);
    throw InfinispanLogger.ROOT_LOGGER.cacheStoreAlreadyDefined(storeName);
  }
  for (  final AttributeDefinition attribute : this.attributes) {
    if (attribute.getName().equals(StoreResourceDefinition.PROPERTIES.getName()))     continue;
    attribute.validateAndSet(operation,model);
  }
  populateSubclassModel(context,operation,model);
  if (operation.hasDefined(ModelKeys.PROPERTIES)) {
    for (    Property property : operation.get(ModelKeys.PROPERTIES).asPropertyList()) {
      final Resource param=context.createResource(PathAddress.pathAddress(PathElement.pathElement(ModelKeys.PROPERTY,property.getName())));
      final ModelNode value=property.getValue();
      if (!value.isDefined()) {
        throw InfinispanLogger.ROOT_LOGGER.propertyValueNotDefined(property.getName());
      }
      StorePropertyResourceDefinition.VALUE.validateAndSet(value,param.getModel());
    }
  }
}
