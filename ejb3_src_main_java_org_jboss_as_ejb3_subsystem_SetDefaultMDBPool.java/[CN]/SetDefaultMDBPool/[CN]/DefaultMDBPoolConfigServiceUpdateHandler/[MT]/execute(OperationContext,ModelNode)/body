{
  final ServiceRegistry serviceRegistry=context.getServiceRegistry(true);
  ServiceController existingDefaultMDBPoolConfigService=serviceRegistry.getService(PoolConfigService.DEFAULT_MDB_POOL_CONFIG_SERVICE_NAME);
  if (existingDefaultMDBPoolConfigService != null) {
    context.removeService(existingDefaultMDBPoolConfigService);
  }
  final ValueInjectionService<PoolConfig> newDefaultMDBPoolConfigService=new ValueInjectionService<PoolConfig>();
  context.getServiceTarget().addService(PoolConfigService.DEFAULT_MDB_POOL_CONFIG_SERVICE_NAME,newDefaultMDBPoolConfigService).addDependency(PoolConfigService.EJB_POOL_CONFIG_BASE_SERVICE_NAME.append(poolName),PoolConfig.class,newDefaultMDBPoolConfigService.getInjector()).install();
  context.completeStep();
}
