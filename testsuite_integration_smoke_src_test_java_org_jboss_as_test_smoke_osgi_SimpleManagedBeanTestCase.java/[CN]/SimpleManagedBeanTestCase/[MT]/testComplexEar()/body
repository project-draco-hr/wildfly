{
  Assert.assertEquals("[Paypal, Visa]",performCall("complex",null));
  ModelControllerClient client=managementClient.getControllerClient();
  ModelNode resultMap=OSGiManagementOperations.getBundleInfo(client,VISA_PROVIDER_BUNDLE);
  assertEquals("ACTIVE",resultMap.get("state").asString());
  resultMap=OSGiManagementOperations.getBundleInfo(client,PAYPAL_PROVIDER_BUNDLE);
  assertEquals("ACTIVE",resultMap.get("state").asString());
  OSGiManagementOperations.bundleStop(client,VISA_PROVIDER_BUNDLE);
  Assert.assertEquals("[Paypal]",performCall("complex",null));
  OSGiManagementOperations.bundleStop(client,PAYPAL_PROVIDER_BUNDLE);
  Assert.assertEquals("[]",performCall("complex",null));
  OSGiManagementOperations.bundleStart(client,VISA_PROVIDER_BUNDLE);
  Assert.assertEquals("[Visa]",performCall("complex",null));
  OSGiManagementOperations.bundleStart(client,PAYPAL_PROVIDER_BUNDLE);
  Assert.assertEquals("[Paypal, Visa]",performCall("complex",null));
}
