{
  VersionModelInitializer.registerRootResource(rootResource,null);
  final HostControllerEnvironment env=createHostControllerEnvironment();
  final LocalHostControllerInfoImpl info=createLocalHostControllerInfo(env);
  final IgnoredDomainResourceRegistry ignoredRegistry=new IgnoredDomainResourceRegistry(info);
  final ExtensibleConfigurationPersister persister=new NullConfigurationPersister();
  final HostFileRepository hostFIleRepository=createHostFileRepository();
  final DomainController domainController=new MockDomainController();
  DomainRootDefinition domainDefinition=new DomainRootDefinition(domainController,env,persister,injectedContentRepository.getValue(),hostFIleRepository,true,info,extensionRegistry,null,pathManagerService,null);
  domainDefinition.initialize(rootRegistration);
  rootResourceDefinition.setDelegate(domainDefinition);
  HostModelUtil.createRootRegistry(rootRegistration,env,ignoredRegistry,new HostModelRegistrar(){
    @Override public void registerHostModel(    String hostName,    ManagementResourceRegistration root){
    }
  }
,processType);
}
