{
  final ModelType type=node.getType();
  if (type.equals(ModelType.LIST)) {
    return toList(node);
  }
 else   if (type.equals(ModelType.OBJECT)) {
    return toMap(node);
  }
 else   if (type.equals(ModelType.PROPERTY)) {
    final Property prop=node.asProperty();
    return Collections.singletonMap(prop.getName(),toObject(prop.getValue()));
  }
 else {
    return node.asString();
  }
}
