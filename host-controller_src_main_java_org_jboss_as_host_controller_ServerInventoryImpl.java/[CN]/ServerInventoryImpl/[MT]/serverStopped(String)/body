{
  final ManagedServer server=servers.get(serverProcessName);
  if (server == null) {
    log.errorf("No server called %s exists for stop",serverProcessName);
    return;
  }
  domainController.unregisterRunningServer(server.getServerName());
  if (server.getState() != ServerState.STOPPING && !stopped) {
    try {
      if (server.incrementAndGetRespawnCount() < 10) {
        server.startServerProcess();
        return;
      }
      server.setState(ServerState.MAX_FAILED);
    }
 catch (    IOException e) {
      log.error("Failed to start server " + serverProcessName,e);
    }
  }
synchronized (shutdownCondition) {
    servers.remove(serverProcessName);
    shutdownCondition.notifyAll();
  }
}
