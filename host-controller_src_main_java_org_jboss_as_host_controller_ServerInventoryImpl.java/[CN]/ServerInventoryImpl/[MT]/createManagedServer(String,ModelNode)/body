{
  final String hostControllerName=domainController.getLocalHostInfo().getLocalHostName();
  final ModelNode hostModel=domainModel.require(HOST).require(hostControllerName);
  final ManagedServerBootCmdFactory combiner=new ManagedServerBootCmdFactory(serverName,domainModel,hostModel,environment,domainController.getExpressionResolver());
  final ManagedServer.ManagedServerBootConfiguration configuration=combiner.createConfiguration();
  final ModelNode subsystems=resolveSubsystems(extensionRegistry);
  final TransformationTarget target=TransformationTargetImpl.create(extensionRegistry.getTransformerRegistry(),ModelVersion.create(Version.MANAGEMENT_MAJOR_VERSION,Version.MANAGEMENT_MINOR_VERSION,Version.MANAGEMENT_MICRO_VERSION),subsystems,TransformationTarget.TransformationTargetType.SERVER);
  return new ManagedServer(hostControllerName,serverName,processControllerClient,managementAddress,configuration,target);
}
