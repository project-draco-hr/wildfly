{
  final String hostControllerName=domainController.getLocalHostInfo().getLocalHostName();
  final ModelNode hostModel=domainModel.require(HOST).require(hostControllerName);
  final ManagedServerBootCmdFactory combiner=new ManagedServerBootCmdFactory(serverName,domainModel,hostModel,environment,domainController.getExpressionResolver());
  final ManagedServerBootConfiguration configuration=combiner.createConfiguration();
  final Map<PathAddress,ModelVersion> subsystems=TransformerRegistry.resolveVersions(extensionRegistry);
  final ModelVersion modelVersion=ModelVersion.create(Version.MANAGEMENT_MAJOR_VERSION,Version.MANAGEMENT_MINOR_VERSION,Version.MANAGEMENT_MICRO_VERSION);
  final TransformationTarget target=TransformationTargetImpl.create(extensionRegistry.getTransformerRegistry(),modelVersion,subsystems,null,TransformationTarget.TransformationTargetType.SERVER,null);
  return new ManagedServer(hostControllerName,serverName,authKey,processControllerClient,managementAddress,configuration,target);
}
