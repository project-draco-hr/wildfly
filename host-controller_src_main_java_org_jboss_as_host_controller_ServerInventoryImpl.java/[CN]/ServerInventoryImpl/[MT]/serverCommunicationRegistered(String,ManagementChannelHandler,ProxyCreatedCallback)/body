{
  if (stopped || connectionFinished) {
    throw HostControllerMessages.MESSAGES.hostAlreadyShutdown();
  }
  final String serverName=ManagedServer.getServerName(serverProcessName);
  final ManagedServer server=servers.get(serverName);
  if (server == null) {
    ROOT_LOGGER.noServerAvailable(serverName);
    return;
  }
  final Channel channel;
  try {
    channel=channelAssociation.getChannel();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  channel.addCloseHandler(new CloseHandler<Channel>(){
    public void handleClose(    final Channel closed,    final IOException exception){
      server.callbackUnregistered();
      domainController.unregisterRunningServer(server.getServerName());
    }
  }
);
  server.callbackRegistered(new ManagedServer.TransitionTask(){
    @Override public void execute(    ManagedServer server) throws Exception {
      final PathElement element=PathElement.pathElement(RUNNING_SERVER,server.getServerName());
      final RemoteProxyController serverController=RemoteProxyController.create(channelAssociation,PathAddress.pathAddress(PathElement.pathElement(HOST,domainController.getLocalHostInfo().getLocalHostName()),element),ProxyOperationAddressTranslator.SERVER);
      callback.proxyOperationHandlerCreated(serverController);
      domainController.registerRunningServer(serverController);
    }
  }
,channelAssociation);
}
