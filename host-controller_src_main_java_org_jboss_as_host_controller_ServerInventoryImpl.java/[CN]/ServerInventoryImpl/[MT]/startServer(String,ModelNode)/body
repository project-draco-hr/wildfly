{
  final String processName=ManagedServer.getServerProcessName(serverName);
  final ManagedServer existing=servers.get(processName);
  if (existing != null) {
    ROOT_LOGGER.existingServerWithState(processName,existing.getState());
    return determineServerStatus(serverName);
  }
  ROOT_LOGGER.startingServer(serverName);
  final ManagedServer server=createManagedServer(serverName,domainModel);
synchronized (shutdownCondition) {
    servers.put(processName,server);
    shutdownCondition.notifyAll();
  }
  try {
    server.createServerProcess();
  }
 catch (  IOException e) {
    ROOT_LOGGER.failedToCreateServerProcess(e,serverName);
  }
  try {
    server.startServerProcess();
  }
 catch (  IOException e) {
    ROOT_LOGGER.failedToStartServer(e,serverName);
  }
  return determineServerStatus(serverName);
}
