{
  ROOT_LOGGER.stoppingServer(serverName);
  final String processName=ManagedServer.getServerProcessName(serverName);
  try {
    final ManagedServer server=servers.get(processName);
    if (server != null) {
      server.setState(ServerState.STOPPING);
      if (gracefulTimeout > -1) {
        ROOT_LOGGER.gracefulShutdownNotSupported(serverName);
        server.stopServerProcess();
        server.removeServerProcess();
      }
 else {
        server.stopServerProcess();
        server.removeServerProcess();
      }
    }
  }
 catch (  final Exception e) {
    ROOT_LOGGER.failedToStopServer(e,serverName);
  }
  return determineServerStatus(serverName);
}
