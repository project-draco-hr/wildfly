{
  if (serverName == null || serverName.length() == 0) {
    throw new IllegalArgumentException("Server name \"" + serverName + "\" is invalid; cannot be null or blank");
  }
  if (hostControllerName == null || hostControllerName.length() == 0) {
    throw new IllegalArgumentException("Host Controller name \"" + hostControllerName + "\" is invalid; cannot be null or blank");
  }
  this.serverName=serverName;
  this.portOffset=portOffset;
  this.startServices=startServices;
  this.updates=updates;
  this.hostControllerName=hostControllerName;
  this.home=SecurityActions.getSystemProperty("jboss.home.dir");
  String serverBaseDir=SecurityActions.getSystemProperty("jboss.domain.servers.dir") + File.separatorChar + serverName;
  properties.setProperty(ServerEnvironment.SERVER_NAME,serverName);
  properties.setProperty(ServerEnvironment.HOME_DIR,home);
  properties.setProperty(ServerEnvironment.SERVER_BASE_DIR,serverBaseDir);
  properties.setProperty(ServerEnvironment.CONTROLLER_TEMP_DIR,SecurityActions.getSystemProperty("jboss.domain.temp.dir"));
  properties.setProperty(ServerEnvironment.DOMAIN_BASE_DIR,SecurityActions.getSystemProperty(ServerEnvironment.DOMAIN_BASE_DIR));
  properties.setProperty(ServerEnvironment.DOMAIN_CONFIG_DIR,SecurityActions.getSystemProperty(ServerEnvironment.DOMAIN_CONFIG_DIR));
  setPropertyIfFound(launchProperties,ServerEnvironment.SERVER_DATA_DIR,properties);
  setPropertyIfFound(launchProperties,ServerEnvironment.SERVER_LOG_DIR,properties);
  setPropertyIfFound(launchProperties,ServerEnvironment.SERVER_TEMP_DIR,properties);
}
