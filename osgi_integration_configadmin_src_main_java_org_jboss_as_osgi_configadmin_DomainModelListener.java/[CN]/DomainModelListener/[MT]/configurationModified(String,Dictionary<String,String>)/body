{
  LOGGER.debugf("DomainModelListener modified %s => %s",pid,dictionary);
  ConfigurationAdmin configurationAdmin=(ConfigurationAdmin)tracker.getService();
  if (configurationAdmin == null) {
    LOGGER.debugf("No ConfigurationAdmin");
    return;
  }
  try {
    if (dictionary == null) {
      Configuration[] configs=configurationAdmin.listConfigurations("(" + Constants.SERVICE_PID + "="+ pid+ ")");
      if (configs != null) {
        for (        Configuration config : configs) {
          config.delete();
        }
      }
      return;
    }
 else {
      String skipUpdate=dictionary.get(SKIP_CONFIGURATION_ADMIN_UPDATE);
      if (!Boolean.parseBoolean(skipUpdate)) {
        Configuration config=configurationAdmin.getConfiguration(pid,null);
        config.update(dictionary);
      }
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
