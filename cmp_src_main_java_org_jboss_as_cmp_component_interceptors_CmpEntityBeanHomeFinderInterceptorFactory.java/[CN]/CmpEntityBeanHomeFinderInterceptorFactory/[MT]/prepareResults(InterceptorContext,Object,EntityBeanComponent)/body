{
switch (getReturnType()) {
case COLLECTION:
{
      Collection keys=(Collection)result;
      final Set<Object> results=new HashSet<Object>();
      if (keys != null) {
        for (        Object key : keys) {
          results.add(getLocalObject(key));
        }
      }
      return results;
    }
case ENUMERATION:
{
    Collection<Object> entities=(Collection<Object>)result;
    final Iterator<Object> iterator=entities.iterator();
    return new Enumeration<Object>(){
      public boolean hasMoreElements(){
        return iterator.hasNext();
      }
      public Object nextElement(){
        return getLocalObject(iterator.next());
      }
    }
;
  }
default :
{
  if (result == null) {
    throw new ObjectNotFoundException("Could not find entity from " + finderMethod + " with params "+ Arrays.toString(context.getParameters()));
  }
  return getLocalObject(result);
}
}
}
