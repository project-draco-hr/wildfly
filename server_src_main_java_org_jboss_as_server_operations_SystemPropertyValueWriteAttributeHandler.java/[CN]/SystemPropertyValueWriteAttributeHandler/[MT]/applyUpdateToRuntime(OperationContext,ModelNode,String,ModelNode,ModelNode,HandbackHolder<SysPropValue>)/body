{
  final String name=PathAddress.pathAddress(operation.get(OP_ADDR)).getLastElement().getValue();
  String setValue=resolvedValue.isDefined() ? resolvedValue.asString() : null;
  final boolean applyToRuntime=systemPropertyUpdater.isRuntimeSystemPropertyUpdateAllowed(name,setValue,context.isBooting());
  if (applyToRuntime) {
    final String oldValue=WildFlySecurityManager.getPropertyPrivileged(name,null);
    if (setValue != null) {
      WildFlySecurityManager.setPropertyPrivileged(name,setValue);
    }
 else {
      WildFlySecurityManager.clearPropertyPrivileged(name);
    }
    systemPropertyUpdater.systemPropertyUpdated(name,setValue);
    handbackHolder.setHandback(new SysPropValue(name,oldValue));
  }
  return !applyToRuntime;
}
