{
  final int batchId=ManagementBatchIdManager.DEFAULT.createBatchId();
  try {
    return new ExecuteRequest(batchId,false,operation,messageHandler,attachments).executeForResult(executor,getClientChannelStrategy());
  }
 catch (  Exception e) {
    ManagementBatchIdManager.DEFAULT.freeBatchId(batchId);
    Throwable cause=e;
    if (e instanceof ExecutionException) {
      cause=e.getCause();
    }
    if (cause instanceof IOException) {
      throw (IOException)cause;
    }
    if (cause instanceof RuntimeException) {
      throw (RuntimeException)cause;
    }
    throw new IOException(cause);
  }
}
