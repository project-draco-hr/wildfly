{
  final DeploymentScannerService service=new DeploymentScannerService(scanInterval,unit,scanEnabled);
  final ServiceName serviceName=getServiceName(name);
  final ServiceName pathService=serviceName.append("path");
  if (relativeTo != null) {
    RelativePathService.addService(pathService,path,relativeTo,batchBuilder);
  }
 else {
    AbsolutePathService.addService(pathService,path,batchBuilder);
  }
  return batchBuilder.addService(serviceName,service).addDependency(pathService,String.class,service.pathValue).addDependency(DeploymentScannerFactory.SERVICE_NAME,DeploymentScannerFactory.class,service.scannerFactory).setInitialMode(Mode.ACTIVE);
}
