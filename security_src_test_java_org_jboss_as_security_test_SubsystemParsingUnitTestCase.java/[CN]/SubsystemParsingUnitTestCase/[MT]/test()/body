{
  List<ModelNode> operations=parse("subsystem.xml");
  assertNotNull(operations);
  ModelNode props=operations.get(0);
  assertNotNull(props);
  List<ModelNode> secProps=props.get("security-properties").asList();
  assertEquals(2,secProps.size());
  for (  ModelNode secProp : secProps) {
    Property prop=secProp.asProperty();
    String name=prop.getName();
    boolean present="a".equals(name) || "c".equals(name);
    if (!present)     fail("wrong props");
  }
  ModelNode node=operations.get(1);
  assertNotNull(node);
  ModelNode address=node.get(OP_ADDR);
  List<Property> properties=address.asPropertyList();
  assertEquals(2,properties.size());
  for (  Property prop : properties) {
    String propName=prop.getName();
    if (!(propName.equals(SUBSYSTEM) || propName.equals(SECURITY_DOMAIN)))     fail("either subsystem or security-domain expected");
    if (propName.equals(SECURITY_DOMAIN)) {
      ModelNode securityDomainValue=prop.getValue();
      String value=securityDomainValue.asString();
      assertEquals("other",value);
    }
  }
  ModelNode auth=node.get("authentication");
  assertNotNull(auth);
  List<ModelNode> domainNodes=auth.asList();
  assertEquals(1,domainNodes.size());
  ModelNode modelNode=domainNodes.get(0);
  ModelNode code=modelNode.get("code");
  assertEquals("UsersRoles",code.asString());
  ModelNode flag=modelNode.get("flag");
  assertEquals("required",flag.asString());
}
