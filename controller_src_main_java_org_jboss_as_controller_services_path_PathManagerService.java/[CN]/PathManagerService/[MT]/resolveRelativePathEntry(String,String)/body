{
  if (relativeTo == null) {
    return AbsolutePathService.convertPath(path);
  }
 else {
    PathEntry pathEntry;
synchronized (pathEntries) {
      pathEntry=pathEntries.get(relativeTo);
      if (pathEntry == null) {
        throw MESSAGES.pathEntryNotFound(relativeTo);
      }
      return RelativePathService.doResolve(pathEntry.resolvePath(),path);
    }
  }
}
