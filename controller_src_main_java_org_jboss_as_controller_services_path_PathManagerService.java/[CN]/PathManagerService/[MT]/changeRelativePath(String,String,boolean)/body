{
  PathEntry pathEntry=findPathEntry(pathName);
synchronized (pathEntries) {
    if (pathEntry.getRelativeTo() != null) {
      Set<String> dependents=dependenctRelativePaths.get(pathEntry.getRelativeTo());
      dependents.remove(pathEntry.getName());
    }
    if (check && relativePath != null && pathEntries.get(relativePath) == null) {
      throw MESSAGES.pathEntryNotFound(pathName);
    }
    pathEntry.setRelativeTo(relativePath);
    pathEntry.setPathResolver(relativePath == null ? absoluteResolver : relativeResolver);
    addDependent(pathEntry.getName(),pathEntry.getRelativeTo());
  }
  triggerCallbacksForEvent(pathEntry,Event.UPDATED);
}
