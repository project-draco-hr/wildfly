{
synchronized (pathEntries) {
    PathEntry pathEntry=pathEntries.get(pathName);
    if (pathEntry.isReadOnly()) {
      throw MESSAGES.pathEntryIsReadOnly(pathName);
    }
    Set<String> dependents=dependenctRelativePaths.get(pathName);
    if (check && dependents != null) {
      throw MESSAGES.cannotRemovePathWithDependencies(pathName,dependents);
    }
    pathEntries.remove(pathName);
    triggerCallbacksForEvent(pathEntry,Event.REMOVED);
    if (pathEntry.getRelativeTo() != null) {
      dependents=dependenctRelativePaths.get(pathEntry.getRelativeTo());
      if (dependents != null) {
        dependents.remove(pathEntry.getName());
        if (dependents.size() == 0) {
          dependenctRelativePaths.remove(pathEntry.getRelativeTo());
        }
      }
    }
  }
}
