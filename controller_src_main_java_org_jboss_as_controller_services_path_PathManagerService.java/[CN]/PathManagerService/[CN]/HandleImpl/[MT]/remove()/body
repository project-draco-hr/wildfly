{
synchronized (callbacks) {
    Map<Event,Set<Callback>> callbacksByEvent=callbacks.get(pathName);
    if (callbacksByEvent != null) {
      for (      Event event : events) {
        Set<Callback> callbackSet=callbacksByEvent.get(event);
        if (callbackSet != null) {
          callbackSet.remove(callback);
        }
        if (callbackSet.isEmpty()) {
          callbacksByEvent.remove(event);
        }
      }
      if (callbacksByEvent.isEmpty()) {
        callbacks.remove(pathName);
      }
    }
  }
}
