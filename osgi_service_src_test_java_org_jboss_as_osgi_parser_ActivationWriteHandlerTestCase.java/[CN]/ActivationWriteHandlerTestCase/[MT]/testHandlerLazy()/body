{
  ModelNode targetNode=new ModelNode();
  targetNode.get(CommonAttributes.ACTIVATION).set("eager");
  OperationContext context=Mockito.mock(OperationContext.class);
  Resource resource=Mockito.mock(Resource.class);
  Mockito.when(resource.getModel()).thenReturn(targetNode);
  Mockito.when(context.readResourceForUpdate(PathAddress.EMPTY_ADDRESS)).thenReturn(resource);
  ActivationWriteHandler handler=new ActivationWriteHandler();
  ModelNode operation=new ModelNode();
  operation.get(ModelDescriptionConstants.VALUE).set(Activation.LAZY.toString().toLowerCase());
  handler.execute(context,operation);
  Mockito.verify(context).completeStep();
  Assert.assertEquals(Activation.LAZY.toString().toLowerCase(),targetNode.get(CommonAttributes.ACTIVATION).asString());
}
