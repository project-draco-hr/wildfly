{
  factory=new RiverMarshallerFactory();
  configuration=new MarshallingConfiguration();
  configuration.setClassResolver(ModularClassResolver.getInstance(moduleLoader.getValue()));
  managedReference=dataSourceInjectedValue.getValue().getReference();
  dataSource=(DataSource)managedReference.getInstance();
  final InputStream stream=DatabaseTimerPersistence.class.getResourceAsStream("sql.properties");
  sql=new Properties();
  try {
    sql.load(stream);
  }
 catch (  IOException e) {
    throw new StartException(e);
  }
 finally {
    safeClose(stream);
  }
  runCreateTable();
}
