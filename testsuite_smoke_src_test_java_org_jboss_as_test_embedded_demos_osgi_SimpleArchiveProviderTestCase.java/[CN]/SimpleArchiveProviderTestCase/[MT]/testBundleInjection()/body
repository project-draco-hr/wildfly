{
  Archive<?> archive=container.getTestArchive("example-archive-provider");
  Bundle bundle=container.installBundle(archive);
  try {
    OSGiTestHelper.assertBundleState(Bundle.INSTALLED,bundle.getState());
    bundle.start();
    OSGiTestHelper.assertBundleState(Bundle.ACTIVE,bundle.getState());
    bundle.stop();
    OSGiTestHelper.assertBundleState(Bundle.RESOLVED,bundle.getState());
  }
  finally {
    bundle.uninstall();
    OSGiTestHelper.assertBundleState(Bundle.UNINSTALLED,bundle.getState());
  }
}
