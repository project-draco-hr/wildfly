{
  if (viewServices.containsKey(businessInterfaceType.getName())) {
    final ServiceController<?> serviceController=serviceRegistry.getRequiredService(viewServices.get(businessInterfaceType.getName()));
    final ComponentView view=(ComponentView)serviceController.getValue();
    final ComponentViewInstance instance=view.createInstance(Collections.<Object,Object>singletonMap(StatefulSessionComponent.SESSION_ATTACH_KEY,id));
    return (S)instance.createProxy();
  }
 else {
    throw new IllegalArgumentException("View of type " + businessInterfaceType + " not found on bean "+ component);
  }
}
