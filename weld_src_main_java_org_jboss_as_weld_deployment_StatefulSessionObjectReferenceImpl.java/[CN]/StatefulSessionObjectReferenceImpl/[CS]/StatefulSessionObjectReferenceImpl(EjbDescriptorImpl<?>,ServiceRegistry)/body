{
  this.serviceRegistry=serviceRegistry;
  final ServiceName createServiceName=descriptor.getCreateServiceName();
  final ServiceController<?> controller=serviceRegistry.getRequiredService(createServiceName);
  component=(StatefulSessionComponent)controller.getValue();
  final Map<String,ServiceName> viewServices=new HashMap<String,ServiceName>();
  for (  ViewDescription view : descriptor.getComponentDescription().getViews()) {
    viewServices.put(view.getViewClassName(),view.getServiceName());
  }
  id=component.createSession();
  this.viewServices=viewServices;
}
