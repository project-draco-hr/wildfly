{
  final URL rolesPrintingURL=new URL(webAppURL.toExternalForm() + RolePrintingServlet.SERVLET_PATH.substring(1) + "?"+ QUERY_ROLES);
  final String rolesResponse=Utils.makeCallWithBasicAuthn(rolesPrintingURL,username,"theduke",200);
  if (hasJdukeRole) {
    assertInRole(rolesResponse,"jduke");
  }
 else {
    assertNotInRole(rolesResponse,"jduke");
  }
  assertNotInRole(rolesResponse,"Java Duke");
  assertNotInRole(rolesResponse,"Roles");
  assertNotInRole(rolesResponse,"JBossAdmin");
  assertNotInRole(rolesResponse,"TheDuke2");
  assertNotInRole(rolesResponse,"Echo2");
  assertInRole(rolesResponse,"TheDuke");
  assertInRole(rolesResponse,"Echo");
  final URL principalPrintingURL=new URL(webAppURL.toExternalForm() + PrincipalPrintingServlet.SERVLET_PATH.substring(1) + "?"+ QUERY_ROLES);
  final String principal=Utils.makeCallWithBasicAuthn(principalPrintingURL,username,"theduke",200);
  assertEquals("Unexpected Principal name",username,principal);
}
