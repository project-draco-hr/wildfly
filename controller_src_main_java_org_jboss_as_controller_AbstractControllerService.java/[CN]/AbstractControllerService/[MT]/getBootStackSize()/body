{
  String prop=SecurityActions.getSystemProperty(BOOT_STACK_SIZE_PROPERTY);
  if (prop == null) {
    return DEFAULT_BOOT_STACK_SIZE;
  }
 else {
    int base=1;
    String multiple=prop;
    int lastIdx=prop.length() - 1;
    if (lastIdx > 0) {
      char last=prop.charAt(lastIdx);
      if ('k' == last || 'K' == last) {
        multiple=prop.substring(0,lastIdx);
        base=1024;
      }
 else       if ('m' == last || 'M' == last) {
        multiple=prop.substring(0,lastIdx);
        base=1024 * 1024;
      }
    }
    try {
      return Integer.parseInt(multiple) * base;
    }
 catch (    NumberFormatException e) {
      logger.error(String.format("Invalid value %s for system property %s -- using default value [%d]",prop,BOOT_STACK_SIZE_PROPERTY,DEFAULT_BOOT_STACK_SIZE));
      return DEFAULT_BOOT_STACK_SIZE;
    }
  }
}
