{
  if (instance != null && stateful) {
    if (businessInterfaceType.equals(instance.getViewClass())) {
      return (S)instance.createProxy();
    }
 else {
      throw new UnsupportedOperationException("Accessing different views of the same SFSB is not supported yet");
    }
  }
  if (viewServices.containsKey(businessInterfaceType.getName())) {
    final ServiceController<?> serviceController=serviceRegistry.getRequiredService(viewServices.get(businessInterfaceType.getName()));
    final ComponentView view=(ComponentView)serviceController.getValue();
    instance=view.createInstance();
    return (S)instance.createProxy();
  }
 else {
    throw new IllegalArgumentException("View of type " + businessInterfaceType + " not found on bean "+ component);
  }
}
