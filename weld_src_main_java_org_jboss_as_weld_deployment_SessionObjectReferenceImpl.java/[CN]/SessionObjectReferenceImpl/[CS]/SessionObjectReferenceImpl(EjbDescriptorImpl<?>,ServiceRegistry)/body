{
  this.serviceRegistry=serviceRegistry;
  final ServiceName createServiceName=descriptor.getCreateServiceName();
  final ServiceController<?> controller=serviceRegistry.getRequiredService(createServiceName);
  component=(Component)controller.getValue();
  stateful=component instanceof StatefulSessionComponent;
  final Map<String,ServiceName> viewServices=new HashMap<String,ServiceName>();
  for (  ViewDescription view : descriptor.getComponentDescription().getViews()) {
    viewServices.put(view.getViewClassName(),view.getServiceName());
  }
  this.viewServices=viewServices;
}
