{
  if (name != null && !name.isDomainPattern()) {
    return getHelper(name).queryMBeans(name,query);
  }
 else {
    Set<ObjectInstance> instances=new HashSet<ObjectInstance>();
    if (legacyHelper != null) {
      instances.addAll(legacyHelper.queryMBeans(name,query));
    }
    if (exprHelper != null) {
      instances.addAll(exprHelper.queryMBeans(name,query));
    }
    return instances;
  }
}
