{
  try {
    if (cm instanceof TransactionTimeoutConfiguration) {
      long timeout=((TransactionTimeoutConfiguration)cm).getTimeLeftBeforeTransactionTimeout(true);
      if (timeout == -1)       return -1;
      long result=timeout / 1000;
      if ((result % 1000) != 0)       ++result;
      return (int)result;
    }
 else     return -1;
  }
 catch (  RollbackException e) {
    throw new SQLException(e);
  }
}
