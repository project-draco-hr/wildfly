{
  ConnectionRequestInfo cri=new WrappedConnectionRequestInfo(user,password);
  try {
    WrappedConnection wc=(WrappedConnection)cm.allocateConnection(mcf,cri);
    wc.setDataSource(this);
    wc.setSpy(mcf.getSpy().booleanValue());
    wc.setJndiName(mcf.getJndiName());
    return wc;
  }
 catch (  ResourceException re) {
    throw new SQLException(re);
  }
}
