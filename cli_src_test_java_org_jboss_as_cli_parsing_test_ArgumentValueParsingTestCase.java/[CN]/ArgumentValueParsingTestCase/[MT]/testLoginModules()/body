{
  ModelNode value=parse("[{code=Database, flag=required, module-options=[unauthenticatedIdentity=guest," + "dsJndiName=java:jboss/jdbc/ApplicationDS," + "principalsQuery= select password from users where username=? ,"+ "rolesQuery = \"select name, 'Roles' FROM user_roless ur, roles r, user u WHERE u.username=? and u.id = ur.user_id and ur.role_id = r.id\" ,"+ "hashAlgorithm = MD5,hashEncoding = hex] }]");
  assertNotNull(value);
  assertEquals(ModelType.LIST,value.getType());
  List<ModelNode> list=value.asList();
  assertEquals(1,list.size());
  value=list.get(0);
  assertEquals("Database",value.get("code").asString());
  assertEquals("required",value.get("flag").asString());
  value=value.get("module-options");
  assertEquals(ModelType.LIST,value.getType());
  list=value.asList();
  assertEquals(6,list.size());
  assertEquals("guest",list.get(0).get("unauthenticatedIdentity").asString());
  assertEquals("java:jboss/jdbc/ApplicationDS",list.get(1).get("dsJndiName").asString());
  assertEquals("select password from users where username=?",list.get(2).get("principalsQuery").asString());
  assertEquals("select name, 'Roles' FROM user_roless ur, roles r, user u WHERE u.username=? and u.id = ur.user_id and ur.role_id = r.id",list.get(3).get("rolesQuery").asString());
  assertEquals("MD5",list.get(4).get("hashAlgorithm").asString());
  assertEquals("hex",list.get(5).get("hashEncoding").asString());
}
