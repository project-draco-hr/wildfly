{
  File war=new File(tmpDir,"foo.war");
  File deployed=new File(tmpDir,"foo.war" + FileSystemDeploymentService.DEPLOYED);
  File undeployed=new File(tmpDir,"foo.war" + FileSystemDeploymentService.UNDEPLOYED);
  testSupport.createZip(war,0,false,false,false,false);
  TesteeSet ts=createTestee();
  ts.testee.setAutoDeployZippedContent(true);
  ts.controller.addCompositeSuccessResponse(1);
  ts.testee.scan();
  assertTrue(deployed.exists());
  deployed.delete();
  ts.controller.addCompositeSuccessResponse(1);
  ts.testee.scan();
  assertTrue(undeployed.exists());
  assertFalse(deployed.exists());
  ts.controller.addCompositeSuccessResponse(1);
  ts.testee.scan();
  assertTrue(undeployed.exists());
  assertFalse(deployed.exists());
}
