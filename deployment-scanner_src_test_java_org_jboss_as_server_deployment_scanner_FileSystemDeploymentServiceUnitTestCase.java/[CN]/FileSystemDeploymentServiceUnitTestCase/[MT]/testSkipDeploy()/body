{
  File deployment=new File(tmpDir,"foo.ear");
  deployment.mkdirs();
  File deployed=new File(tmpDir,"foo.ear" + FileSystemDeploymentService.DEPLOYED);
  File pending=new File(tmpDir,"foo.ear" + FileSystemDeploymentService.PENDING);
  File skip=createFile(tmpDir,"foo.ear" + FileSystemDeploymentService.SKIP_DEPLOY);
  TesteeSet ts=createTestee();
  ts.testee.setAutoDeployExplodedContent(true);
  ts.testee.scan();
  assertFalse(deployed.exists());
  assertFalse(pending.exists());
  skip.delete();
  ts.controller.addCompositeSuccessResponse(1);
  ts.testee.scan();
  assertTrue(deployed.exists());
  assertFalse(pending.exists());
}
