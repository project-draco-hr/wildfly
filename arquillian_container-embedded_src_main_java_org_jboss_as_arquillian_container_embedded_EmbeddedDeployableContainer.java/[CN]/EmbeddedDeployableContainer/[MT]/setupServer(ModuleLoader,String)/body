{
  if (jbossHomePath == null || jbossHomePath.isEmpty()) {
    throw new IllegalStateException("JBoss home path must be defined");
  }
  final File jbossHome=new File(jbossHomePath);
  if (!jbossHome.isDirectory()) {
    throw new IllegalStateException("Invalid jboss home directory: " + jbossHome);
  }
  SecurityActions.setSystemProperty(SYSPROP_KEY_JBOSS_HOME_DIR,jbossHome.getAbsolutePath());
  this.server=new StandaloneServerIndirection(moduleLoader,jbossHome);
}
