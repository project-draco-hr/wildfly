{
  final ServiceName unitServiceName=unit.getServiceName();
  final WSEndpointHandlersMapping mapping=getRequiredAttachment(unit,WS_ENDPOINT_HANDLERS_MAPPING_KEY);
  final String endpointClassName=classInfo.name().toString();
  if (isJaxwsEjb(classInfo)) {
    for (    final WebServiceDeclaration container : ASHelper.getJaxwsEjbs(unit)) {
      if (endpointClassName.equals(container.getComponentClassName())) {
        for (        final String handlerClassName : mapping.getHandlers(endpointClassName)) {
          final String ejbName=container.getComponentName();
          if (moduleDescription.getComponentsByClassName(handlerClassName) == null) {
            final ComponentDescription jaxwsHandlerDescription=new WSComponentDescription(ejbName,handlerClassName,moduleDescription,unitServiceName,applicationClasses);
            moduleDescription.addComponent(jaxwsHandlerDescription);
            final ServiceName serviceName=EndpointService.getServiceName(unit,ejbName);
            jaxwsHandlerDescription.addDependency(serviceName,ServiceBuilder.DependencyType.REQUIRED);
          }
        }
      }
    }
  }
 else {
    List<ServletMetaData> ddServlets=ASHelper.getJaxwsServlets(unit);
    boolean found=false;
    for (    final ServletMetaData servletMD : ddServlets) {
      if (endpointClassName.equals(ASHelper.getEndpointClassName(servletMD))) {
        found=true;
        final String endpointName=ASHelper.getEndpointName(servletMD);
        for (        final String handlerClassName : mapping.getHandlers(endpointClassName)) {
          if (moduleDescription.getComponentsByClassName(handlerClassName) == null) {
            final ComponentDescription jaxwsHandlerDescription=new WSComponentDescription(endpointName,handlerClassName,moduleDescription,unitServiceName,applicationClasses);
            moduleDescription.addComponent(jaxwsHandlerDescription);
            final ServiceName serviceName=EndpointService.getServiceName(unit,endpointName);
            jaxwsHandlerDescription.addDependency(serviceName,ServiceBuilder.DependencyType.REQUIRED);
          }
        }
      }
    }
    if (!found) {
    }
  }
}
