{
  Runnable result;
  DomainControllerSlaveClient client=hostControllerClients.get(serverIdentity.getHostName());
  if (client == null) {
    result=new Runnable(){
      @Override public void run(){
      }
    }
;
  }
 else   if (shutdown) {
    result=new ServerRestartTask(client,serverIdentity,policy,this,gracefulShutdownPeriod);
  }
 else {
    result=new RunningServerUpdateTask(client,serverIdentity,serverOp,policy,this);
  }
  return result;
}
