{
  if (this.ejbJarConfiguration == null) {
    throw MESSAGES.ejbJarConfigNotBeenSet(this,configuration.getComponentName());
  }
  configuration.getCreateDependencies().add(new DependencyConfigurator<StatelessSessionComponentCreateService>(){
    @Override public void configureDependency(    ServiceBuilder<?> builder,    StatelessSessionComponentCreateService service) throws DeploymentUnitProcessingException {
      if (service.getClustering() != null) {
        builder.addDependency(CacheFactoryService.DEFAULT_CLUSTERED_SFSB_CACHE_SERVICE_NAME);
      }
    }
  }
);
  return new StatelessSessionComponentCreateService(configuration,this.ejbJarConfiguration);
}
