{
  final ModelNode model=context.readModel(PathAddress.EMPTY_ADDRESS);
  PathAddress rootAddress=PathAddress.pathAddress(PathAddress.pathAddress(operation.require(OP_ADDR)).getLastElement());
  final ModelNode subsystem=new ModelNode();
  subsystem.get(OP).set(ADD);
  subsystem.get(OP_ADDR).set(rootAddress.toModelNode());
  if (model.has(ACTIVATION)) {
    subsystem.get(ACTIVATION).set(model.get(ACTIVATION));
  }
  if (model.has(CONFIGURATION)) {
    subsystem.get(CONFIGURATION).set(model.get(CONFIGURATION));
  }
  if (model.has(PROPERTIES)) {
    subsystem.get(PROPERTIES).set(model.get(PROPERTIES));
  }
  if (model.has(MODULES)) {
    subsystem.get(MODULES).set(model.get(MODULES));
  }
  context.getResult().add(subsystem);
  context.completeStep();
}
