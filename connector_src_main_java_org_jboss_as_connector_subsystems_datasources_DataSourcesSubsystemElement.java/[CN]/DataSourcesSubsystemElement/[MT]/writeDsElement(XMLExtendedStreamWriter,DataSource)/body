{
  streamWriter.writeStartElement(DataSources.Tag.DATASOURCE.getLocalName());
  streamWriter.writeAttribute(DataSource.Attribute.JNDINAME.getLocalName(),ds.getJndiName());
  if (ds.isEnabled() != null)   streamWriter.writeAttribute(DataSource.Attribute.ENABLED.getLocalName(),ds.isEnabled().toString());
  if (ds.isUseJavaContext() != null)   streamWriter.writeAttribute(DataSource.Attribute.USEJAVACONTEXT.getLocalName(),ds.isUseJavaContext().toString());
  streamWriter.writeAttribute(DataSource.Attribute.POOL_NAME.getLocalName(),ds.getPoolName());
  if (ds.getConnectionUrl() != null) {
    streamWriter.writeStartElement(DataSource.Tag.CONNECTIONURL.getLocalName());
    streamWriter.writeCharacters(ds.getConnectionUrl());
    streamWriter.writeEndElement();
  }
  if (ds.getDriverClass() != null) {
    streamWriter.writeStartElement(DataSource.Tag.DRIVERCLASS.getLocalName());
    streamWriter.writeCharacters(ds.getDriverClass());
    streamWriter.writeEndElement();
  }
  if (ds.getModule() != null) {
    streamWriter.writeStartElement(DataSource.Tag.MODULE.getLocalName());
    streamWriter.writeCharacters(ds.getModule());
    streamWriter.writeEndElement();
  }
  if (ds.getConnectionProperties() != null) {
    for (    Entry<String,String> entry : ds.getConnectionProperties().entrySet()) {
      writeProperty(streamWriter,entry);
    }
  }
  if (ds.getNewConnectionSql() != null) {
    streamWriter.writeStartElement(DataSource.Tag.NEWCONNECTIONSQL.getLocalName());
    streamWriter.writeCharacters(ds.getNewConnectionSql());
    streamWriter.writeEndElement();
  }
  if (ds.getTransactionIsolation() != null) {
    streamWriter.writeStartElement(DataSource.Tag.TRANSACTIONISOLATION.getLocalName());
    streamWriter.writeCharacters(ds.getTransactionIsolation().name());
    streamWriter.writeEndElement();
  }
  if (ds.getUrlDelimiter() != null) {
    streamWriter.writeStartElement(DataSource.Tag.URLDELIMITER.getLocalName());
    streamWriter.writeCharacters(ds.getUrlDelimiter());
    streamWriter.writeEndElement();
  }
  if (ds.getUrlSelectorStrategyClassName() != null) {
    streamWriter.writeStartElement(DataSource.Tag.URLSELECTORSTRATEGYCLASSNAME.getLocalName());
    streamWriter.writeCharacters(ds.getUrlSelectorStrategyClassName());
    streamWriter.writeEndElement();
  }
  streamWriter.writeStartElement(DataSource.Tag.POOL.getLocalName());
  writePool(streamWriter,ds.getPool());
  streamWriter.writeEndElement();
  streamWriter.writeStartElement(DataSource.Tag.SECURITY.getLocalName());
  writeSecurity(streamWriter,ds.getSecurity());
  streamWriter.writeEndElement();
  streamWriter.writeStartElement(DataSource.Tag.VALIDATION.getLocalName());
  writeValidation(streamWriter,ds.getValidation());
  streamWriter.writeEndElement();
  streamWriter.writeStartElement(DataSource.Tag.TIMEOUT.getLocalName());
  writeTimeOut(streamWriter,ds.getTimeOut());
  streamWriter.writeEndElement();
  streamWriter.writeStartElement(XaDataSource.Tag.STATEMENT.getLocalName());
  writeStatement(streamWriter,ds.getStatement());
  streamWriter.writeEndElement();
  streamWriter.writeEndElement();
}
