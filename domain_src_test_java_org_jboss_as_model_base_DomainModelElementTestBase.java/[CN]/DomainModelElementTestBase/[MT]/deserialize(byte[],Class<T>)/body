{
  final ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(message);
  final Unmarshaller unmarshaller=MARSHALLER_FACTORY.createUnmarshaller(CONFIG);
  try {
    unmarshaller.start(Marshalling.createByteInput(byteArrayInputStream));
    final T element=unmarshaller.readObject(type);
    unmarshaller.finish();
    unmarshaller.close();
    return element;
  }
  finally {
    safeClose(unmarshaller);
  }
}
