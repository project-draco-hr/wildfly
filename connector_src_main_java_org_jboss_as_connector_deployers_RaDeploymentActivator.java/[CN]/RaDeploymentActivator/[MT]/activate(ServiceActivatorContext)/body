{
  final BatchBuilder batchBuilder=context.getBatchBuilder();
  addDeploymentProcessor(batchBuilder,new NestedJarInlineProcessor(),Phase.NESTED_JAR_INLINE_PROCESSOR);
  addDeploymentProcessor(batchBuilder,new RarConfigProcessor(),Phase.RAR_CONFIG_PROCESSOR);
  MdrService mdrService=new MdrService();
  batchBuilder.addService(ConnectorServices.IRONJACAMAR_MDR,mdrService);
  ResourceAdapterDeploymentRegistryService registryService=new ResourceAdapterDeploymentRegistryService();
  batchBuilder.addService(ConnectorServices.RESOURCE_ADAPTER_REGISTRY_SERVICE,registryService);
  JndiStrategyService jndiStrategyService=new JndiStrategyService();
  batchBuilder.addService(ConnectorServices.JNDI_STRATEGY_SERVICE,jndiStrategyService);
  RaDeploymentParsingProcessor raDeploymentParsingProcessor=new RaDeploymentParsingProcessor();
  addDeploymentProcessor(batchBuilder,raDeploymentParsingProcessor,Phase.RA_DEPLOYMENT_PARSING_PROCESSOR);
  IronJacamarDeploymentParsingProcessor ironJacamarDeploymentParsingProcessor=new IronJacamarDeploymentParsingProcessor();
  addDeploymentProcessor(batchBuilder,ironJacamarDeploymentParsingProcessor,Phase.IRON_JACAMAR_DEPLOYMENT_PARSING_PROCESSOR).addDependency(ConnectorServices.IRONJACAMAR_MDR,MetadataRepository.class,ironJacamarDeploymentParsingProcessor.getMdrInjector());
  ParsedRaDeploymentProcessor parsedRaDeploymentProcessor=new ParsedRaDeploymentProcessor();
  addDeploymentProcessor(batchBuilder,parsedRaDeploymentProcessor,Phase.PARSED_RA_DEPLOYMENT_PROCESSOR).addDependency(TxnServices.JBOSS_TXN_TRANSACTION_MANAGER,com.arjuna.ats.jbossatx.jta.TransactionManagerService.class,parsedRaDeploymentProcessor.getTxmInjector()).addDependency(ConnectorServices.IRONJACAMAR_MDR,MetadataRepository.class,parsedRaDeploymentProcessor.getMdrInjector()).addDependency(ConnectorServices.RESOURCE_ADAPTER_REGISTRY_SERVICE,ResourceAdapterDeploymentRegistry.class,parsedRaDeploymentProcessor.getRegistryInjector()).addDependency(ConnectorServices.CONNECTOR_CONFIG_SERVICE,ConnectorSubsystemConfiguration.class,parsedRaDeploymentProcessor.getConfigInjector()).addDependency(NamingService.SERVICE_NAME).addDependency(ConnectorServices.JNDI_STRATEGY_SERVICE,JndiStrategy.class,parsedRaDeploymentProcessor.getJndiInjector()).addDependency(ConnectorServices.DEFAULT_BOOTSTRAP_CONTEXT_SERVICE);
  RaXmlDeploymentProcessor raXmlDeploymentProcessor=new RaXmlDeploymentProcessor();
  addDeploymentProcessor(batchBuilder,raXmlDeploymentProcessor,Phase.RA_XML_DEPLOYMENT_PROCESSOR).addDependency(TxnServices.JBOSS_TXN_TRANSACTION_MANAGER,com.arjuna.ats.jbossatx.jta.TransactionManagerService.class,raXmlDeploymentProcessor.getTxmInjector()).addDependency(ConnectorServices.IRONJACAMAR_MDR,MetadataRepository.class,raXmlDeploymentProcessor.getMdrInjector()).addDependency(ConnectorServices.RESOURCE_ADAPTER_REGISTRY_SERVICE,ResourceAdapterDeploymentRegistry.class,raXmlDeploymentProcessor.getRegistryInjector()).addDependency(ConnectorServices.CONNECTOR_CONFIG_SERVICE,ConnectorSubsystemConfiguration.class,raXmlDeploymentProcessor.getConfigInjector()).addDependency(ConnectorServices.RESOURCEADAPTERS_SERVICE,ResourceAdapters.class,raXmlDeploymentProcessor.getRaxmlValueInjector()).addDependency(NamingService.SERVICE_NAME).addDependency(ConnectorServices.JNDI_STRATEGY_SERVICE,JndiStrategy.class,raXmlDeploymentProcessor.getJndiInjector()).addDependency(ConnectorServices.DEFAULT_BOOTSTRAP_CONTEXT_SERVICE);
  DsDependencyProcessor dsDependencyProcessor=new DsDependencyProcessor();
  addDeploymentProcessor(batchBuilder,dsDependencyProcessor,Phase.DS_DEPENDENCY_PROCESSOR).addDependency(ConnectorServices.DATASOURCES_SERVICE,DataSources.class,dsDependencyProcessor.getDsValueInjector()).setInitialMode(Mode.ACTIVE);
  DsDeploymentProcessor dsDeploymentProcessor=new DsDeploymentProcessor();
  addDeploymentProcessor(batchBuilder,dsDeploymentProcessor,Phase.DS_DEPLOYMENT_PROCESSOR).addDependency(TxnServices.JBOSS_TXN_TRANSACTION_MANAGER,com.arjuna.ats.jbossatx.jta.TransactionManagerService.class,dsDeploymentProcessor.getTxmInjector()).addDependency(ConnectorServices.IRONJACAMAR_MDR,MetadataRepository.class,dsDeploymentProcessor.getMdrInjector()).addDependency(ConnectorServices.RESOURCE_ADAPTER_REGISTRY_SERVICE,ResourceAdapterDeploymentRegistry.class,dsDeploymentProcessor.getRegistryInjector()).addDependency(ConnectorServices.JNDI_STRATEGY_SERVICE,JndiStrategy.class,dsDeploymentProcessor.getJndiInjector()).addDependency(ConnectorServices.DATASOURCES_SERVICE,DataSources.class,dsDeploymentProcessor.getDsValueInjector()).setInitialMode(Mode.ACTIVE);
}
