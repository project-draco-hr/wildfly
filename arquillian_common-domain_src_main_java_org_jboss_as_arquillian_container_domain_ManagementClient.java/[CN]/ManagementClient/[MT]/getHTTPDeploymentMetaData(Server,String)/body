{
  URI webURI=getProtocolURI(server,PROTOCOL_HTTP);
  HTTPContext context=new HTTPContext(webURI.getHost(),webURI.getPort());
  try {
    ModelNode deploymentNode=readResource(createHostServerDeploymentAddress(server.getHost(),server.getName(),uniqueDeploymentName),false);
    if (isWebArchive(uniqueDeploymentName)) {
      extractWebArchiveContexts(context,deploymentNode);
    }
 else     if (isEnterpriseArchive(uniqueDeploymentName)) {
      extractEnterpriseArchiveContexts(context,deploymentNode);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Could not extract deployment information for server: " + server + " on deployment: "+ uniqueDeploymentName,e);
  }
  return context;
}
