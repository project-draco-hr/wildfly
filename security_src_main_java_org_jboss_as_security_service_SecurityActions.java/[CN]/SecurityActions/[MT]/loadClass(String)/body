{
  if (System.getSecurityManager() != null) {
    try {
      return AccessController.doPrivileged(new PrivilegedExceptionAction<Class<?>>(){
        public Class<?> run() throws ClassNotFoundException {
          ClassLoader[] cls=new ClassLoader[]{SecurityActions.class.getClassLoader(),getContextClassLoader(),ClassLoader.getSystemClassLoader()};
          ClassNotFoundException e=null;
          for (          ClassLoader cl : cls) {
            if (cl == null)             continue;
            try {
              return cl.loadClass(name);
            }
 catch (            ClassNotFoundException ce) {
              e=ce;
            }
          }
          throw e != null ? e : new ClassNotFoundException(name);
        }
      }
);
    }
 catch (    PrivilegedActionException pae) {
      throw new ClassNotFoundException(name,pae);
    }
  }
 else {
    ClassLoader[] cls=new ClassLoader[]{SecurityActions.class.getClassLoader(),getContextClassLoader(),ClassLoader.getSystemClassLoader()};
    ClassNotFoundException e=null;
    for (    ClassLoader cl : cls) {
      if (cl == null)       continue;
      try {
        return cl.loadClass(name);
      }
 catch (      ClassNotFoundException ce) {
        e=ce;
      }
    }
    throw e != null ? e : new ClassNotFoundException(name);
  }
}
