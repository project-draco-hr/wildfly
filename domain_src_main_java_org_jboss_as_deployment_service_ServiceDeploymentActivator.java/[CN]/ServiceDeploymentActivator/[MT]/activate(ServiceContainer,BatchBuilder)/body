{
  final DeploymentChainService deploymentChainService=new DeploymentChainService(new DeploymentChainImpl("deployment.chain.service"));
  batchBuilder.addService(SERVICE_DEPLOYMENT_CHAIN_NAME,deploymentChainService).addDependency(DeploymentChainProvider.SERVICE_NAME).toInjector(new DeploymentChainProvider.SelectorInjector(deploymentChainService,Values.immediateValue(new ServiceDeploymentChainSelector()),SERVICE_DEPLOYMENT_CHAIN_PRIORITY));
  final ServiceName processorNameBase=ServiceName.JBOSS.append("deployment","processor");
  addProcessor(batchBuilder,processorNameBase.append("module","dependency"),new ModuleDependencyProcessor(),ModuleDependencyProcessor.PRIORITY);
  addProcessor(batchBuilder,processorNameBase.append("module","config"),new ModuleConfgProcessor(),ModuleConfgProcessor.PRIORITY);
  addProcessor(batchBuilder,processorNameBase.append("module","deployment"),new ModuleDeploymentProcessor(),ModuleDeploymentProcessor.PRIORITY);
  addProcessor(batchBuilder,processorNameBase.append("service","parser"),new ServiceDeploymentParsingProcessor(),ServiceDeploymentParsingProcessor.PRIORITY);
  addProcessor(batchBuilder,processorNameBase.append("service","deployment"),new ServiceDeploymentProcessor(),ServiceDeploymentProcessor.PRIORITY);
  addProcessor(batchBuilder,processorNameBase.append("service","parsed","deployment"),new ParsedServiceDeploymentProcessor(),ParsedServiceDeploymentProcessor.PRIORITY);
}
