{
  try {
    future.set(receiveResponse(connection,dataStream));
  }
 catch (  ManagementException e) {
    future.setException(e);
  }
catch (  Throwable t) {
    future.setException(new ManagementException("Failed to handle management message",t));
  }
 finally {
    safeClose(dataStream);
  }
}
