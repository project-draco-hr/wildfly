{
  final ByteDataInput input=new SimpleByteDataInput(dataStream);
  final ManagementResponseHeader responseHeader;
  try {
    responseHeader=new ManagementResponseHeader(input);
    if (requestId != responseHeader.getResponseId()) {
      throw new IOException("Invalid request ID expecting " + requestId + " received "+ responseHeader.getResponseId());
    }
    connection.setMessageHandler(ManagementRequest.this);
    sendRequest(responseHeader.getVersion(),connection);
  }
 catch (  ManagementException e) {
    throw new IOException("Failed to read response header",e);
  }
}
