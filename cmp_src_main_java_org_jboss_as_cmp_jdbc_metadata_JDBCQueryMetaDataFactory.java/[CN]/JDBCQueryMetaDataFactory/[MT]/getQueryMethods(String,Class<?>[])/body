{
  List<Method> methods=new ArrayList<Method>(2);
  if (methodName.startsWith("ejbSelect")) {
    Method method=getQueryMethod(methodName,parameters,entity.getEntityClass());
    if (method != null) {
      methods.add(method);
    }
  }
 else {
    Class<?> homeClass=entity.getHomeClass();
    if (homeClass != null) {
      Method method=getQueryMethod(methodName,parameters,homeClass);
      if (method != null) {
        methods.add(method);
      }
    }
    Class<?> localHomeClass=entity.getLocalHomeClass();
    if (localHomeClass != null) {
      Method method=getQueryMethod(methodName,parameters,localHomeClass);
      if (method != null) {
        methods.add(method);
      }
    }
  }
  if (methods.size() == 0) {
    StringBuffer sb=new StringBuffer(300);
    for (int i=0; i < parameters.length; i++) {
      if (i > 0) {
        sb.append(',');
      }
      sb.append(parameters[i].getName());
    }
    throw MESSAGES.queryMethodNotFound(methodName,sb.toString());
  }
  return methods;
}
