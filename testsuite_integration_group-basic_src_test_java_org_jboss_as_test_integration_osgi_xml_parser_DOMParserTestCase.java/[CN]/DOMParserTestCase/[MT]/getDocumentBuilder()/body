{
  BundleContext context=bundle.getBundleContext();
  String filter="(" + XMLParserCapability.PARSER_PROVIDER + "="+ XMLParserCapability.PROVIDER_JBOSS_OSGI+ ")";
  ServiceReference[] srefs=context.getServiceReferences(DocumentBuilderFactory.class.getName(),filter);
  if (srefs == null)   throw new IllegalStateException("DocumentBuilderFactory not available");
  DocumentBuilderFactory factory=(DocumentBuilderFactory)context.getService(srefs[0]);
  factory.setValidating(false);
  DocumentBuilder domBuilder=factory.newDocumentBuilder();
  return domBuilder;
}
