{
  long cutoff=System.currentTimeMillis() + timeoutMillis;
  TestProcessListenerStream stream=null;
  do {
synchronized (this) {
      stream=listenerThreadsByProcessName.get(name);
    }
    if (stream == null) {
      try {
        Thread.sleep(50);
      }
 catch (      InterruptedException ignore) {
      }
    }
  }
 while (stream == null && System.currentTimeMillis() < cutoff);
  return stream;
}
