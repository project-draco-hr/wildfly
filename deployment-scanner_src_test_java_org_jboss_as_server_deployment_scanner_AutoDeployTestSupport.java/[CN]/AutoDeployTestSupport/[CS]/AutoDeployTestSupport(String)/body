{
  File tmp=new File(System.getProperty("java.io.tmpdir"));
  tmpDir=new File(tmp,testId);
  cleanFile(tmpDir);
  tmpDir.mkdirs();
  tmpDir.deleteOnExit();
  ClassLoader tccl=Thread.currentThread().getContextClassLoader();
  URL webxml=tccl.getResource("basic.war/web.xml");
  WebArchive war=ShrinkWrap.create(WebArchive.class,"basic.war");
  URL resource=tccl.getResource("basic.war/index.html");
  if (resource == null)   throw new IllegalStateException("basic.war/index.html not found");
  war.addAsResource(resource,"index.html");
  war.setWebXML(webxml);
  basicWar=new File(tmpDir,"basic.war");
  basicWar.deleteOnExit();
  war.as(ZipExporter.class).exportTo(basicWar,true);
}
