{
  if (this.lockManager == null)   return null;
  Serializable lockKey=this.lockKeyFactory.createLockKey(key);
  this.trace("Acquiring %slock on %s",newLock ? "new " : "",lockKey);
  long timeout=this.cache.getCacheConfiguration().locking().lockAcquisitionTimeout();
  try {
    LockResult result=this.lockManager.lock(lockKey,timeout,newLock);
    this.trace("Lock acquired (%s) on %s",result,lockKey);
    return result;
  }
 catch (  TimeoutException e) {
    throw InfinispanEjbMessages.MESSAGES.lockAcquisitionTimeout(lockKey,timeout);
  }
catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw InfinispanEjbMessages.MESSAGES.lockAcquisitionInterruption(e,lockKey);
  }
}
