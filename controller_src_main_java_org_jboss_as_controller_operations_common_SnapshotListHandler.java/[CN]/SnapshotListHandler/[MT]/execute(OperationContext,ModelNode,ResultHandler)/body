{
  try {
    SnapshotInfo info=persister.listSnapshots();
    ModelNode result=new ModelNode();
    result.get(ModelDescriptionConstants.DIRECTORY).set(info.getSnapshotDirectory());
    result.get(ModelDescriptionConstants.NAMES).setEmptyList();
    for (    String name : info.names()) {
      result.get(ModelDescriptionConstants.NAMES).add(name);
    }
    resultHandler.handleResultFragment(new String[0],result);
    resultHandler.handleResultComplete();
    return new BasicOperationResult();
  }
 catch (  Exception e) {
    throw new OperationFailedException(e.getMessage(),new ModelNode().set(e.getMessage()));
  }
}
