{
  this.host=host;
  final Context context=this.context.getValue();
  if (("/" + host.getHost().getDefaultWebapp()).equals(context.getPath())) {
    if (host.hasWelcomeRoot())     throw new IllegalStateException("Root contexts can not be deployed when the virtual host configuration has the welcome root enabled, disable it and redeploy");
    context.setPath("");
  }
  context.getLoader().setContainer(host.getHost());
  host.getHost().addChild(context);
}
