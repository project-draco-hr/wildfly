{
  final Index index=phaseContext.getAttachment(Attachments.ANNOTATION_INDEX);
  if (index == null)   return;
  final DotName runWithName=DotName.createSimple(RunWith.class.getName());
  final List<AnnotationTarget> targets=index.getAnnotationTargets(runWithName);
  if (targets == null || targets.isEmpty())   return;
  final DeploymentUnit deploymentUnitContext=phaseContext.getDeploymentUnitContext();
  ArquillianConfig arqConfig=new ArquillianConfig(deploymentUnitContext);
  deploymentUnitContext.putAttachment(ArquillianConfig.KEY,arqConfig);
  for (  AnnotationTarget target : targets) {
    if (target instanceof ClassInfo) {
      final ClassInfo classInfo=(ClassInfo)target;
      final String testClassName=classInfo.name().toString();
      arqConfig.addTestClass(testClassName);
    }
  }
}
