{
  final URL url=new URL(spec);
  Callable<String> task=new Callable<String>(){
    @Override public String call() throws Exception {
      final HttpURLConnection conn=(HttpURLConnection)url.openConnection();
      if (username != null) {
        final String userpassword=username + ":" + password;
        final String basicAuthorization=Base64.encodeBytes(userpassword.getBytes());
        conn.setRequestProperty("Authorization","Basic " + basicAuthorization);
      }
      conn.setDoInput(true);
      return processResponse(conn);
    }
  }
;
  return execute(task,timeout,unit);
}
