{
  final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=resource.getModel();
  for (  final AttributeDefinition definition : InterfaceDescription.ROOT_ATTRIBUTES) {
    final String attributeName=definition.getName();
    final boolean has=model.hasDefined(attributeName);
    if (!has && isRequired(definition,model)) {
      throw new OperationFailedException(new ModelNode().set(attributeName + "is required"));
    }
    if (has) {
      if (!isAllowed(definition,model)) {
        throw new OperationFailedException(new ModelNode().set(attributeName + "is invalid"));
      }
    }
  }
  context.completeStep();
}
