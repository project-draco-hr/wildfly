{
  final Resource resource=context.readResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=resource.getModel();
  for (  final AttributeDefinition definition : InterfaceDefinition.ROOT_ATTRIBUTES) {
    final String attributeName=definition.getName();
    final boolean has=model.hasDefined(attributeName);
    if (!has && isRequired(definition,model)) {
      throw new OperationFailedException(new ModelNode().set(MESSAGES.required(attributeName)));
    }
    if (has) {
      if (definition.getType() == ModelType.BOOLEAN && !model.get(attributeName).asBoolean()) {
        continue;
      }
      if (!isAllowed(definition,model)) {
        String[] alts=definition.getAlternatives();
        StringBuilder sb=null;
        if (alts != null) {
          for (          String alt : alts) {
            if (model.hasDefined(alt)) {
              if (sb == null) {
                sb=new StringBuilder();
              }
 else {
                sb.append(", ");
              }
              sb.append(alt);
            }
          }
        }
        throw new OperationFailedException(new ModelNode().set(MESSAGES.invalidAttributeCombo(attributeName,sb)));
      }
    }
  }
  context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
}
