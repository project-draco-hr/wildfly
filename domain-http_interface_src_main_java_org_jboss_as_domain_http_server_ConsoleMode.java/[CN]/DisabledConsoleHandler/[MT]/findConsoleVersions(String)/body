{
  String path=moduleName.replace('.','/');
  final String modulePath=SecurityActions.getProperty("module.path");
  File[] moduleRoots=getFiles(modulePath,0,0);
  SortedSet<ConsoleVersion> consoleVersions=new TreeSet<ConsoleVersion>();
  for (  File root : moduleRoots) {
    findConsoleModules(root,path,consoleVersions);
    File layers=new File(root,"system" + File.separator + "layers");
    File[] children=layers.listFiles();
    if (children != null) {
      for (      File child : children) {
        findConsoleModules(child,path,consoleVersions);
      }
    }
    File addOns=new File(root,"system" + File.separator + "add-ons");
    children=addOns.listFiles();
    if (children != null) {
      for (      File child : children) {
        findConsoleModules(child,path,consoleVersions);
      }
    }
  }
  return consoleVersions;
}
