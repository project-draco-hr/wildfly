{
  ModelNode op=operation.clone();
  for (  String attr : attributes) {
    ModelNode value=op.get(attr);
    if (value.isDefined() || correctUndefinedValue()) {
      if (checkValue(attr,value,false)) {
        AttributesPathAddressConfig<?> complexChildConfig=complexAttributes.get(attr);
        if (complexChildConfig == null) {
          ModelNode resolved=correctValue(op.get(attr),false);
          op.get(attr).set(resolved);
        }
 else {
          op.get(attr).set(complexChildConfig.correctOperation(operation.get(attr)));
        }
        return op;
      }
    }
  }
  return operation;
}
