{
  ModelNode op=operation.clone();
  for (  String attr : attributes) {
    ModelNode value=op.get(attr);
    if (value.isDefined()) {
      if (hasExpressions(attr,value)) {
        RejectExpressionsConfig complexChildConfig=complexAttributes.get(attr);
        if (complexChildConfig == null) {
          ModelNode resolved=resolveValue(op.get(attr));
          op.get(attr).set(resolved);
        }
 else {
          op.get(attr).set(complexChildConfig.correctOperation(operation.get(attr)));
        }
        return op;
      }
    }
  }
  return operation;
}
