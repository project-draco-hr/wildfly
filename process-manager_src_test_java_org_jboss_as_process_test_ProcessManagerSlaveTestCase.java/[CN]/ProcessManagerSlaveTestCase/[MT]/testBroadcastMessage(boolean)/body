{
  addProcess("ProcA",ProcessManagerSlaveProcess.class);
  TestProcessListenerStream listenerA=startTestProcessListenerAndWait("ProcA");
  addProcess("ProcB",ProcessManagerSlaveProcess.class);
  TestProcessListenerStream listenerB=startTestProcessListenerAndWait("ProcB");
  addProcess("ProcC",ProcessManagerSlaveProcess.class);
  TestProcessListenerStream listenerC=startTestProcessListenerAndWait("ProcC");
  sendMessage(string,"Test","ProcA","Bcst$Hello");
  assertEquals("Test-ProcA-Bcst$Hello",listenerA.readMessage());
  assertEquals("ProcA-ProcB-Hello",listenerB.readMessage());
  assertEquals("ProcA-ProcC-Hello",listenerC.readMessage());
  assertEquals("ProcA-ProcA-Hello",listenerA.readMessage());
  stopTestProcessListenerAndWait(listenerA);
  stopTestProcessListenerAndWait(listenerB);
  stopTestProcessListenerAndWait(listenerC);
  removeProcess("ProcA");
  removeProcess("ProcB");
  removeProcess("ProcC");
}
