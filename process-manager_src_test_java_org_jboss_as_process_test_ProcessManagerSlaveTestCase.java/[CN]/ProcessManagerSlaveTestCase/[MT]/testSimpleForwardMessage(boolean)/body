{
  addProcess("ProcA",ProcessManagerSlaveProcess.class);
  TestProcessListenerStream listenerA=startTestProcessListenerAndWait("ProcA");
  addProcess("ProcB",ProcessManagerSlaveProcess.class);
  TestProcessListenerStream listenerB=startTestProcessListenerAndWait("ProcB");
  sendMessage(string,"Test","ProcA","Fwd$ProcB$Hello");
  assertEquals("Test-ProcA-Fwd$ProcB$Hello",listenerA.readMessage());
  assertEquals("ProcA-ProcB-Hello",listenerB.readMessage());
  stopTestProcessListenerAndWait(listenerA);
  stopTestProcessListenerAndWait(listenerB);
  removeProcess("ProcA");
  removeProcess("ProcB");
}
