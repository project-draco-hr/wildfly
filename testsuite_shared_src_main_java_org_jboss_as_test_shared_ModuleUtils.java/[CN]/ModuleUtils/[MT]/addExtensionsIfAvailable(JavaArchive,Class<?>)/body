{
  List<Class<Extension>> extensions=new ArrayList<>(1);
  for (  Class<?> clazz : classes) {
    if (Extension.class.isAssignableFrom(clazz)) {
      extensions.add((Class<Extension>)clazz);
    }
  }
  if (!extensions.isEmpty()) {
    Class<Extension>[] a=(Class<Extension>[])Array.newInstance(Extension.class.getClass(),0);
    jar.addAsServiceProvider(Extension.class,extensions.toArray(a));
  }
}
