{
  final VirtualFile webinfLib=deploymentRoot.getChild(WEB_INF_LIB);
  if (webinfLib.exists()) {
    final List<VirtualFile> archives=webinfLib.getChildren(DEFAULT_WEB_INF_LIB_FILTER);
    for (    final VirtualFile archive : archives) {
      try {
        final Closeable closable=VFS.mountZip(archive,archive,TempFileProviderService.provider());
        final ResourceRoot webInfArchiveRoot=new ResourceRoot(archive.getName(),archive,new MountHandle(closable));
        ResourceRootTypeMarker.setType(ResourceRootType.MODULE_ROOT,webInfArchiveRoot);
        entries.add(webInfArchiveRoot);
      }
 catch (      IOException e) {
        throw new DeploymentUnitProcessingException("failed to process " + archive,e);
      }
    }
  }
}
