{
  writer.writeStartElement(Element.DOMAIN_CONTROLLER.getLocalName());
  if (modelNode.hasDefined(LOCAL)) {
    if (discoveryOptionsOrdering != null) {
      writer.writeStartElement(Element.LOCAL.getLocalName());
      writeDiscoveryOptions(writer,discoveryOptionsOrdering,staticDiscoveryOptions,discoveryOptions);
      writer.writeEndElement();
    }
 else {
      writer.writeEmptyElement(Element.LOCAL.getLocalName());
    }
  }
 else   if (modelNode.hasDefined(REMOTE)) {
    writer.writeStartElement(Element.REMOTE.getLocalName());
    final ModelNode remote=modelNode.get(REMOTE);
    RemoteDomainControllerAddHandler.HOST.marshallAsAttribute(remote,writer);
    RemoteDomainControllerAddHandler.PORT.marshallAsAttribute(remote,writer);
    RemoteDomainControllerAddHandler.SECURITY_REALM.marshallAsAttribute(remote,writer);
    RemoteDomainControllerAddHandler.USERNAME.marshallAsAttribute(remote,writer);
    RemoteDomainControllerAddHandler.IGNORE_UNUSED_CONFIG.marshallAsAttribute(remote,writer);
    RemoteDomainControllerAddHandler.ADMIN_ONLY_POLICY.marshallAsAttribute(remote,writer);
    if (ignoredResources != null) {
      writeIgnoredResources(writer,ignoredResources);
    }
    if (discoveryOptionsOrdering != null) {
      writeDiscoveryOptions(writer,discoveryOptionsOrdering,staticDiscoveryOptions,discoveryOptions);
    }
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
