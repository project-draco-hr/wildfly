{
  for (  Property prop : modelNode.asPropertyList()) {
    final ModelNode server=prop.getValue();
    writer.writeStartElement(Element.SERVER.getLocalName());
    writeAttribute(writer,Attribute.NAME,prop.getName());
    ServerConfigResourceDefinition.GROUP.marshallAsAttribute(server,writer);
    ServerConfigResourceDefinition.AUTO_START.marshallAsAttribute(server,writer);
    if (server.hasDefined(PATH)) {
      writePaths(writer,server.get(PATH),false);
    }
    if (server.hasDefined(SYSTEM_PROPERTY)) {
      writeProperties(writer,server.get(SYSTEM_PROPERTY),Element.SYSTEM_PROPERTIES,false);
    }
    if (server.hasDefined(INTERFACE)) {
      writeInterfaces(writer,server.get(INTERFACE));
    }
    if (server.hasDefined(JVM)) {
      for (      final Property jvm : server.get(JVM).asPropertyList()) {
        JvmXml.writeJVMElement(writer,jvm.getName(),jvm.getValue());
        break;
      }
    }
    if (server.hasDefined(SOCKET_BINDING_GROUP) || server.hasDefined(SOCKET_BINDING_PORT_OFFSET)) {
      writer.writeStartElement(Element.SOCKET_BINDINGS.getLocalName());
      ServerConfigResourceDefinition.SOCKET_BINDING_GROUP.marshallAsAttribute(server,writer);
      ServerConfigResourceDefinition.SOCKET_BINDING_PORT_OFFSET.marshallAsAttribute(server,writer);
      writer.writeEndElement();
    }
    writer.writeEndElement();
  }
}
