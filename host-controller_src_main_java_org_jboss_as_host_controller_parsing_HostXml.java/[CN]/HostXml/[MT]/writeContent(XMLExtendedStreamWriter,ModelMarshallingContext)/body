{
  final ModelNode modelNode=context.getModelNode();
  writer.writeStartDocument();
  writer.writeStartElement(Element.HOST.getLocalName());
  if (modelNode.hasDefined(NAME)) {
    writeAttribute(writer,Attribute.NAME,modelNode.get(NAME).asString());
  }
  writer.writeDefaultNamespace(Namespace.CURRENT.getUriString());
  writeNamespaces(writer,modelNode);
  writeSchemaLocation(writer,modelNode);
  writeNewLine(writer);
  if (modelNode.hasDefined(SYSTEM_PROPERTY)) {
    writeProperties(writer,modelNode.get(SYSTEM_PROPERTY),Element.SYSTEM_PROPERTIES,false);
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(PATH)) {
    writePaths(writer,modelNode.get(PATH));
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(CORE_SERVICE) && modelNode.get(CORE_SERVICE).hasDefined(VAULT)) {
    writeVault(writer,modelNode.get(CORE_SERVICE,VAULT));
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(CORE_SERVICE) && modelNode.get(CORE_SERVICE).hasDefined(MANAGEMENT)) {
    ManagementXml managementXml=new ManagementXml(this);
    managementXml.writeManagement(writer,modelNode.get(CORE_SERVICE,MANAGEMENT),true);
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(DOMAIN_CONTROLLER)) {
    writeDomainController(writer,modelNode.get(DOMAIN_CONTROLLER));
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(INTERFACE)) {
    writeInterfaces(writer,modelNode.get(INTERFACE));
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(JVM)) {
    writer.writeStartElement(Element.JVMS.getLocalName());
    for (    final Property jvm : modelNode.get(JVM).asPropertyList()) {
      writeJVMElement(writer,jvm.getName(),jvm.getValue());
    }
    writer.writeEndElement();
    writeNewLine(writer);
  }
  if (modelNode.hasDefined(SERVER_CONFIG)) {
    writeServers(writer,modelNode.get(SERVER_CONFIG));
    writeNewLine(writer);
  }
  writer.writeEndElement();
  writeNewLine(writer);
  writer.writeEndDocument();
}
