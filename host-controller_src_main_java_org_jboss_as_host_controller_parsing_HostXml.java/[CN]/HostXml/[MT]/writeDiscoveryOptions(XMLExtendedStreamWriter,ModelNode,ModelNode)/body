{
  writer.writeStartElement(Element.DISCOVERY_OPTIONS.getLocalName());
  if (staticDiscoveryOptions != null) {
    for (    Property property : staticDiscoveryOptions.asPropertyList()) {
      final ModelNode staticDiscoveryOption=property.getValue();
      writer.writeStartElement(Element.STATIC_DISCOVERY.getLocalName());
      writeAttribute(writer,Attribute.NAME,property.getName());
      StaticDiscoveryResourceDefinition.HOST.marshallAsAttribute(staticDiscoveryOption,writer);
      StaticDiscoveryResourceDefinition.PORT.marshallAsAttribute(staticDiscoveryOption,writer);
      writer.writeEndElement();
    }
  }
  if (discoveryOptions != null) {
    for (    Property property : discoveryOptions.asPropertyList()) {
      final ModelNode discoveryOption=property.getValue();
      writer.writeStartElement(Element.DISCOVERY_OPTION.getLocalName());
      writeAttribute(writer,Attribute.NAME,property.getName());
      DiscoveryOptionResourceDefinition.CODE.marshallAsAttribute(discoveryOption,writer);
      DiscoveryOptionResourceDefinition.MODULE.marshallAsAttribute(discoveryOption,writer);
      if (discoveryOption.hasDefined(PROPERTIES)) {
        writeDiscoveryOptionProperties(writer,discoveryOption.get(PROPERTIES));
      }
      writer.writeEndElement();
    }
  }
  writer.writeEndElement();
}
