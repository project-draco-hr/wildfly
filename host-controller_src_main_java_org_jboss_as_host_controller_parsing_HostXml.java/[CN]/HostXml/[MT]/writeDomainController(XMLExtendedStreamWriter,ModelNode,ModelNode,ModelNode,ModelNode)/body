{
  writer.writeStartElement(Element.DOMAIN_CONTROLLER.getLocalName());
  if (modelNode.hasDefined(LOCAL)) {
    if ((staticDiscoveryOptions != null) || (discoveryOptions != null)) {
      writer.writeStartElement(Element.LOCAL.getLocalName());
      writeDiscoveryOptions(writer,staticDiscoveryOptions,discoveryOptions);
      writer.writeEndElement();
    }
 else {
      writer.writeEmptyElement(Element.LOCAL.getLocalName());
    }
  }
 else   if (modelNode.hasDefined(REMOTE)) {
    writer.writeStartElement(Element.REMOTE.getLocalName());
    final ModelNode remote=modelNode.get(REMOTE);
    if (remote.hasDefined(HOST)) {
      writeAttribute(writer,Attribute.HOST,remote.get(HOST).asString());
    }
    if (remote.hasDefined(PORT)) {
      writeAttribute(writer,Attribute.PORT,remote.get(PORT).asString());
    }
    if (remote.hasDefined(SECURITY_REALM)) {
      writeAttribute(writer,Attribute.SECURITY_REALM,remote.require(SECURITY_REALM).asString());
    }
    if (remote.hasDefined(USERNAME)) {
      writeAttribute(writer,Attribute.USERNAME,remote.require(USERNAME).asString());
    }
    if (ignoredResources != null) {
      writeIgnoredResources(writer,ignoredResources);
    }
    if ((staticDiscoveryOptions != null) || (discoveryOptions != null)) {
      writeDiscoveryOptions(writer,staticDiscoveryOptions,discoveryOptions);
    }
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
