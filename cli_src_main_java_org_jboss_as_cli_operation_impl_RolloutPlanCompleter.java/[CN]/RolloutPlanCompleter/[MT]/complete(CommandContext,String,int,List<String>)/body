{
  final ParsedCommandLine parsedCmd=ctx.getParsedCommandLine();
  final List<ParsedOperationRequestHeader> headers=parsedCmd.getHeaders();
  if (headers.isEmpty()) {
    candidates.addAll(Util.getServerGroups(ctx.getModelControllerClient()));
    return buffer.length();
  }
  final ParsedOperationRequestHeader lastHeader=headers.get(headers.size() - 1);
  if (!(lastHeader instanceof ParsedRolloutPlanHeader)) {
    throw new IllegalStateException("Expected " + ParsedRolloutPlanHeader.class + " but got "+ lastHeader);
  }
  final ParsedRolloutPlanHeader rollout=(ParsedRolloutPlanHeader)lastHeader;
  final RolloutPlanGroup lastGroup=rollout.getLastGroup();
  if (lastGroup == null) {
    return -1;
  }
  return -1;
}
