{
  int i=1;
  for (  ObjectInstance participant : participants) {
    final ModelNode participantAddress=parent.clone();
    final ModelNode participantOperation=new ModelNode();
    Map<String,String> pAttributes=getMBeanValues(mbs,participant.getObjectName(),LogStoreConstants.PARTICIPANT_JMX_NAMES);
    String pAddress=pAttributes.get(JNDI_PROPNAME);
    if (pAddress.length() == 0) {
      pAttributes.put(JNDI_PROPNAME,String.valueOf(i));
      pAddress=pAttributes.get(JNDI_PROPNAME);
    }
    operation.get(OP).set(ADD);
    participantAddress.add(LogStoreConstants.PARTICIPANTS,pAddress);
    participantOperation.get(OP_ADDR).set(participantAddress);
    addAttributes(participantOperation,LogStoreConstants.MODEL_TO_JMX_PARTICIPANT_NAMES,pAttributes);
    participantOperation.get(LogStoreConstants.JMX_ON_ATTRIBUTE).set(participant.getObjectName().getCanonicalName());
    context.addStep(participantOperation,LogStoreParticipantAddHandler.INSTANCE,OperationContext.Stage.MODEL);
  }
}
