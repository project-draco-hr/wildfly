{
  final Class<?> componentClass=componentConfiguration.getAttachment(Attachments.COMPONENT_CLASS);
  final Module module=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  final ClassLoader classLoader=module.getClassLoader();
  final ManagedBeanComponent container=createComponent(componentClass,classLoader,componentConfiguration.getAttachment(Attachments.RESOURCE_INJECTIONS),componentConfiguration.getAttachment(Attachments.POST_CONSTRUCTS),componentConfiguration.getAttachment(Attachments.PRE_DESTROYS),componentConfiguration.getAttachment(Attachments.COMPONENT_INTERCEPTOR_FACTORIES));
  final ServiceName containerServiceName=ServiceNames.MANAGED_BEAN.append(deploymentUnit.getName(),componentConfiguration.getName());
  final NamingContextConfig moduleContext=deploymentUnit.getAttachment(org.jboss.as.ee.naming.Attachments.MODULE_CONTEXT_CONFIG);
  final NamingContextConfig appContext=deploymentUnit.getAttachment(org.jboss.as.ee.naming.Attachments.APPLICATION_CONTEXT_CONFIG);
  final JndiName bindName=ContextNames.MODULE_CONTEXT_NAME.append(componentConfiguration.getName());
  final ServiceName envContextServiceName=moduleContext.getContextServiceName().append("env");
  return new ConstructedComponent(){
    public Component getComponent(){
      return container;
    }
    public ServiceName getComponentServiceName(){
      return containerServiceName;
    }
    public ServiceName getBindContextServiceName(){
      return moduleContext.getContextServiceName();
    }
    public String getBindName(){
      return bindName.getLocalName();
    }
    public ServiceName getEnvContextServiceName(){
      return envContextServiceName;
    }
    public ServiceName getCompContextServiceName(){
      return moduleContext.getContextServiceName();
    }
    public ServiceName getModuleContextServiceName(){
      return moduleContext.getContextServiceName();
    }
    public ServiceName getAppContextServiceName(){
      return appContext.getContextServiceName();
    }
  }
;
}
