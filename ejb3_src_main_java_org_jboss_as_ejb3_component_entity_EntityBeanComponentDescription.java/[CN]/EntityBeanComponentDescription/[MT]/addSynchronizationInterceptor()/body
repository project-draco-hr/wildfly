{
  getConfigurators().addFirst(new ComponentConfigurator(){
    @Override public void configure(    DeploymentPhaseContext context,    ComponentDescription description,    ComponentConfiguration configuration) throws DeploymentUnitProcessingException {
      configuration.addComponentInterceptor(getSynchronizationInterceptorFactory(),InterceptorOrder.Component.SYNCHRONIZATION_INTERCEPTOR,false);
      if (!reentrant) {
        configuration.addComponentInterceptor(EntityBeanReentrancyInterceptor.FACTORY,InterceptorOrder.Component.REENTRANCY_INTERCEPTOR,false);
      }
    }
  }
);
}
