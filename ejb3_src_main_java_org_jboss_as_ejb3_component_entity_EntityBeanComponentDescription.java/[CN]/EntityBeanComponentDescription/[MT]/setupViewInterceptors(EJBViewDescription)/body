{
  super.setupViewInterceptors(view);
  view.getConfigurators().add(new ViewConfigurator(){
    @Override public void configure(    DeploymentPhaseContext context,    ComponentConfiguration componentConfiguration,    ViewDescription description,    ViewConfiguration configuration) throws DeploymentUnitProcessingException {
      EJBComponentDescription ejbComponentDescription=(EJBComponentDescription)componentConfiguration.getComponentDescription();
      if (TransactionManagementType.CONTAINER.equals(ejbComponentDescription.getTransactionManagementType())) {
        configuration.addViewInterceptor(CMTTxInterceptor.FACTORY,InterceptorOrder.View.CMT_TRANSACTION_INTERCEPTOR);
      }
    }
  }
);
  if (view instanceof EjbHomeViewDescription) {
    view.getConfigurators().add(getHomeViewConfigurator());
  }
 else {
    view.getConfigurators().add(getObjectViewConfigurator());
  }
  if (view.getMethodIntf() == MethodIntf.REMOTE) {
    view.getConfigurators().add(new ViewConfigurator(){
      @Override public void configure(      final DeploymentPhaseContext context,      final ComponentConfiguration componentConfiguration,      final ViewDescription description,      final ViewConfiguration configuration) throws DeploymentUnitProcessingException {
        final EEModuleDescription moduleDescription=componentConfiguration.getComponentDescription().getModuleDescription();
        final String appName=moduleDescription.getEarApplicationName() == null ? "" : moduleDescription.getEarApplicationName();
        configuration.setViewInstanceFactory(getRemoteViewInstanceFactory(appName,componentConfiguration.getModuleName(),moduleDescription.getDistinctName(),componentConfiguration.getComponentName()));
      }
    }
);
  }
}
