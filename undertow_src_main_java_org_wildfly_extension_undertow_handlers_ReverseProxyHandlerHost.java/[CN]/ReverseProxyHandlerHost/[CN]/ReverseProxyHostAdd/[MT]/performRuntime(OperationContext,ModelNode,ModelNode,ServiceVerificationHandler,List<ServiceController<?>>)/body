{
  final PathAddress address=PathAddress.pathAddress(operation.require(ModelDescriptionConstants.OP_ADDR));
  final String name=address.getLastElement().getValue();
  final String proxyName=address.getElement(address.size() - 2).getValue();
  ReverseProxyHostService service=new ReverseProxyHostService(name);
  ServiceBuilder<ReverseProxyHostService> builder=context.getServiceTarget().addService(SERVICE_NAME.append(name),service).addDependency(UndertowService.HANDLER.append(proxyName),ProxyHandler.class,service.proxyHandler);
  if (verificationHandler != null) {
    builder.addListener(verificationHandler);
  }
  ServiceController<ReverseProxyHostService> controller=builder.install();
  if (newControllers != null) {
    newControllers.add(controller);
  }
}
