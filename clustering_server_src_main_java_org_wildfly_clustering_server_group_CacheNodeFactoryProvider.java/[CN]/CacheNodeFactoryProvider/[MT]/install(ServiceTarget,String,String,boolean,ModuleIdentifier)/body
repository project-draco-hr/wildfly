{
  InjectedValue<ChannelNodeFactory> factory=new InjectedValue<>();
  ServiceBuilder<?> builder=target.addService(getServiceName(containerName,cacheName),new CacheNodeFactoryService(factory)).addDependency(ChannelNodeFactoryProvider.getServiceName(containerName),ChannelNodeFactory.class,factory).setInitialMode(ServiceController.Mode.ON_DEMAND);
  if (defaultCache) {
    builder.addAliases(getServiceName(containerName,CacheContainer.DEFAULT_CACHE_ALIAS));
  }
  return Collections.<ServiceController<?>>singleton(builder.install());
}
