{
  for (int x=0; x < string.length(); x++) {
    final char c=string.charAt(x);
switch (c) {
case ' ':
      if (x == 0 || escapeSpaces)       out.append('\\');
    out.append(c);
  break;
case '\t':
out.append('\\').append('t');
break;
case '\n':
out.append('\\').append('n');
break;
case '\r':
out.append('\\').append('r');
break;
case '\f':
out.append('\\').append('f');
break;
case '\\':
case '=':
case ':':
case '#':
case '!':
out.append('\\').append(c);
break;
default :
out.append(c);
}
}
}
