{
  final ImmutableManagementResourceRegistration registry=context.getResourceRegistration();
  final Map<String,OperationEntry> operations=registry.getOperationDescriptions(PathAddress.EMPTY_ADDRESS,true);
  final ModelNode result=new ModelNode();
  if (operations.size() > 0) {
    for (    final Map.Entry<String,OperationEntry> entry : operations.entrySet()) {
      if (entry.getValue().getType() == OperationEntry.EntryType.PUBLIC) {
        if (context.getProcessType() != ProcessType.DOMAIN_SERVER || entry.getValue().getFlags().contains(OperationEntry.Flag.RUNTIME_ONLY)) {
          result.add(entry.getKey());
        }
      }
    }
  }
 else {
    result.setEmptyList();
  }
  context.getResult().set(result);
  context.stepCompleted();
}
