{
  final DeploymentUnit unit=phaseContext.getDeploymentUnit();
  if (this.isJaxwsJseDeployment(unit)) {
    WSDeploymentBuilder.getInstance().build(unit,EndpointType.JAXWS_JSE);
  }
  if (this.isJaxwsEjbDeployment(unit)) {
    WSDeploymentBuilder.getInstance().build(unit,EndpointType.JAXWS_EJB3);
  }
  if (this.isJaxrpcJseDeployment(unit) && !isJaxwsJseDeployment(unit) && !isJaxwsEjbDeployment(unit)) {
    WSDeploymentBuilder.getInstance().build(unit,EndpointType.JAXRPC_JSE);
  }
  if (this.isJaxrpcEjbDeployment(unit) && !isJaxwsJseDeployment(unit) && !isJaxwsEjbDeployment(unit)) {
    WSDeploymentBuilder.getInstance().build(unit,EndpointType.JAXRPC_EJB21);
  }
}
