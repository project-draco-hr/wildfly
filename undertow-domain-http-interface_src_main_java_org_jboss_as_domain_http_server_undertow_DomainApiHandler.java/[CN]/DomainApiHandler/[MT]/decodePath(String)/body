{
  if (path == null)   throw new IllegalArgumentException();
  int i=path.charAt(0) == '/' ? 1 : 0;
  ArrayList<String> segments=new ArrayList<String>();
  do {
    int j=path.indexOf('/',i);
    if (j == -1)     j=path.length();
    segments.add(unescape(path.substring(i,j)));
    i=j + 1;
  }
 while (i < path.length());
  return segments;
}
