{
  if (file.isDirectory()) {
    final File[] files=file.listFiles();
    if (files != null) {
      for (      File f : files) {
        deleteRecursively(f);
      }
    }
  }
  if (!file.delete()) {
    throw new CommandLineException("Failed to delete " + file.getAbsolutePath());
  }
}
