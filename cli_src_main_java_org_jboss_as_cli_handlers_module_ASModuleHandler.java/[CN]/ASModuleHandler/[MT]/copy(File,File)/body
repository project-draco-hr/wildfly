{
  final byte[] buff=new byte[8192];
  BufferedInputStream in=null;
  BufferedOutputStream out=null;
  int read;
  try {
    in=new BufferedInputStream(new FileInputStream(source));
    out=new BufferedOutputStream(new FileOutputStream(target));
    while ((read=in.read(buff)) != -1) {
      out.write(buff,0,read);
    }
    out.flush();
  }
 catch (  FileNotFoundException e) {
    throw new CommandLineException("Failed to locate the file on the filesystem copying " + source.getAbsolutePath() + " to "+ target.getAbsolutePath(),e);
  }
catch (  IOException e) {
    throw new CommandLineException("Failed to copy " + source.getAbsolutePath() + " to "+ target.getAbsolutePath(),e);
  }
 finally {
    try {
      if (out != null) {
        out.close();
      }
    }
 catch (    IOException e) {
    }
    try {
      if (in != null) {
        in.close();
      }
    }
 catch (    IOException e) {
    }
  }
}
