{
  final ParsedCommandLine parsedCmd=ctx.getParsedCommandLine();
  final String actionValue=action.getValue(parsedCmd);
  if (actionValue == null) {
    throw new CommandFormatException("Action argument is missing: " + ACTION_ADD + " or "+ ACTION_REMOVE);
  }
  if (ACTION_ADD.equals(actionValue)) {
    addModule(ctx,parsedCmd);
  }
 else   if (ACTION_REMOVE.equals(actionValue)) {
    removeModule(parsedCmd);
  }
 else {
    throw new CommandFormatException("Unexpected action '" + actionValue + "', expected values: "+ ACTION_ADD+ ", "+ ACTION_REMOVE);
  }
}
