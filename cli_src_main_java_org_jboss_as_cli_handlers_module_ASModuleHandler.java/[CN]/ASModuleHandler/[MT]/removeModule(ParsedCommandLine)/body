{
  final String moduleName=name.getValue(parsedCmd,true);
  final File modulesDir=getModulesDir();
  File modulePath=getModulePath(modulesDir,moduleName,slot.getValue(parsedCmd));
  if (!modulePath.exists()) {
    throw new CommandLineException("Failed to locate module " + moduleName + " at "+ modulePath.getAbsolutePath());
  }
  deleteRecursively(modulePath);
  modulePath=modulePath.getParentFile();
  while (!modulesDir.equals(modulePath)) {
    if (modulePath.list().length > 0) {
      break;
    }
    if (!modulePath.delete()) {
      throw new CommandLineException("Failed to delete " + modulePath.getAbsolutePath());
    }
    modulePath=modulePath.getParentFile();
  }
}
