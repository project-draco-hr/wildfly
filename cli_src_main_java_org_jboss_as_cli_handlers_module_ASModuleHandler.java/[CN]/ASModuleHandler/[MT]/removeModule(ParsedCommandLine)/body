{
  final String moduleName=name.getValue(parsedCmd,true);
  final File modulesDir=getModulesDir();
  File modulePath=getModulePath(modulesDir,moduleName);
  if (!modulePath.exists()) {
    throw new CommandLineException("Failed to locate module " + moduleName + " at "+ modulePath.getAbsolutePath());
  }
  final File[] moduleFiles=modulePath.listFiles();
  if (moduleFiles != null) {
    for (    File f : moduleFiles) {
      if (!f.delete()) {
        throw new CommandLineException("Failed to delete " + f.getAbsolutePath());
      }
    }
  }
  while (!modulesDir.equals(modulePath)) {
    if (modulePath.list().length > 0) {
      break;
    }
    if (!modulePath.delete()) {
      throw new CommandLineException("Failed to delete " + modulePath.getAbsolutePath());
    }
    modulePath=modulePath.getParentFile();
  }
}
