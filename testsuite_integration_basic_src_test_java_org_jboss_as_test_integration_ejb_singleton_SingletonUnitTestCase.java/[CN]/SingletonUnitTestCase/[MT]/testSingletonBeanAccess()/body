{
  AccountManager accountManager=(AccountManager)ctx.lookup("java:module/" + AccountManagerBean.class.getSimpleName());
  int initialBalance=accountManager.balance();
  Assert.assertEquals("Unexpected initial balance",0,initialBalance);
  accountManager.credit(100);
  AccountManager anotherAccountManagerInstance=(AccountManager)ctx.lookup("java:module/" + AccountManagerBean.class.getSimpleName());
  int balanceAfterCredit=anotherAccountManagerInstance.balance();
  Assert.assertEquals("Unexpected balance after credit",100,balanceAfterCredit);
  anotherAccountManagerInstance.debit(50);
  int balanceAfterDebit=accountManager.balance();
  Assert.assertEquals("Unexpected balance after debit",50,balanceAfterDebit);
}
