{
  if (getSecurityManager() == null)   try {
    return currentThread().getContextClassLoader();
  }
  finally {
    currentThread().setContextClassLoader(cl);
  }
 else {
    return doPrivileged(new SetContextClassLoaderAction(cl));
  }
}
