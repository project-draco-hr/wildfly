{
  Future<DeploymentPlanResult> future=deploymentManager.execute(plan);
  DeploymentPlanResult planResult=future.get();
  Map<String,ServerGroupDeploymentPlanResult> actionResults=planResult.getServerGroupResults();
  for (  Entry<String,ServerGroupDeploymentPlanResult> result : actionResults.entrySet()) {
    for (    Entry<String,ServerDeploymentPlanResult> planServerResult : result.getValue().getServerResults().entrySet()) {
      ServerUpdateResult actionResult=planServerResult.getValue().getDeploymentActionResults().get(deployAction.getId());
      if (actionResult != null) {
        Exception deploymentException=(Exception)actionResult.getFailureResult();
        if (deploymentException != null)         throw deploymentException;
      }
    }
  }
  return deployAction.getDeploymentUnitUniqueName();
}
