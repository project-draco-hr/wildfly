{
  TreeSet<String> deployments=new TreeSet<String>(addedContent);
  if (domainModel.hasDefined("server-group")) {
    for (    Property serverGroupProp : domainModel.get("server-group").asPropertyList()) {
      ModelNode serverGroup=serverGroupProp.getValue();
      if (serverGroup.hasDefined("deployment")) {
        for (        Property deploymentProp : serverGroup.get("deployment").asPropertyList()) {
          ModelNode deployment=deploymentProp.getValue();
          if (deployment.hasDefined("enabled") && !deployment.get("enabled").asBoolean()) {
            deployments.add(deploymentProp.getName());
          }
        }
      }
    }
  }
  deployments.removeAll(deployedContent);
  deployments.addAll(undeployedContent);
  deployments.removeAll(removedContent);
  String deployment=chooseDeployment(deployments,message);
  return deployment;
}
