{
  Map<String,Object> vaultOptions=new HashMap<String,Object>();
  String vaultClass=null;
  ModelNode vaultNode=operation;
  vaultClass=vaultNode.get(Constants.CODE).asString();
  List<ModelNode> vaultOptionList=vaultNode.get(Constants.VAULT_OPTION).asList();
  if (vaultOptionList != null) {
    for (    ModelNode vaultOptionNode : vaultOptionList) {
      Property vaultProp=vaultOptionNode.asProperty();
      vaultOptions.put(vaultProp.getName(),vaultProp.getValue().asString());
    }
  }
  if (vaultClass != null || vaultOptions.isEmpty() == false) {
    final SecurityVaultService vaultService=new SecurityVaultService(vaultClass,vaultOptions);
    newControllers.add(context.getServiceTarget().addService(SecurityVaultService.SERVICE_NAME,vaultService).addListener(verificationHandler).setInitialMode(ServiceController.Mode.ACTIVE).install());
  }
}
