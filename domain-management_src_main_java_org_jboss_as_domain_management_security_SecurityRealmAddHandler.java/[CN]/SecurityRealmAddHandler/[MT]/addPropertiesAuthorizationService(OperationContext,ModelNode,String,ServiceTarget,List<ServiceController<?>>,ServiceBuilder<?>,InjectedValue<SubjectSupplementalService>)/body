{
  ServiceName propsServiceName=PropertiesSubjectSupplemental.ServiceUtil.createServiceName(realmName);
  final String path=PropertiesAuthorizationResourceDefinition.PATH.resolveModelAttribute(context,properties).asString();
  final ModelNode relativeTo=PropertiesAuthorizationResourceDefinition.RELATIVE_TO.resolveModelAttribute(context,properties);
  PropertiesSubjectSupplemental propsSubjectSupplemental=new PropertiesSubjectSupplemental(realmName,path);
  ServiceBuilder<?> propsBuilder=serviceTarget.addService(propsServiceName,propsSubjectSupplemental);
  if (relativeTo.isDefined()) {
    propsBuilder.addDependency(pathName(relativeTo.asString()),String.class,propsSubjectSupplemental.getRelativeToInjector());
  }
  final ServiceController<?> serviceController=propsBuilder.setInitialMode(ON_DEMAND).install();
  if (newControllers != null) {
    newControllers.add(serviceController);
  }
  SubjectSupplementalService.ServiceUtil.addDependency(realmBuilder,injector,propsServiceName,false);
}
