{
  ServiceName propsServiceName=realmServiceName.append(PropertiesSubjectSupplemental.SERVICE_SUFFIX);
  PropertiesSubjectSupplemental propsSubjectSupplemental=new PropertiesSubjectSupplemental(properties);
  ServiceBuilder<?> propsBuilder=serviceTarget.addService(propsServiceName,propsSubjectSupplemental);
  if (properties.hasDefined(RELATIVE_TO)) {
    propsBuilder.addDependency(pathName(properties.get(RELATIVE_TO).asString()),String.class,propsSubjectSupplemental.getRelativeToInjector());
  }
  newControllers.add(propsBuilder.setInitialMode(ON_DEMAND).install());
  return propsServiceName;
}
