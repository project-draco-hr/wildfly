{
  ServiceName plugInLoaderName=PlugInLoaderService.ServiceUtil.createServiceName(realmName);
  List<Property> plugIns=plugInModel.asPropertyList();
  ArrayList<String> knownNames=new ArrayList<String>(plugIns.size());
  for (  Property current : plugIns) {
    knownNames.add(current.getName());
  }
  PlugInLoaderService loaderService=new PlugInLoaderService(Collections.unmodifiableList(knownNames));
  ServiceBuilder<PlugInLoaderService> builder=serviceTarget.addService(plugInLoaderName,loaderService);
  final ServiceController<PlugInLoaderService> sc=builder.setInitialMode(Mode.ON_DEMAND).install();
  if (newControllers != null) {
    newControllers.add(sc);
  }
  return plugInLoaderName;
}
