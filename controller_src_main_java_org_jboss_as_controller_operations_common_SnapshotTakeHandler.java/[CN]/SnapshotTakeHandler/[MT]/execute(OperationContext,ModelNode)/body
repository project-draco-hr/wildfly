{
  AuthorizationResult authorizationResult=context.authorize(operation);
  if (authorizationResult.getDecision() == AuthorizationResult.Decision.DENY) {
    throw ControllerMessages.MESSAGES.unauthorized(operation.get(OP).asString(),PathAddress.pathAddress(operation.get(OP_ADDR)),authorizationResult.getExplanation());
  }
  try {
    String name=persister.snapshot();
    context.getResult().set(name);
  }
 catch (  ConfigurationPersistenceException e) {
    throw new OperationFailedException(e);
  }
  context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
}
