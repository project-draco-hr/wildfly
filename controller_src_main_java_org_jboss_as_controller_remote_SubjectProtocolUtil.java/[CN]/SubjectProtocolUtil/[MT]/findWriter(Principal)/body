{
  PrincipalWriter writer=null;
  Iterator<PrincipalHandlerFactory> it=HANDLERS.values().iterator();
  while (it.hasNext() && writer == null) {
    writer=it.next().handlerFor(principal);
  }
  return writer;
}
