{
  if (principal instanceof InetAddressPrincipal) {
    return new PrincipalWriter(){
      @Override public void write(      DataOutput out) throws IOException {
        InetAddressPrincipal inetPrin=(InetAddressPrincipal)principal;
        out.write(INET_ADDRESS_PRINCIPAL);
        InetAddress address=inetPrin.getInetAddress();
        String host=address.getHostName();
        byte[] addr=address.getAddress();
        out.write(HOST_PARAM);
        out.writeUTF(host);
        out.write(ADDR_PARAM);
        out.writeInt(addr.length);
        out.write(addr);
      }
    }
;
  }
  return null;
}
