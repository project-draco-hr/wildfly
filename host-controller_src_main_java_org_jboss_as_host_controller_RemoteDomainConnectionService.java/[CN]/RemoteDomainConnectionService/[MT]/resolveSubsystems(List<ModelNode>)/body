{
  final List<ModelNode> bootOperations=new ArrayList<ModelNode>();
  for (  final ModelNode extension : extensions) {
    final ModelNode e=new ModelNode();
    e.get("domain-resource-address").add(EXTENSION,extension.asString());
    bootOperations.add(e);
  }
  final ModelNode operation=APPLY_EXTENSIONS.clone();
  operation.get(DOMAIN_MODEL).set(bootOperations);
  final ModelNode result=controller.execute(operation,OperationMessageHandler.logging,ModelController.OperationTransactionControl.COMMIT,OperationAttachments.EMPTY);
  if (!SUCCESS.equals(result.get(OUTCOME).asString())) {
    throw HostControllerLogger.ROOT_LOGGER.failedToAddExtensions(result.get(FAILURE_DESCRIPTION));
  }
  final ModelNode subsystems=new ModelNode();
  for (  final ModelNode extension : extensions) {
    extensionRegistry.recordSubsystemVersions(extension.asString(),subsystems);
  }
  return subsystems;
}
