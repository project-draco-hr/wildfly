{
  ByteDataOutput output=null;
  try {
    output=new SimpleByteDataOutput(outputStream);
    output.write(DomainControllerProtocol.PARAM_HOST_ID);
    output.writeUTF(name);
    output.writeByte(DomainControllerProtocol.PARAM_HOST_CONTROLLER_HOST);
    final byte[] address=localManagementAddress.getAddress();
    output.writeInt(address.length);
    output.write(address);
    output.writeByte(DomainControllerProtocol.PARAM_HOST_CONTROLLER_PORT);
    output.writeInt(localManagementPort);
    output.close();
  }
  finally {
    StreamUtils.safeClose(output);
  }
}
