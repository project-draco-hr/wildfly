{
  ModelNode address=request.get(Util.ADDRESS);
  if (prefix.isEmpty()) {
    address.setEmptyList();
  }
 else {
    Iterator<Node> iterator=prefix.iterator();
    while (iterator.hasNext()) {
      OperationRequestAddress.Node node=iterator.next();
      if (node.getName() != null) {
        address.add(node.getType(),node.getName());
      }
 else       if (iterator.hasNext()) {
        throw new OperationFormatException("The node name is not specified for type '" + node.getType() + "'");
      }
    }
  }
  if (!request.hasDefined(Util.OPERATION)) {
    throw new OperationFormatException("The operation name is missing or the format of the operation request is wrong.");
  }
  return request;
}
