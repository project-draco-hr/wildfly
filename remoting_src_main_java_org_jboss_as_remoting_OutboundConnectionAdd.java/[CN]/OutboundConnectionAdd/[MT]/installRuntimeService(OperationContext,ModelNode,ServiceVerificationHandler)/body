{
  final String connectionName=outboundConnection.require(CommonAttributes.NAME).asString();
  final String uri=outboundConnection.require(CommonAttributes.URI).asString();
  final OutboundRemotingConnectionService outboundRemotingConnectionService;
  try {
    outboundRemotingConnectionService=new OutboundRemotingConnectionService(new URI(uri));
  }
 catch (  URISyntaxException e) {
    throw new RuntimeException("Cannot create outbound connection service for connection named " + connectionName + " with uri"+ uri,e);
  }
  final ServiceName serviceName=OutboundRemotingConnectionService.OUTBOUND_CONNECTION_BASE_SERVICE_NAME.append(connectionName);
  final ServiceBuilder<OutboundRemotingConnectionService> svcBuilder=context.getServiceTarget().addService(serviceName,outboundRemotingConnectionService).addDependency(RemotingServices.SUBSYSTEM_ENDPOINT,Endpoint.class,outboundRemotingConnectionService.getEnpointInjector());
  if (verificationHandler != null) {
    svcBuilder.addListener(verificationHandler);
  }
  return svcBuilder.install();
}
