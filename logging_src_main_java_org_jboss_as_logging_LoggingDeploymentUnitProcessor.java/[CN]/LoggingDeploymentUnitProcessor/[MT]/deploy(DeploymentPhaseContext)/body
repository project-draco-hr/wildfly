{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (deploymentUnit.hasAttachment(Attachments.MODULE) && deploymentUnit.hasAttachment(Attachments.DEPLOYMENT_ROOT)) {
    final ResourceRoot root=deploymentUnit.getAttachment(Attachments.DEPLOYMENT_ROOT);
    if (SubDeploymentMarker.isSubDeployment(root))     return;
    if (!processDeploymentLogging(deploymentUnit,root)) {
      processLoggingProfiles(deploymentUnit,root);
    }
  }
}
