{
  boolean result=false;
  final ResourceRoot root=deploymentUnit.getAttachment(Attachments.DEPLOYMENT_ROOT);
  final String loggingProfile=findLoggingProfile(root);
  if (loggingProfile != null) {
    result=true;
    final LoggingProfileContextSelector loggingProfileContext=LoggingProfileContextSelector.getInstance();
    if (loggingProfileContext.exists(loggingProfile)) {
      final Module module=deploymentUnit.getAttachment(Attachments.MODULE);
      final LogContext logContext=loggingProfileContext.get(loggingProfile);
      LoggingExtension.CONTEXT_SELECTOR.registerLogContext(module.getClassLoader(),logContext);
      LoggingLogger.ROOT_LOGGER.tracef("Registering log context '%s' on '%s' for profile '%s'",logContext,root,loggingProfile);
    }
 else {
      LoggingLogger.ROOT_LOGGER.loggingProfileNotFound(loggingProfile,root);
    }
  }
  return result;
}
