{
  output.write(ModelControllerClientProtocol.PARAM_OPERATION);
  executionContext.getOperation().writeExternal(output);
  List<InputStream> streams=executionContext.getInputStreams();
  for (  InputStream in : streams) {
    output.write(ModelControllerClientProtocol.PARAM_INPUT_STREAM);
    ByteArrayOutputStream bout=new ByteArrayOutputStream();
    try {
      byte[] buffer=new byte[8192];
      int read;
      while ((read=in.read(buffer)) != -1) {
        bout.write(buffer,0,read);
      }
    }
  finally {
      StreamUtils.safeClose(in);
    }
    byte[] bytes=bout.toByteArray();
    StreamUtils.writeInt(output,bytes.length);
    try {
      for (      byte b : bytes) {
        output.write(b);
      }
    }
  finally {
      StreamUtils.safeClose(in);
    }
  }
  output.write(ModelControllerClientProtocol.PARAM_REQUEST_END);
}
