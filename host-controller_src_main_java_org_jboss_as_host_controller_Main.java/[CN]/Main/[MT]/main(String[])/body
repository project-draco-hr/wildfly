{
  MDC.put("process","host controller");
  final InputStream in=System.in;
  final byte[] authKey=new byte[16];
  try {
    StreamUtils.readFully(new Base64InputStream(System.in),authKey);
  }
 catch (  IOException e) {
    STDERR.println(HostControllerLogger.ROOT_LOGGER.failedToReadAuthenticationKey(e));
    fail();
    return;
  }
  try {
    Class.forName(ConsoleHandler.class.getName(),true,ConsoleHandler.class.getClassLoader());
  }
 catch (  Throwable ignored) {
  }
  StdioContext.install();
  final StdioContext context=StdioContext.create(new NullInputStream(),new LoggingOutputStream(Logger.getLogger("stdout"),Level.INFO),new LoggingOutputStream(Logger.getLogger("stderr"),Level.ERROR));
  StdioContext.setStdioContextSelector(new SimpleStdioContextSelector(context));
  create(args,authKey);
  while (in.read() != -1) {
  }
  exit();
}
