{
  if (traceEnabled) {
    log.trace("send_exception " + ri.operation() + ": ");
  }
  CurrentRequestInfo threadLocal=(CurrentRequestInfo)threadLocalData.get();
  if (threadLocal.sasReply != null && Boolean.parseBoolean(CorbaORBService.getORBProperty(JacORBConstants.SEND_SAS_ACCEPT_WITH_EXCEPTION))) {
    try {
      ServiceContext sc=new ServiceContext(sasContextId,codec.encode_value(threadLocal.sasReply));
      ri.add_reply_service_context(sc,true);
    }
 catch (    InvalidTypeForEncoding e) {
      throw new MARSHAL("Unexpected exception: " + e);
    }
  }
}
