{
  final BatchBuilder builder=updateContext.getBatchBuilder();
  final ScaledCount coreThreadsCount=getCoreThreads();
  final ScaledCount maxThreadsCount=getMaxThreads();
  final int maxThreads=maxThreadsCount.getScaledCount();
  final int coreThreads=coreThreadsCount == null ? maxThreads : coreThreadsCount.getScaledCount();
  final int queueLength=this.queueLength.getScaledCount();
  final String name=getName();
  final ServiceName serviceName=ThreadsServices.executorName(name);
  final BoundedQueueThreadPoolService service=new BoundedQueueThreadPoolService(coreThreads,maxThreads,queueLength,blocking,getKeepaliveTime(),allowCoreTimeout);
  final ServiceBuilder<Executor> serviceBuilder=builder.addService(serviceName,service);
  addThreadFactoryDependency(serviceName,serviceBuilder,service.getThreadFactoryInjector(),builder);
  serviceBuilder.install();
}
