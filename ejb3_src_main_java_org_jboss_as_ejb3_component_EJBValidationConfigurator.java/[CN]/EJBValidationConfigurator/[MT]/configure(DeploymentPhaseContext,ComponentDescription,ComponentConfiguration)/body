{
  final DeploymentReflectionIndex deploymentReflectionIndex=context.getDeploymentUnit().getAttachment(Attachments.REFLECTION_INDEX);
  final ClassReflectionIndex<?> classIndex=deploymentReflectionIndex.getClassIndex(configuration.getComponentClass());
  final Constructor<?> ctor=classIndex.getConstructor(new String[0]);
  if (ctor == null) {
    throw EjbMessages.MESSAGES.ejbMustHavePublicDefaultConstructor(description.getComponentName(),description.getComponentClassName());
  }
  if (!Modifier.isPublic(ctor.getModifiers())) {
    throw EjbMessages.MESSAGES.ejbMustHavePublicDefaultConstructor(description.getComponentName(),description.getComponentClassName());
  }
  if (configuration.getComponentClass().getEnclosingClass() != null) {
    throw EjbMessages.MESSAGES.ejbMustNotBeInnerClass(description.getComponentName(),description.getComponentClassName());
  }
  if (!Modifier.isPublic(configuration.getComponentClass().getModifiers())) {
    throw EjbMessages.MESSAGES.ejbMustBePublicClass(description.getComponentName(),description.getComponentClassName());
  }
  if (Modifier.isFinal(configuration.getComponentClass().getModifiers())) {
    throw EjbMessages.MESSAGES.ejbMustNotBeFinalClass(description.getComponentName(),description.getComponentClassName());
  }
}
