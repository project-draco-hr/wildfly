{
  ModelNode history=operation.get(CommonAttributes.HISTORY);
  ModelNode decay=operation.get(CommonAttributes.DECAY);
  final ModelNode submodel=context.readResourceForUpdate(PathAddress.EMPTY_ADDRESS).getModel();
  final ModelNode currentValue=submodel.get(CommonAttributes.DYNAMIC_LOAD_PROVIDER).clone();
  if (!history.isDefined())   history=currentValue.get(CommonAttributes.HISTORY);
  submodel.get(CommonAttributes.HISTORY).set(history);
  if (!decay.isDefined())   decay=currentValue.get(CommonAttributes.DECAY);
  submodel.get(CommonAttributes.DECAY).set(decay);
  submodel.get(CommonAttributes.DYNAMIC_LOAD_PROVIDER).get(CommonAttributes.HISTORY).set(history);
  submodel.get(CommonAttributes.DYNAMIC_LOAD_PROVIDER).get(CommonAttributes.DECAY).set(decay);
  context.completeStep();
}
