{
  if (!context.isBooting()) {
    throw MESSAGES.invocationNotAllowedAfterBoot(OPERATION_NAME);
  }
  final Resource rootResource=context.createResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=rootResource.getModel();
  initCoreModel(model,hostControllerEnvironment);
  context.createResource(PathAddress.pathAddress(PathElement.pathElement(CORE_SERVICE,MANAGEMENT)));
  context.createResource(PathAddress.pathAddress(PathElement.pathElement(CORE_SERVICE,HOST_ENVIRONMENT)));
  rootResource.registerChild(PlatformMBeanConstants.ROOT_PATH,new RootPlatformMBeanResource());
  Resource.ResourceEntry ignoredRoot=ignoredDomainResourceRegistry.getRootResource();
  rootResource.registerChild(ignoredRoot.getPathElement(),ignoredRoot);
  ModelNode writeNameOp=Util.getWriteAttributeOperation(operation.get(OP_ADDR),NAME,operation.get(NAME));
  context.addStep(writeNameOp,hostControllerEnvironment.getProcessNameWriteHandler(),OperationContext.Stage.IMMEDIATE);
  context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
}
