{
  if (!context.isBooting()) {
    throw new IllegalStateException(String.format("Invocations of %s after HostController boot are not allowed",OPERATION_NAME));
  }
  final Resource rootResource=context.createResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=rootResource.getModel();
  HostModelUtil.initCoreModel(model);
  context.createResource(PathAddress.pathAddress(PathElement.pathElement(CORE_SERVICE,MANAGEMENT)));
  rootResource.registerChild(PlatformMBeanConstants.ROOT_PATH,new RootPlatformMBeanResource());
  final String localHostName=operation.require(NAME).asString();
  model.get(NAME).set(localHostName);
  hostControllerInfo.setLocalHostName(localHostName);
  context.completeStep();
}
