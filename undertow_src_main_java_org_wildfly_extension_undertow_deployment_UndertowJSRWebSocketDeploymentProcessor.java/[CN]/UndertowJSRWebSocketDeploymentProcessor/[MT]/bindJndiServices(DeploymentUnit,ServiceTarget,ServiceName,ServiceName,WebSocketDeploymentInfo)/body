{
  final ServiceName bindingServiceName=contextServiceName.append("ServerContainer");
  final BinderService binderService=new BinderService("ServerContainer");
  serviceTarget.addService(bindingServiceName,binderService).addDependency(serviceName).addDependency(contextServiceName,ServiceBasedNamingStore.class,binderService.getNamingStoreInjector()).install();
  webSocketInfo.addListener(new WebSocketDeploymentInfo.ContainerReadyListener(){
    @Override public void ready(    ServerWebSocketContainer container){
      binderService.getManagedObjectInjector().inject(new ImmediateManagedReferenceFactory(container));
    }
  }
);
  deploymentUnit.addToAttachmentList(org.jboss.as.server.deployment.Attachments.JNDI_DEPENDENCIES,bindingServiceName);
}
