{
  Map<Set<ServerIdentity>,ModelNode> result;
  ModelNode serverOp=null;
  if (address.size() > 2) {
    String type=address.getElement(2).getKey();
    if (PATH.equals(type) || INTERFACE.equals(type)) {
      serverOp=operation.clone();
      PathAddress serverAddress=address.subAddress(2);
      serverOp.get(OP_ADDR).set(serverAddress.toModelNode());
    }
  }
 else {
    String opName=operation.require(OP).asString();
    if (SystemPropertyAddHandler.OPERATION_NAME.equals(opName) || SystemPropertyRemoveHandler.OPERATION_NAME.equals(opName)) {
      serverOp=operation.clone();
      serverOp.get(OP_ADDR).setEmptyList();
    }
  }
  if (serverOp == null) {
    result=Collections.emptyMap();
  }
 else {
    String serverName=address.getElement(0).getValue();
    ModelNode serverNode=host.get(SERVER_CONFIG,serverName);
    ServerIdentity gs=new ServerIdentity(localHostName,serverNode.require(GROUP).asString(),serverName);
    Set<ServerIdentity> set=Collections.singleton(gs);
    result=Collections.singletonMap(set,serverOp);
  }
  return result;
}
