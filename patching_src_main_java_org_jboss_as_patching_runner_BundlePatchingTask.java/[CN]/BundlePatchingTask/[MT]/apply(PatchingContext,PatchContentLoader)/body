{
  final File targetDir=context.getModulePatchDirectory(contentItem);
  final File sourceDir=loader.getFile(contentItem);
  final File[] moduleResources=sourceDir.listFiles();
  if (!targetDir.mkdirs() && !targetDir.exists()) {
    throw PatchMessages.MESSAGES.cannotCreateDirectory(targetDir.getAbsolutePath());
  }
  if (moduleResources == null || moduleResources.length == 0) {
    return NO_CONTENT;
  }
  for (  final File file : moduleResources) {
    final File target=new File(targetDir,file.getName());
    PatchUtils.copy(file,target);
  }
  return contentItem.getContentHash();
}
