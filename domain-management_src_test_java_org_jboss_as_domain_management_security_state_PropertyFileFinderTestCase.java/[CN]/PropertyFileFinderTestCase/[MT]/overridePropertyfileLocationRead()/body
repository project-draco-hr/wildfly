{
  File domainMgmtUserFile=createPropertyFile("mgmt-users.properties","domain");
  File standaloneMgmtUserFile=createPropertyFile("mgmt-users.properties","standalone");
  System.setProperty("jboss.server.config.user.dir",standaloneMgmtUserFile.getParent());
  System.setProperty("jboss.domain.config.user.dir",domainMgmtUserFile.getParent());
  State propertyFileFinder=new PropertyFileFinder(consoleMock,values);
  State nextState=propertyFileFinder.execute();
  assertTrue(nextState instanceof PromptNewUserState);
  assertTrue("Expected to find the " + USER_NAME + " in the list of known users",values.getKnownUsers().contains(USER_NAME));
  assertTrue("Expected the values.getPropertiesFiles() contained the " + standaloneMgmtUserFile.getCanonicalPath(),values.getPropertiesFiles().contains(standaloneMgmtUserFile.getCanonicalFile()));
  assertTrue("Expected the values.getPropertiesFiles() contained the " + domainMgmtUserFile.getCanonicalPath(),values.getPropertiesFiles().contains(domainMgmtUserFile.getCanonicalFile()));
}
