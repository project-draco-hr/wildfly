{
  try {
    final Marshaller marshaller=getMarshaller();
    marshaller.start(createByteOutput(outputStream));
    marshaller.writeByte(ManagementProtocol.PARAM_DOMAIN_MODEL);
    marshaller.writeObject(domainController.getDomainModel());
    marshaller.finish();
  }
 catch (  Exception e) {
    throw new ManagementException("Unable to write domain configuration to client",e);
  }
}
