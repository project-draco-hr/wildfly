{
  try {
    expectHeader(input,ManagementProtocol.PARAM_SERVER_MANAGER_HOST);
    final int addressSize=input.readInt();
    byte[] addressBytes=new byte[addressSize];
    input.readFully(addressBytes);
    expectHeader(input,ManagementProtocol.PARAM_SERVER_MANAGER_PORT);
    final int port=input.readInt();
    final InetAddress address=InetAddress.getByAddress(addressBytes);
    final DomainControllerClient client=new RemoteDomainControllerClient(serverManagerId,address,port,executorService);
    domainController.addClient(client);
    log.infof("Server manager registered [%s]",client);
  }
 catch (  Exception e) {
    throw new ManagementException("Unable to read server manager connection information from request",e);
  }
}
