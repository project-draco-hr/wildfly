{
  PathAddress pa=PathAddress.pathAddress(PathElement.pathElement(HOST,"localhost"),PathElement.pathElement(SERVER_CONFIG,"server-one"));
  final MockOperationContext operationContext=getOperationContext(false,pa);
  final ModelNode operation=new ModelNode();
  operation.get(OP_ADDR).set(pa.toModelNode());
  operation.get(OP).set(WRITE_ATTRIBUTE_OPERATION);
  operation.get(NAME).set(GROUP);
  operation.get(VALUE).set("bad-group");
  ServerRestartRequiredServerConfigWriteAttributeHandler.createGroupInstance(new MockHostControllerInfo(master)).execute(operationContext,operation);
  operationContext.verify();
  if (!master) {
    Assert.assertNull(operationContext.getAttachment(ServerOperationResolver.DONT_PROPAGATE_TO_SERVERS_ATTACHMENT));
  }
 else {
    Assert.fail();
  }
}
