{
  PathAddress pa=PathAddress.pathAddress(PathElement.pathElement(SERVER_GROUP,"group-one"));
  final MockOperationContext operationContext=getOperationContext(pa);
  final Resource serverConfig=Resource.Factory.create();
  serverConfig.getModel().get(PROFILE).set("some-profile");
  operationContext.root.registerChild(PathElement.pathElement(SERVER_GROUP,"group-one"),serverConfig);
  final Resource profileConfig=Resource.Factory.create();
  operationContext.root.registerChild(PathElement.pathElement(PROFILE,"some-profile"),profileConfig);
  final ModelNode operation=new ModelNode();
  operation.get(OP_ADDR).set(pa.toModelNode());
  operation.get(OP).set(WRITE_ATTRIBUTE_OPERATION);
  operation.get(NAME).set(PROFILE);
  operation.get(VALUE).set("some-profile");
  ServerGroupProfileWriteAttributeHandler.INSTANCE.execute(operationContext,operation);
  Assert.assertTrue(operationContext.getAttachment(ServerOperationResolver.DONT_PROPAGATE_TO_SERVERS_ATTACHMENT).contains(operation));
  checkServerOperationResolver(operationContext,operation,pa,false);
}
