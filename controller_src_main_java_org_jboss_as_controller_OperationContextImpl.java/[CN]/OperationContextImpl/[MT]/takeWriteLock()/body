{
  if (lockDepth == 0) {
    if (currentStage == Stage.DONE) {
      throw new IllegalStateException("Invalid modification after completed step");
    }
    try {
      modelController.acquireLock(respectInterruption);
      lockDepth=depth;
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new CancellationException("Operation cancelled asynchronously");
    }
  }
}
