{
  boolean interrupted=false;
  try {
    if (this.containerMonitorStep == step) {
      long timeout=getBlockingTimeout().getBlockingTimeout();
      try {
        modelController.awaitContainerStability(timeout,TimeUnit.MILLISECONDS,true);
      }
 catch (      InterruptedException e) {
        interrupted=true;
        MGMT_OP_LOGGER.interruptedWaitingStability();
      }
catch (      TimeoutException te) {
        processState.setRestartRequired();
        MGMT_OP_LOGGER.timeoutCompletingOperation(timeout,activeStep.operationId.name,activeStep.operationId.address);
      }
    }
    if (this.lockStep == step) {
      modelController.releaseLock(operationId);
      exclusiveStartTime=-1;
      lockStep=null;
    }
  }
  finally {
    try {
      if (this.containerMonitorStep == step) {
        modelController.logContainerStateChangesAndReset();
        containerMonitorStep=null;
      }
    }
  finally {
      if (interrupted) {
        Thread.currentThread().interrupt();
      }
    }
  }
}
