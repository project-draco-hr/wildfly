{
  if (affectsRuntime && !cancelled) {
    final Map<ServiceName,ServiceController<?>> map=realRemovingControllers;
synchronized (map) {
      while (!map.isEmpty() && !cancelled) {
        map.wait();
      }
    }
  }
}
