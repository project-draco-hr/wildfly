{
  if (affectsRuntime) {
    MGMT_OP_LOGGER.debugf("Entered VERIFY stage; waiting for service container to settle");
    final Map<ServiceName,ServiceController<?>> map=realRemovingControllers;
synchronized (map) {
      while (!map.isEmpty()) {
        map.wait();
      }
    }
    ContainerStateMonitor.ContainerStateChangeReport changeReport=modelController.awaitContainerStateChangeReport(1);
    if (changeReport != null && !changeReport.getMissingServices().isEmpty()) {
      ServiceRemovalVerificationHandler removalVerificationHandler=new ServiceRemovalVerificationHandler(changeReport);
      addStep(new ModelNode(),new ModelNode(),PathAddress.EMPTY_ADDRESS,removalVerificationHandler,Stage.VERIFY);
    }
  }
}
