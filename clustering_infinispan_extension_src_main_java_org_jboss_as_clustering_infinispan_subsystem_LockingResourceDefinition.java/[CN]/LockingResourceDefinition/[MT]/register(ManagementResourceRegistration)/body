{
  ManagementResourceRegistration registration=parentRegistration.registerSubModel(this);
  parentRegistration.registerAlias(LEGACY_PATH,new SimpleAliasEntry(registration));
  ResourceDescriptor descriptor=new ResourceDescriptor(this.getResourceDescriptionResolver()).addAttributes(Attribute.class);
  ResourceServiceHandler handler=new SimpleResourceServiceHandler<>(new LockingBuilderFactory());
  new AddStepHandler(descriptor,handler).register(registration);
  new RemoveStepHandler(descriptor,handler).register(registration);
  if (this.allowRuntimeOnlyRegistration) {
    new MetricHandler<>(new LockingMetricExecutor(),LockingMetric.class).register(registration);
  }
}
