{
  int len=params.length;
  if (len != paramWriters.length) {
    throw new RuntimeException("Cannot marshal parameters: " + "unexpected number of parameters");
  }
  for (int i=0; i < len; i++) {
    Object param=params[i];
    if (param instanceof PortableRemoteObject) {
      try {
        param=PortableRemoteObject.toStub((Remote)param);
      }
 catch (      NoSuchObjectException e) {
        throw new RuntimeException(e);
      }
    }
    paramWriters[i].write(out,RemoteObjectSubstitutionManager.writeReplaceRemote(param));
  }
}
