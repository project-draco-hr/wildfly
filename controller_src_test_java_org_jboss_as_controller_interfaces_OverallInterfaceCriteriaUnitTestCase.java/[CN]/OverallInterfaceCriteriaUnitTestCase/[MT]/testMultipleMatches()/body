{
  if (allCandidates.size() < 1) {
    return;
  }
  Map<NetworkInterface,Set<InetAddress>> correct=new HashMap<NetworkInterface,Set<InetAddress>>();
  for (  NetworkInterface ni : allInterfaces) {
    if (ni.isUp()) {
      correct.put(ni,getRightTypeAddresses(allCandidates.get(ni)));
    }
  }
  if (correct.size() < 2) {
    return;
  }
  OverallInterfaceCriteria testee=new OverallInterfaceCriteria("test",Collections.singleton((InterfaceCriteria)UpInterfaceCriteria.INSTANCE));
  Map<NetworkInterface,Set<InetAddress>> result=testee.getAcceptableAddresses(allCandidates);
  assertNotNull(result);
  assertEquals(1,result.size());
  Map.Entry<NetworkInterface,Set<InetAddress>> entry=result.entrySet().iterator().next();
  assertEquals(1,entry.getValue().size());
  Set<InetAddress> set=correct.get(entry.getKey());
  assertNotNull(set);
  assertTrue(set.contains(entry.getValue().iterator().next()));
}
