{
  if (!Extension.class.isAssignableFrom(extensionClass)) {
    throw WeldMessages.MESSAGES.extensionDoesNotImplementExtension(extensionClass);
  }
  if (extensions.containsKey(extensionClass)) {
    return;
  }
  try {
    extensions.put(extensionClass,new MetadataImpl<>((Extension)extensionClass.newInstance(),deploymentUnit.getName()));
  }
 catch (  InstantiationException e) {
    WeldLogger.DEPLOYMENT_LOGGER.couldNotLoadPortableExceptionClass(extensionClass.getName(),e);
  }
catch (  IllegalAccessException e) {
    WeldLogger.DEPLOYMENT_LOGGER.couldNotLoadPortableExceptionClass(extensionClass.getName(),e);
  }
}
