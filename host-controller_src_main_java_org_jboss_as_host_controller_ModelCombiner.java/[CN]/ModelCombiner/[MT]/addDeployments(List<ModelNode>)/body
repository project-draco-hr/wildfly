{
  if (serverGroup.hasDefined(DEPLOYMENT)) {
    for (    Property deployment : serverGroup.get(DEPLOYMENT).asPropertyList()) {
      String name=deployment.getName();
      ModelNode details=deployment.getValue();
      ModelNode domainDeployment=domainModel.require(DEPLOYMENT).require(name);
      ModelNode deploymentContent=domainDeployment.require(CONTENT).clone();
      for (      ModelNode content : deploymentContent.asList()) {
        if ((content.hasDefined(HASH))) {
          byte[] hash=content.require(HASH).asBytes();
          domainController.getFileRepository().getDeploymentFiles(hash);
        }
      }
      PathAddress addr=PathAddress.pathAddress(PathElement.pathElement(DEPLOYMENT,name));
      ModelNode addOp=Util.getEmptyOperation(ADD,addr.toModelNode());
      addOp.get(RUNTIME_NAME).set(details.get(RUNTIME_NAME));
      addOp.get(CONTENT).set(deploymentContent);
      addOp.get(ENABLED).set(!details.hasDefined(ENABLED) || details.get(ENABLED).asBoolean());
      updates.add(addOp);
    }
  }
}
