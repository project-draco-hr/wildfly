{
  if (serverGroup.hasDefined(DEPLOYMENT)) {
    for (    Property deployment : serverGroup.get(DEPLOYMENT).asPropertyList()) {
      String name=deployment.getName();
      ModelNode details=deployment.getValue();
      final byte[] hash;
      final ModelNode content=details.require(CONTENT).clone();
      final ModelNode contentItemNode=content.require(0);
      if (contentItemNode.hasDefined(HASH)) {
        hash=contentItemNode.require(HASH).asBytes();
        domainController.getFileRepository().getDeploymentFiles(hash);
      }
      PathAddress addr=PathAddress.pathAddress(PathElement.pathElement(DEPLOYMENT,name));
      ModelNode addOp=Util.getEmptyOperation(ADD,addr.toModelNode());
      addOp.get(RUNTIME_NAME).set(details.get(RUNTIME_NAME));
      addOp.get(CONTENT).set(content);
      addOp.get(ENABLED).set(!details.hasDefined(ENABLED) || details.get(ENABLED).asBoolean());
      updates.add(addOp);
    }
  }
}
