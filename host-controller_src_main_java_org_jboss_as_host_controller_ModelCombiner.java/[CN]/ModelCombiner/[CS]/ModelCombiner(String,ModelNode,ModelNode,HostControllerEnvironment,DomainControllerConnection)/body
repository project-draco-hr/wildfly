{
  this.serverName=serverName;
  this.domainModel=domainModel;
  this.hostModel=hostModel;
  this.serverModel=hostModel.require(SERVER).require(serverName);
  this.domainControllerConnection=domainControllerConnection;
  this.environment=environment;
  String serverGroupName=serverModel.require(GROUP).asString();
  this.profileName=domainModel.require(SERVER_GROUP).require(serverGroupName).require(PROFILE).asString();
  if (serverModel.hasDefined(SOCKET_BINDING_PORT_OFFSET)) {
    this.portOffSet=serverModel.get(SOCKET_BINDING_PORT_OFFSET).asInt();
  }
 else {
    final ModelNode groupNode=domainModel.require(SERVER_GROUP).require(serverGroupName);
    this.portOffSet=groupNode.hasDefined(SOCKET_BINDING_PORT_OFFSET) ? groupNode.get(SOCKET_BINDING_PORT_OFFSET).asInt() : 0;
  }
}
