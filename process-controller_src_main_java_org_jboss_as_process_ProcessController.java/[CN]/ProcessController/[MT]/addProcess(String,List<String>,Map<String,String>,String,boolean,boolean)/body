{
  for (  String s : command) {
    if (s == null) {
      throw MESSAGES.nullCommandComponent();
    }
  }
synchronized (lock) {
    if (shutdown) {
      return;
    }
    final Map<String,ManagedProcess> processes=this.processes;
    if (processes.containsKey(processName)) {
      ROOT_LOGGER.duplicateProcessName(processName);
      return;
    }
    final byte[] authKey=new byte[16];
    rng.nextBytes(authKey);
    final ManagedProcess process=new ManagedProcess(processName,command,env,workingDirectory,lock,this,authKey,isPrivileged,respawn);
    processes.put(processName,process);
    processesByKey.put(new Key(authKey),process);
    processAdded(processName);
  }
}
