{
synchronized (lock) {
    for (    Connection connection : managedConnections) {
      try {
        final OutputStream os=connection.writeMessage();
        try {
          os.write(Protocol.PROCESS_ADDED);
          StreamUtils.writeUTFZBytes(os,processName);
          os.close();
        }
  finally {
          StreamUtils.safeClose(os);
        }
      }
 catch (      IOException e) {
        ProcessLogger.ROOT_LOGGER.failedToWriteMessage("PROCESS_ADDED",e);
      }
    }
  }
}
