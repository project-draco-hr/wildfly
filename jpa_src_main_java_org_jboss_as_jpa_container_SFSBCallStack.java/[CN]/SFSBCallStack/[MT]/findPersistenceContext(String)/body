{
  for (  SFSBContextHandle handle : currentSFSBCallStack()) {
    List<WeakReference<EntityManager>> xpcs=SFSBXPCMap.getINSTANCE().getXPC(handle);
    if (xpcs == null)     continue;
    for (    WeakReference<EntityManager> xpc_ref : xpcs) {
      EntityManager xpc=xpc_ref.get();
      if (xpc != null && xpc.unwrap(EntityManagerMetadata.class).getScopedPuName().equals(puScopedName)) {
        return xpc;
      }
    }
  }
  return null;
}
