{
  for (  SFSBContextHandle handle : currentSFSBCallStack()) {
    List<EntityManager> xpcs=sfsbxpcMap.getXPC(handle);
    if (xpcs == null)     continue;
    for (    EntityManager xpc : xpcs) {
      if (xpc != null && xpc.unwrap(EntityManagerMetadata.class).getScopedPuName().equals(puScopedName)) {
        return xpc;
      }
    }
  }
  Map<String,EntityManager> map=sfsbCreationMap.get();
  if (map != null) {
    return map.get(puScopedName);
  }
  return null;
}
