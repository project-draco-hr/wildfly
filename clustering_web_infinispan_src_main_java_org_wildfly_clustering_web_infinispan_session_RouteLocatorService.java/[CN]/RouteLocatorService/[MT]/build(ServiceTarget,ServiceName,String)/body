{
  RouteLocatorService service=new RouteLocatorService();
  return target.addService(name,service).addDependency(ServiceBuilder.DependencyType.OPTIONAL,NODE_FACTORY_SERVICE_NAME,NodeFactory.class,(Injector)service.nodeFactory).addDependency(ServiceBuilder.DependencyType.OPTIONAL,REGISTRY_SERVICE_NAME,Registry.class,service.registry).addDependency(RouteRegistryEntryProviderService.SERVICE_NAME,RouteRegistryEntryProvider.class,service.provider).addDependency(getCacheServiceAlias(deploymentName),Cache.class,service.cache);
}
