{
  if (value == null) {
    return this.removeAttribute(name);
  }
  Object old=this.session.getAttributes().setAttribute(name,value);
  if (old == null) {
    this.manager.getSessionListeners().attributeAdded(this,name,value);
  }
 else   if (old != value) {
    this.manager.getSessionListeners().attributeUpdated(this,name,value,old);
  }
  return old;
}
