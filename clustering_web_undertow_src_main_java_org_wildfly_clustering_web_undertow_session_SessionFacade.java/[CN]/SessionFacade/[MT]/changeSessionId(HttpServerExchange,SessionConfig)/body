{
  Session<Void> session=this.manager.getSessionManager().createSession(this.manager.getSessionManager().createSessionId());
  for (  String name : this.session.getAttributes().getAttributeNames()) {
    session.getAttributes().setAttribute(name,this.session.getAttributes().getAttribute(name));
  }
  session.getMetaData().setMaxInactiveInterval(this.session.getMetaData().getMaxInactiveInterval(TimeUnit.MILLISECONDS),TimeUnit.MILLISECONDS);
  session.getMetaData().setLastAccessedTime(this.session.getMetaData().getLastAccessedTime());
  this.session.invalidate();
  config.setSessionId(exchange,session.getId());
  return session.getId();
}
