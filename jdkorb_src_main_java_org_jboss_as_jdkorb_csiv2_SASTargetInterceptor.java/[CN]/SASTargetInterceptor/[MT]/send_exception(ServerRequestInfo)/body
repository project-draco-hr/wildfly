{
  ORBLogger.ROOT_LOGGER.traceSendException(ri.operation());
  CurrentRequestInfo threadLocal=(CurrentRequestInfo)threadLocalData.get();
  boolean interopIONA="on".equalsIgnoreCase(CorbaORBService.getORBProperty(ORBSubsystemConstants.INTEROP_IONA));
  if (threadLocal.sasReply != null && !interopIONA) {
    try {
      ServiceContext sc=new ServiceContext(sasContextId,codec.encode_value(threadLocal.sasReply));
      ri.add_reply_service_context(sc,true);
    }
 catch (    InvalidTypeForEncoding e) {
      throw ORBMessages.MESSAGES.unexpectedException(e);
    }
  }
}
