{
  if (visitor.getState().equals(whenRequired)) {
    if (service)     visitor.addDependency(ServiceName.parse(dependency));
 else     visitor.addDependency(dependency,dependencyState);
  }
}
