{
  if (iterator.hasNext()) {
    final PathElement next=iterator.next();
    final NodeSubregistry subregistry=children.get(next.getKey());
    if (subregistry == null) {
      return Collections.emptySet();
    }
    return subregistry.getChildAddresses(iterator,next.getValue());
  }
 else {
    final Map<String,NodeSubregistry> children=this.children;
    if (children != null) {
      final Set<PathElement> elements=new HashSet<PathElement>();
      for (      final Map.Entry<String,NodeSubregistry> entry : children.entrySet()) {
        for (        final String entryChild : entry.getValue().getChildNames()) {
          elements.add(PathElement.pathElement(entry.getKey(),entryChild));
        }
      }
      return elements;
    }
    return Collections.emptySet();
  }
}
