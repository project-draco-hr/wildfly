{
  if (iterator.hasNext()) {
    final PathElement next=iterator.next();
    final NodeSubregistry subregistry=children.get(next.getKey());
    if (subregistry == null) {
      return Collections.emptySet();
    }
    return subregistry.getAttributeNames(iterator,next.getValue());
  }
 else {
    Set<String> attrs=attributeNames;
    if (attrs == null) {
      if (descriptionProvider != null) {
        ModelNode node=descriptionProvider.getModelDescription(null);
        node=node.get(ATTRIBUTES);
        if (node.isDefined()) {
          attrs=node.keys();
        }
        attrs=Collections.unmodifiableSet(attrs);
      }
      if (attrs == null) {
        attrs=Collections.emptySet();
      }
      attributeNames=Collections.unmodifiableSet(attrs);
    }
    return attrs;
  }
}
