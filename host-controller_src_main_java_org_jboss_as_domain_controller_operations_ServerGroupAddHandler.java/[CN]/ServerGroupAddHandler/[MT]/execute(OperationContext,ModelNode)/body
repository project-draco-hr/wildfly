{
  final Resource resource=context.createResource(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=resource.getModel();
  for (  AttributeDefinition attr : ServerGroupResourceDefinition.ADD_ATTRIBUTES) {
    attr.validateAndSet(operation,model);
  }
  String profile=PROFILE.resolveModelAttribute(context,model).asString();
  try {
    context.readResourceFromRoot(PathAddress.pathAddress(PathElement.pathElement(PROFILE.getName(),profile)));
  }
 catch (  Exception e) {
    throw DomainControllerMessages.MESSAGES.noProfileCalled(profile);
  }
  if (operation.hasDefined(SOCKET_BINDING_GROUP.getName())) {
    String socketBindingGroup=SOCKET_BINDING_GROUP.resolveModelAttribute(context,model).asString();
    try {
      context.readResourceFromRoot(PathAddress.pathAddress(PathElement.pathElement(SOCKET_BINDING_GROUP.getName(),socketBindingGroup)));
    }
 catch (    NoSuchElementException e) {
      throw new OperationFailedException(new ModelNode().set(MESSAGES.unknown(SOCKET_BINDING_GROUP.getName(),socketBindingGroup)));
    }
  }
  context.stepCompleted();
}
