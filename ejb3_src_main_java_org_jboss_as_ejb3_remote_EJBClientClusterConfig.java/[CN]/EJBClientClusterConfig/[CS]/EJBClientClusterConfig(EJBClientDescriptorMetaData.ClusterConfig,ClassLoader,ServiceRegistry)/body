{
  this.delegate=clusterConfig;
  this.setConnectionTimeout(clusterConfig.getConnectTimeout());
  final Properties channelProps=clusterConfig.getChannelCreationOptions();
  if (channelProps != null) {
    final OptionMap channelCreationOptions=getOptionMapFromProperties(channelProps,this.getClass().getClassLoader());
    logger.debug("Channel creation options for cluster " + clusterConfig.getClusterName() + " are "+ channelCreationOptions);
    this.setChannelCreationOptions(channelCreationOptions);
  }
  final Properties connectionProps=clusterConfig.getConnectionOptions();
  if (connectionProps != null) {
    final OptionMap connectionCreationOptions=getOptionMapFromProperties(connectionProps,this.getClass().getClassLoader());
    logger.debug("Connection creation options for cluster " + clusterConfig.getClusterName() + " are "+ connectionCreationOptions);
    this.setConnectionCreationOptions(connectionCreationOptions);
  }
  this.setCallbackHandler(serviceRegistry,clusterConfig.getUserName(),clusterConfig.getSecurityRealm());
}
