{
  KernelServices kernelServices=createEmptyRoot();
  ModelNode op=new ModelNode();
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.WRITE_ATTRIBUTE_OPERATION);
  op.get(ModelDescriptionConstants.OP_ADDR).setEmptyList();
  op.get(ModelDescriptionConstants.NAME).set(ModelDescriptionConstants.NAME);
  op.get(ModelDescriptionConstants.VALUE).set("");
  kernelServices.executeForFailure(op);
  op.get(ModelDescriptionConstants.VALUE).set("Testing");
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(op));
  ModelNode model=kernelServices.readWholeModel(false,true);
  assertAttribute(model,ModelDescriptionConstants.NAME,new ModelNode("Testing"));
  op=new ModelNode();
  op.get(ModelDescriptionConstants.OP).set(ModelDescriptionConstants.UNDEFINE_ATTRIBUTE_OPERATION);
  op.get(ModelDescriptionConstants.OP_ADDR).setEmptyList();
  op.get(ModelDescriptionConstants.NAME).set(ModelDescriptionConstants.NAME);
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(op));
  model=kernelServices.readWholeModel(false,true);
  assertAttribute(model,ModelDescriptionConstants.NAME,new ModelNode("Unnamed Domain"));
}
