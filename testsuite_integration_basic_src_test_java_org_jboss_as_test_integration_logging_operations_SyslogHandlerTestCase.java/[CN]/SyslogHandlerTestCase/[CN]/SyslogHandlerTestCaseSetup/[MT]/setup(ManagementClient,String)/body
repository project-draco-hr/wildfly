{
  LOGGER.info("starting syslog server on port " + PORT);
  SyslogServer.shutdown();
  final String host=Utils.getHost(managementClient);
  final UDPSyslogServerConfig config=new UDPSyslogServerConfig();
  config.setPort(PORT);
  config.setHost(host);
  config.setUseStructuredData(true);
  config.addEventHandler(new BlockedSyslogServerEventHandler());
  SyslogServer.createInstance(UDP,config);
  SyslogServer.getThreadedInstance(SyslogConstants.UDP);
  final ModelNode compositeOp=new ModelNode();
  compositeOp.get(OP).set(COMPOSITE);
  compositeOp.get(OP_ADDR).setEmptyList();
  final ModelNode steps=compositeOp.get(STEPS);
  steps.add(Util.createAddOperation(SYSLOG_PROFILE_ADDR));
  ModelNode op=Util.createAddOperation(SYSLOG_HANDLER_ADDR);
  op.get("level").set("TRACE");
  op.get("port").set(PORT);
  op.get("server-address").set(host);
  op.get("enabled").set("true");
  steps.add(op);
  op=Util.createAddOperation(SYSLOG_PROFILE_ADDR.append("root-logger","ROOT"));
  op.get("level").set("TRACE");
  op.get("handlers").add("SYSLOG");
  steps.add(op);
  Utils.applyUpdate(compositeOp,managementClient.getControllerClient());
  LOGGER.info("syslog server setup complete");
}
