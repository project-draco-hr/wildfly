{
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      JAXRConfiguration config=JAXRConfiguration.INSTANCE;
      ServiceTarget serviceTarget=context.getServiceTarget();
      if (config.getConnectionFactoryBinding() != null) {
        newControllers.add(JAXRConnectionFactoryService.addService(serviceTarget,config,verifyHandler));
      }
      if (config.getDataSourceBinding() != null) {
        newControllers.add(JAXRDatasourceService.addService(serviceTarget,config,verifyHandler));
        newControllers.add(JUDDIContextService.addService(serviceTarget,config,verifyHandler));
      }
      context.completeStep();
    }
  }
,OperationContext.Stage.RUNTIME);
}
