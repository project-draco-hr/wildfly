{
  FileRepository remoteRepo=domainControllerConnection.getRemoteFileRepository();
  DomainModel domainConfig=getDomainModel();
  Set<String> serverGroupNames=domainConfig.getServerGroupNames();
  for (  ServerElement server : getHostModel().getServers()) {
    String serverGroupName=server.getServerGroup();
    if (serverGroupNames.remove(serverGroupName)) {
      for (      ServerGroupDeploymentElement deployment : domainConfig.getServerGroup(serverGroupName).getDeployments()) {
        File[] local=fileRepository.getDeploymentFiles(deployment.getSha1Hash());
        if (local == null || local.length == 0) {
          remoteRepo.getDeploymentFiles(deployment.getSha1Hash());
        }
      }
    }
  }
}
