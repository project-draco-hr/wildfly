{
  CommunicationVariables variables=new CommunicationVariables(environment,directServerCommunicationListener);
  ServerMaker serverMaker=new ServerMaker(environment,processManagerSlave,messageHandler,variables);
  for (  ServerElement serverEl : hostConfig.getServers()) {
    if (serverEl.isStart()) {
      log.info("Starting server " + serverEl.getName());
      ServerModel serverConf=new ServerModel(domainConfig,hostConfig,serverEl.getName());
      JvmElement jvmElement=getServerJvmElement(domainConfig,hostConfig,serverEl.getName());
      try {
        Server server=serverMaker.makeServer(serverConf,jvmElement,getRespawnPolicy(serverConf));
        servers.put(getServerProcessName(serverConf),server);
        processManagerSlave.startProcess(server.getServerProcessName());
      }
 catch (      IOException e) {
        log.error("Failed to start server " + serverEl.getName(),e);
      }
    }
 else     log.info("Server " + serverEl.getName() + " is configured to not be started");
  }
}
