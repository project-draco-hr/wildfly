{
  final DomainController domainController=new DomainController();
  try {
    final XMLMapper mapper=XMLMapper.Factory.create();
    extensionRegistrar.registerStandardDomainReaders(mapper);
    domainController.start(hostConfig,serviceContainer,mapper,environment.getDomainConfigurationDir());
    setDomainControllerConnection(new LocalDomainControllerConnection(this,domainController));
  }
 catch (  Exception e) {
    throw new RuntimeException("Exception starting local domain controller",e);
  }
}
