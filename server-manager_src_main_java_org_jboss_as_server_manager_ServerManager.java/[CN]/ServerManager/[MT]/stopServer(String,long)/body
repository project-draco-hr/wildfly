{
  String processName=ManagedServer.getServerProcessName(serverName);
  ManagedServer server=servers.get(processName);
  if (server == null) {
    throw new IllegalStateException(String.format("Server %s is unknown; cannot stop it",serverName));
  }
  if (gracefulTimeout > -1) {
    server.gracefulShutdown(gracefulTimeout);
  }
 else {
    server.stopServerProcess();
    server.removeServerProcess();
    servers.remove(processName);
  }
}
