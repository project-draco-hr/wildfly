{
  addProcess("ReceiverA",ReceivingProcess.class);
  TestProcessListenerStream listenerA=startTestProcessListenerAndWait("ReceiverA");
  TestFile fileB=addProcess("ReceiverB",ReceivingProcess.class);
  TestProcessListenerStream listenerB=startTestProcessListenerAndWait("ReceiverB");
  sendMessage("Tester","ReceiverA","One");
  assertEquals("Tester-One",listenerA.readMessage());
  assertFalse(fileB.exists());
  assertNull(listenerB.readMessage(100));
  sendMessage("Tester","ReceiverB","Two");
  sendMessage("Tester","ReceiverB","Three");
  assertEquals("Tester-Two",listenerB.readMessage());
  assertEquals("Tester-Three",listenerB.readMessage());
  assertNull(listenerA.readMessage(100));
  stopTestProcessListenerAndWait(listenerA);
  stopTestProcessListenerAndWait(listenerB);
  removeProcess("ReceiverA");
  removeProcess("ReceiverB");
}
