{
  ModelControllerClient client=managementClient.getControllerClient();
  Assert.assertFalse(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertFalse(readResourceDescription(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertFalse(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  executeOperation(client,ADD,PathAddress.pathAddress(PathElement.pathElement(EXTENSION,MODULE_NAME)),false);
  Assert.assertTrue(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertTrue(readResourceDescription(client).get(CHILDREN,SUBSYSTEM,MODEL_DESCRIPTION,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertFalse(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  executeOperation(client,ADD,PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME)),false);
  executeOperation(client,ADD,PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME),PathElement.pathElement("child","one")),false);
  Assert.assertTrue(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertTrue(readResourceDescription(client).get(CHILDREN,SUBSYSTEM,MODEL_DESCRIPTION,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertTrue(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  executeOperation(client,REMOVE,PathAddress.pathAddress(PathElement.pathElement(EXTENSION,MODULE_NAME)),true);
  Assert.assertTrue(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertTrue(readResourceDescription(client).get(CHILDREN,SUBSYSTEM,MODEL_DESCRIPTION,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertTrue(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  executeOperation(client,REMOVE,PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME),PathElement.pathElement("child","one")),false);
  executeOperation(client,REMOVE,PathAddress.pathAddress(PathElement.pathElement(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME)),false);
  Assert.assertTrue(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertTrue(readResourceDescription(client).get(CHILDREN,SUBSYSTEM,MODEL_DESCRIPTION,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertFalse(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
  executeOperation(client,REMOVE,PathAddress.pathAddress(PathElement.pathElement(EXTENSION,MODULE_NAME)),false);
  Assert.assertFalse(readResource(client).get(EXTENSION,MODULE_NAME).isDefined());
  Assert.assertFalse(readResourceDescription(client).get(CHILDREN,SUBSYSTEM,MODEL_DESCRIPTION,TestExtension.SUBSYSTEM_NAME).isDefined());
  Assert.assertFalse(readResource(client).get(SUBSYSTEM,TestExtension.SUBSYSTEM_NAME).isDefined());
}
