{
  File file=new File(javaHome);
  if (!file.exists()) {
    throw ProcessLogger.ROOT_LOGGER.invalidJavaHome(file.getAbsolutePath());
  }
  file=new File(file,"bin");
  if (!file.exists()) {
    throw ProcessLogger.ROOT_LOGGER.invalidJavaHomeBin(file.getAbsolutePath(),file.getParentFile().getAbsolutePath());
  }
  File java=new File(file,"java");
  if (!java.exists()) {
    java=new File(file,"java.exe");
  }
  if (!java.exists()) {
    throw ProcessLogger.ROOT_LOGGER.cannotFindJavaExe(file.getAbsolutePath());
  }
  return java.getAbsolutePath();
}
