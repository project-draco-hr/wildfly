{
  if (o == null) {
    throw MESSAGES.addedNullToCmrRelationship();
  }
  checkForPKChange();
  List idList=getIdList();
  if (readOnly) {
    throw MESSAGES.collectionIsReadOnlySnapshot();
  }
  if (cmrField.isReadOnly()) {
    throw MESSAGES.fieldIsReadOnly(cmrField.getFieldName());
  }
  if (!relatedLocalInterface.isInstance(o)) {
    Class[] classes=o.getClass().getInterfaces();
    throw MESSAGES.incorrectInterface(relatedLocalInterface.getName(),Arrays.toString(classes));
  }
  try {
    Object id=getPrimaryKey((EJBLocalObject)o);
    if (idList.contains(id)) {
      return false;
    }
    cmrField.createRelationLinks(ctx,id);
    return true;
  }
 catch (  TransactionRolledbackLocalException e) {
    throw MESSAGES.instanceAlreadyRemoved(e);
  }
}
