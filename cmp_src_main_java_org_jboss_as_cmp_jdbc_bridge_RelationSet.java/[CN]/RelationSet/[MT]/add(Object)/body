{
  if (o == null) {
    throw new IllegalArgumentException("Null cannot be added to a CMR " + "relationship collection");
  }
  checkForPKChange();
  List idList=getIdList();
  if (readOnly) {
    throw new EJBException("This collection is a read-only snapshot");
  }
  if (cmrField.isReadOnly()) {
    throw new EJBException("Field is read-only: " + cmrField.getFieldName());
  }
  if (!relatedLocalInterface.isInstance(o)) {
    String msg="Object must be an instance of " + relatedLocalInterface.getName() + ", but is an isntance of [";
    Class[] classes=o.getClass().getInterfaces();
    for (int i=0; i < classes.length; i++) {
      if (i > 0)       msg+=", ";
      msg+=classes[i].getName();
    }
    msg+="]";
    throw new IllegalArgumentException(msg);
  }
  Object id=getPrimaryKey((EJBLocalObject)o);
  if (idList.contains(id)) {
    return false;
  }
  cmrField.createRelationLinks(ctx,id);
  return true;
}
