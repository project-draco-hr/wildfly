{
  return new Iterator(){
    private final Iterator idIterator=getIdList().iterator();
    private Object currentId;
    public boolean hasNext(){
      verifyIteratorIsValid();
      try {
        return idIterator.hasNext();
      }
 catch (      ConcurrentModificationException e) {
        throw MESSAGES.underlyingCollectionModified();
      }
    }
    public Object next(){
      verifyIteratorIsValid();
      try {
        currentId=idIterator.next();
        return cmrField.getRelatedComponent().getEJBLocalObject(currentId);
      }
 catch (      ConcurrentModificationException e) {
        throw MESSAGES.underlyingCollectionModified();
      }
    }
    public void remove(){
      verifyIteratorIsValid();
      if (readOnly) {
        throw MESSAGES.collectionIsReadOnlySnapshot();
      }
      if (cmrField.isReadOnly()) {
        throw MESSAGES.fieldIsReadOnly(cmrField.getFieldName());
      }
      checkForPKChange();
      try {
        idIterator.remove();
        cmrField.destroyRelationLinks(ctx,currentId,false);
      }
 catch (      ConcurrentModificationException e) {
        throw MESSAGES.collectionHasBeenModified(e);
      }
    }
    private void verifyIteratorIsValid(){
      if (setHandle[0] == null) {
        throw MESSAGES.iteratorUsedOutsideOfTx();
      }
    }
  }
;
}
