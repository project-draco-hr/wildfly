{
  List idList=getIdList();
  if (readOnly) {
    throw MESSAGES.collectionIsReadOnlySnapshot();
  }
  if (cmrField.isReadOnly()) {
    throw MESSAGES.fieldIsReadOnly(cmrField.getFieldName());
  }
  checkForPKChange();
  if (c == null) {
    if (idList.size() == 0) {
      return false;
    }
    clear();
    return true;
  }
  List argIds=new ArrayList();
  Iterator iterator=c.iterator();
  while (iterator.hasNext()) {
    EJBLocalObject localObject=(EJBLocalObject)iterator.next();
    Object relatedId=getPrimaryKey(localObject);
    argIds.add(relatedId);
  }
  boolean isModified=false;
  iterator=(new ArrayList(idList)).iterator();
  while (iterator.hasNext()) {
    Object id=iterator.next();
    if (!argIds.contains(id)) {
      cmrField.destroyRelationLinks(ctx,id);
      isModified=true;
    }
  }
  return isModified;
}
