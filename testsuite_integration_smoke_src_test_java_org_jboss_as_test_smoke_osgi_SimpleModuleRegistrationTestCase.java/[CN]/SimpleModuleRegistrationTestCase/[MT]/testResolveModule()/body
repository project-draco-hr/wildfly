{
  XResourceBuilder builder=XResourceBuilderFactory.create();
  builder.addIdentityCapability("somename",null,IdentityNamespace.TYPE_UNKNOWN,null,null);
  builder.addPackageRequirement(SimpleService.class.getPackage().getName(),null,null);
  Resource resource=builder.getResource();
  XResolver resolver=getResolver();
  XEnvironment env=getEnvironment();
  ResolveContext context=resolver.createResolverContext(env,Collections.singleton(resource),null);
  Map<Resource,List<Wire>> wiremap=resolver.resolve(context);
  assertEquals(2,wiremap.size());
  List<Wire> wires=wiremap.get(resource);
  assertEquals(1,wires.size());
  Wire wire=wires.get(0);
  assertEquals(resource,wire.getRequirer());
  XResource provider=(XResource)wire.getProvider();
  XIdentityCapability icap=provider.getIdentityCapability();
  assertEquals("deployment.example-module-reg",icap.getSymbolicName());
}
