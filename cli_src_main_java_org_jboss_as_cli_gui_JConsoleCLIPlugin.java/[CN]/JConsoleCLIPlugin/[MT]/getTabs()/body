{
  Map<String,JPanel> panelMap=new HashMap<String,JPanel>();
  final CommandContext cmdCtx;
  try {
    cmdCtx=CommandContextFactory.getInstance().newCommandContext();
    isConnected=connectCommandContext(cmdCtx);
    if (!isConnected)     return panelMap;
  }
 catch (  Exception e) {
    throw new RuntimeException("Error connecting to JBoss AS.",e);
  }
  JPanel cliGuiPanel=GuiMain.startEmbedded(cmdCtx);
  jconsolePanel=new JPanel(new BorderLayout());
  jconsolePanel.add(GuiMain.makeMenuBar(),BorderLayout.NORTH);
  jconsolePanel.add(cliGuiPanel,BorderLayout.CENTER);
  panelMap.put(getJBossServerName(),jconsolePanel);
  return panelMap;
}
