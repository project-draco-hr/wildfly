{
  JConsoleContext jcCtx=this.getContext();
  MBeanServerConnection mbeanServerConn=jcCtx.getMBeanServerConnection();
  if (mbeanServerConn instanceof RemotingMBeanServerConnection) {
    return connectUsingRemoting(cmdCtx,(RemotingMBeanServerConnection)mbeanServerConn);
  }
 else {
    try {
      cmdCtx.connectController("localhost",9999);
    }
 catch (    Exception e) {
      String message="CLI GUI unable to connect to JBoss AS with localhost:9999 \n";
      message+="Go to Connection -> New Connection and enter a Remote Process \n";
      message+="of the form service:jmx:remoting-jmx://{host_name}:{port}  where \n";
      message+="{host_name} and {port} are the address of the native management \n";
      message+="interface of the AS7 installation being monitored.";
      JOptionPane.showMessageDialog(null,message);
      return false;
    }
  }
  return true;
}
