{
  if (running.compareAndSet(false,true)) {
    serverSocket=new ServerSocket(port);
    final Logger logger=Logger.getLogger(TelnetServer.class.getName());
    logger.info("Listening on " + serverSocket.getLocalPort());
    while (running.get()) {
      final Socket accept=serverSocket.accept();
      final Thread thread=new Thread(){
        @Override public void run(){
          try {
            session(accept);
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
;
      thread.start();
    }
  }
}
