{
  InetAddress dcAddress=domainControllerAddress.getValue();
  if (dcAddress.isAnyLocalAddress() || dcAddress.isSiteLocalAddress()) {
    try {
      dcAddress=InetAddress.getLocalHost();
    }
 catch (    UnknownHostException e) {
      throw new StartException("Failed to get domain controller address",e);
    }
  }
  serverManager.setDomainControllerConnection(new RemoteDomainControllerConnection(serverManager.getName(),dcAddress,domainControllerPort.getValue(),localRepository));
}
