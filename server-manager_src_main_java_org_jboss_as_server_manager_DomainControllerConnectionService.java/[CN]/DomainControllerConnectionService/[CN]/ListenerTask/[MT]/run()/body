{
  boolean reconnect=false;
  try {
    for (; ; ) {
      if (!socket.isConnected()) {
        reconnect=true;
        break;
      }
      if (!DomainControllerClientProtocol.IncomingCommand.processNext(DomainControllerConnectionService.this,DomainControllerConnectionService.this.socketIn)) {
        reconnect=true;
        break;
      }
    }
  }
 catch (  Throwable t) {
    throw new RuntimeException(t);
  }
 finally {
    closeSocket();
    if (reconnect && started.get()) {
      executor.execute(new ConnectTask());
    }
  }
}
