{
  if (maxThreads == null) {
    executorService=Executors.newCachedThreadPool();
  }
 else {
    executorService=Executors.newFixedThreadPool(maxThreads);
  }
  final String path=this.path.getOptionalValue();
  if (path != null) {
    timerPersistence=new FileTimerPersistence(transactionManagerInjectedValue.getValue(),transactionSynchronizationRegistryInjectedValue.getValue(),new File(path + File.separatorChar + name),true,module.getModuleLoader());
    timerPersistence.start();
  }
  timerServiceFactory=new TimerServiceFactoryImpl(timerPersistence,transactionManagerInjectedValue.getValue(),executorService);
}
