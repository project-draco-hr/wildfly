{
  boolean overridden=false;
  Set<String> groups=null;
  if (isDomain) {
    if (hasSystemProperty(host,propName)) {
      overridden=true;
    }
 else     if (affectedGroup != null) {
      groups=Collections.singleton(affectedGroup);
    }
 else     if (domain.hasDefined(SERVER_GROUP)) {
      groups=new HashSet<String>();
      for (      Property groupProp : domain.get(SERVER_GROUP).asPropertyList()) {
        String groupName=groupProp.getName();
        if (!hasSystemProperty(groupProp.getValue(),propName)) {
          groups.add(groupName);
        }
      }
    }
  }
  Set<ServerIdentity> servers=null;
  if (!overridden && host.hasDefined(SERVER_CONFIG)) {
    servers=new HashSet<ServerIdentity>();
    for (    Property serverProp : host.get(SERVER_CONFIG).asPropertyList()) {
      String serverName=serverProp.getName();
      ModelNode server=serverProp.getValue();
      if (!hasSystemProperty(server,propName)) {
        String groupName=server.require(GROUP).asString();
        if (groups == null || groups.contains(groupName)) {
          servers.add(new ServerIdentity(localHostInfo.getLocalHostName(),groupName,serverName));
        }
      }
    }
  }
  if (servers != null) {
    return servers;
  }
  return Collections.emptySet();
}
