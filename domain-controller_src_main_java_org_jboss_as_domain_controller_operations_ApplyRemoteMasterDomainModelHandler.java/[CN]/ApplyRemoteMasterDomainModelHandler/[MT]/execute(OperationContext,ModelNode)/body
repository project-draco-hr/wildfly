{
  final ModelNode domainModel=operation.get(DOMAIN_MODEL);
  if (!appliedExensions) {
    for (    final ModelNode resourceDescription : domainModel.asList()) {
      appliedExensions=true;
      final PathAddress resourceAddress=PathAddress.pathAddress(resourceDescription.require("domain-resource-address"));
      final Resource resource=context.createResource(resourceAddress);
      if (resourceAddress.size() == 1 && resourceAddress.getElement(0).getKey().equals(ModelDescriptionConstants.EXTENSION)) {
        final String module=resourceAddress.getElement(0).getValue();
        try {
          for (          final Extension extension : Module.loadServiceFromCallerModuleLoader(ModuleIdentifier.fromString(module),Extension.class)) {
            extension.initialize(extensionContext);
          }
        }
 catch (        ModuleLoadException e) {
          throw new RuntimeException(e);
        }
      }
      resource.writeModel(resourceDescription.get("domain-resource-model"));
    }
  }
  context.completeStep();
}
