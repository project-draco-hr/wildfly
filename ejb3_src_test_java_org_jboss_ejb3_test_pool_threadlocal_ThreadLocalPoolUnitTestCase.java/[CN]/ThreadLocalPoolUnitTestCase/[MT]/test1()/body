{
  final MockFactory factory=new MockFactory();
  final ThreadLocalPool<MockBean> pool=new ThreadLocalPool<MockBean>(factory);
  pool.start();
  MockBean ctx=pool.get();
  pool.release(ctx);
  ctx=null;
  gc();
  assertEquals(0,pool.getRemoveCount());
  assertEquals(0,MockBean.getFinalized());
  pool.stop();
  gc();
  assertEquals(1,pool.getRemoveCount());
  assertEquals(1,MockBean.getFinalized());
}
