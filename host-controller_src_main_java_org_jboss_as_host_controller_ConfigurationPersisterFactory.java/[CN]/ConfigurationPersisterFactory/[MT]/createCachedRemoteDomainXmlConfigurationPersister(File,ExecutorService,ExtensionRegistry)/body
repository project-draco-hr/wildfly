{
  DomainXml domainXml=new DomainXml(Module.getBootModuleLoader(),executorService,extensionRegistry);
  File file=new File(configDir,"domain.cached-remote.xml");
  ExtensibleConfigurationPersister persister=new XmlConfigurationPersister(file,new QName(Namespace.CURRENT.getUriString(),"domain"),domainXml,domainXml);
  extensionRegistry.setWriterRegistry(persister);
  return persister;
}
