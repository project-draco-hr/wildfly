{
  HostXml hostXml=new HostXml(environment.getHostControllerName(),environment.getRunningModeControl().getRunningMode(),environment.isUseCachedDc());
  BackupXmlConfigurationPersister persister=new BackupXmlConfigurationPersister(file,new QName(Namespace.CURRENT.getUriString(),"host"),hostXml,hostXml);
  for (  Namespace namespace : Namespace.domainValues()) {
    if (!namespace.equals(Namespace.CURRENT)) {
      persister.registerAdditionalRootElement(new QName(namespace.getUriString(),"host"),hostXml);
    }
  }
  return persister;
}
