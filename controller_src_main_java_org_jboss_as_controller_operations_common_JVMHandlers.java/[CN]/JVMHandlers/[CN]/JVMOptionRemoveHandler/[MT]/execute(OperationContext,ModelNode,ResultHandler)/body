{
  final ModelNode option=operation.require(JVM_OPTION);
  final ModelNode compensatingOperation=new ModelNode();
  compensatingOperation.get(OP).set(JVMOptionAddHandler.OPERATION_NAME);
  compensatingOperation.get(OP_ADDR).set(operation.require(OP_ADDR));
  compensatingOperation.get(JVM_OPTION).set(option);
  final ModelNode subModel=context.getSubModel();
  if (subModel.hasDefined(JVM_OPTIONS)) {
    final ModelNode values=subModel.get(JVM_OPTIONS);
    context.getSubModel().get(JVM_OPTIONS).setEmptyList();
    for (    ModelNode value : values.asList()) {
      if (!value.equals(option)) {
        subModel.get(JVM_OPTIONS).add(value);
      }
    }
  }
  resultHandler.handleResultComplete();
  return new BasicOperationResult(compensatingOperation);
}
