{
  final Method[] preDestroyMethods=config.getPreDestroyMethods();
  if (preDestroyMethods == null) {
    return;
  }
  final ClassLoader contextCl=getContextClassLoader();
  setContextClassLoader(config.getBeanClassLoader());
  try {
    for (    Method preDestroyMethod : preDestroyMethods) {
      try {
        preDestroyMethod.invoke(instance);
      }
 catch (      Throwable t) {
        throw new RuntimeException("Failed to invoke pre destroy method '" + preDestroyMethod.getName() + "' for class "+ config.getBeanClass(),t);
      }
    }
  }
  finally {
    setContextClassLoader(contextCl);
  }
}
