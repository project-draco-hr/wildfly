{
  ManagementClient managementClient=new ManagementClient(TestSuiteEnvironment.getModelControllerClient(),TestSuiteEnvironment.getServerAddress(),TestSuiteEnvironment.getServerPort(),"http-remoting");
  cli.sendLine("/subsystem=jpa:read-attribute(name=default-extended-persistence-inheritance)");
  CLIOpResult result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  String value=(String)result.getResult();
  assertThat(value,is("DEEP"));
  cli.sendLine("/subsystem=jpa:write-attribute(name=default-extended-persistence-inheritance, value=SHALLOW)");
  result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  checkResponseHeadersForProcessState(result);
  reloadServer(managementClient,TIMEOUT);
  cli.sendLine("/subsystem=jpa:read-attribute(name=default-extended-persistence-inheritance)");
  result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  value=(String)result.getResult();
  assertThat(value,is("SHALLOW"));
  cli.sendLine("/subsystem=jpa:write-attribute(name=default-extended-persistence-inheritance, value=SHALLOW)");
  result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  assertNoProcessState(result);
  cli.sendLine("/subsystem=jpa:read-attribute(name=default-extended-persistence-inheritance)");
  result=cli.readAllAsOpResult();
  assertTrue(result.isIsOutcomeSuccess());
  value=(String)result.getResult();
  assertThat(value,is("SHALLOW"));
}
