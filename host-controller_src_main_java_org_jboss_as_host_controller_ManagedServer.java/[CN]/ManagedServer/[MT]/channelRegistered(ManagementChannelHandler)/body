{
  final InternalState current=this.internalState;
  final TransformingProxyController proxy=TransformingProxyController.Factory.create(channelAssociation,Transformers.Factory.create(transformationTarget),PathAddress.pathAddress(PathElement.pathElement(HOST,hostControllerName),serverPath),ProxyOperationAddressTranslator.SERVER);
  if (current == InternalState.SERVER_STARTED && proxyController == null) {
    this.proxyController=proxy;
  }
 else {
    internalSetState(new TransitionTask(){
      @Override public void execute(      final ManagedServer server) throws Exception {
        server.proxyController=proxy;
      }
    }
,InternalState.SERVER_STARTING,InternalState.SERVER_STARTING);
  }
  return proxyController;
}
