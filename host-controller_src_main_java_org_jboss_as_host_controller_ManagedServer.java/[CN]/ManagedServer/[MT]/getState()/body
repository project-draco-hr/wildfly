{
  final boolean start=this.requiredState == InternalState.SERVER_STARTED;
  final InternalState state=internalState;
switch (state) {
case STOPPED:
    return ServerStatus.STOPPED;
case SERVER_STARTED:
  return ServerStatus.STARTED;
case FAILED:
return ServerStatus.FAILED;
default :
{
if (start) {
  return ServerStatus.STARTING;
}
 else {
  return ServerStatus.STOPPING;
}
}
}
}
