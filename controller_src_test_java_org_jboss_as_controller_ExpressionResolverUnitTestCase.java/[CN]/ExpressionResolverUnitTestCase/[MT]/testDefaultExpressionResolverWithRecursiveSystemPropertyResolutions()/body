{
  System.setProperty("test.prop.expr","EXPR");
  System.setProperty("test.prop.b","B");
  System.setProperty("test.prop.c","C");
  System.setProperty("test.prop.two","TWO");
  System.setProperty("test.prop.three","THREE");
  System.setProperty("test.prop.prop","${test.prop.prop.intermediate}");
  System.setProperty("test.prop.prop.intermediate","PROP");
  System.setProperty("test.prop.expr","${NOTHERE:${ISHERE}}");
  System.setProperty("ISHERE","EXPR");
  try {
    ModelNode node=ExpressionResolver.TEST_RESOLVER.resolveExpressions(createModelNode());
    checkResolved(node);
  }
  finally {
    System.clearProperty("test.prop.expr");
    System.clearProperty("test.prop.b");
    System.clearProperty("test.prop.c");
    System.clearProperty("test.prop.two");
    System.clearProperty("test.prop.three");
    System.clearProperty("test.prop.prop");
  }
}
