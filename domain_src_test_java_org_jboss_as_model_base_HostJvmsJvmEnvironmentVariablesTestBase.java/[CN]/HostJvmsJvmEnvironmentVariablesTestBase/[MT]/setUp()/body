{
  super.setUp();
  delegate=new JvmEnvironmentVariablesTestCommon(new JvmEnvironmentVariablesTestCommon.ContentAndPropertiesGetter(getXMLMapper(),getTargetNamespace(),getTargetNamespaceLocation()){
    @Override PropertiesElement getTestProperties(    String fullcontent) throws XMLStreamException, FactoryConfigurationError, UpdateFailedException {
      HostModel root=ModelParsingSupport.parseHostModel(getXMLMapper(),fullcontent);
      JvmElement jvm=root.getJvm("test");
      assertNotNull(jvm);
      PropertiesElement testee=jvm.getEnvironmentVariables();
      assertNotNull(testee);
      return testee;
    }
    @Override String getFullContent(    String testContent){
      testContent=ModelParsingSupport.wrapJvm(testContent);
      testContent=ModelParsingSupport.wrapJvms(testContent);
      String fullcontent=ModelParsingSupport.getXmlContent(Element.HOST.getLocalName(),getTargetNamespace(),getTargetNamespaceLocation(),testContent);
      return fullcontent;
    }
  }
);
}
