{
  context.startSubsystemElement(Namespace.CURRENT.getUriString(),false);
  ModelNode node=context.getModelNode();
  if (has(node,ModelConstants.CONFIGURATION)) {
    ModelNode configuration=node.get(ModelConstants.CONFIGURATION);
    for (    String pid : new TreeSet<String>(configuration.keys())) {
      writer.writeStartElement(Element.CONFIGURATION.getLocalName());
      writer.writeAttribute(Attribute.PID.getLocalName(),pid);
      ModelNode entries=configuration.get(pid).get(ModelConstants.ENTRIES);
      if (entries.isDefined()) {
        for (        String propKey : entries.keys()) {
          String propValue=entries.get(propKey).asString();
          writer.writeStartElement(Element.PROPERTY.getLocalName());
          writer.writeAttribute(Attribute.NAME.getLocalName(),propKey);
          writer.writeAttribute(Attribute.VALUE.getLocalName(),propValue);
          writer.writeEndElement();
        }
      }
      writer.writeEndElement();
    }
  }
  writer.writeEndElement();
}
