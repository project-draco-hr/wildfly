{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream oos=new ObjectOutputStream(baos);
  try {
    oos.writeObject(object);
    oos.close();
  }
 catch (  Exception e) {
    Assert.fail(e.getMessage());
  }
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream ois=new ObjectInputStream(bais);
  Object deserialized=null;
  try {
    deserialized=ois.readObject();
  }
 catch (  Exception e) {
    Assert.fail(e.getMessage());
  }
 finally {
    ois.close();
  }
  Assert.assertEquals(object.getClass().getName(),deserialized.getClass().getName());
}
