{
  if (optimisticLocking == null || !optimisticLocking) {
    return new ReferenceCountingEntityCache(this);
  }
 else {
    return new TransactionLocalEntityCache(this);
  }
}
