{
  ControllerLogger.MGMT_OP_LOGGER.tracef("Executing transactional ExecuteRequest for %d",context.getOperationId());
  final ExecuteRequestContext executeRequestContext=context.getAttachment();
  executeRequestContext.initialize(context);
  final Integer batchId=executeRequestContext.getOperationId();
  final OperationMessageHandlerProxy messageHandlerProxy=new OperationMessageHandlerProxy(channelAssociation,batchId);
  final ProxyOperationControlProxy control=new ProxyOperationControlProxy(executeRequestContext);
  final OperationAttachmentsProxy attachmentsProxy=OperationAttachmentsProxy.create(channelAssociation,batchId,attachmentsLength);
  final ModelNode result;
  try {
    result=internalExecute(operation,context,messageHandlerProxy,control,attachmentsProxy);
  }
 catch (  Exception e) {
    final ModelNode failure=new ModelNode();
    failure.get(OUTCOME).set(FAILED);
    failure.get(FAILURE_DESCRIPTION).set(e.getClass().getName() + ":" + e.getMessage());
    control.operationFailed(failure);
    attachmentsProxy.shutdown(e);
    return;
  }
  if (result.hasDefined(FAILURE_DESCRIPTION)) {
    control.operationFailed(result);
  }
 else {
    control.operationCompleted(result);
  }
}
