{
  final EjbJarDescription ejbJarDescription=getEjbJarDescription(deploymentUnit);
  final String beanName=mdb.getName();
  if (ejbJarDescription.hasComponent(beanName)) {
    return;
  }
  final String beanClassName=mdb.getEjbClass();
  String messageListenerInterface=mdb.getMessagingType();
  if (messageListenerInterface == null || messageListenerInterface.trim().isEmpty()) {
    messageListenerInterface=MessageListener.class.getName();
  }
  final Properties activationConfigProps=getActivationConfigProperties(mdb.getActivationConfig());
  final MessageDrivenComponentDescription mdbComponentDescription=new MessageDrivenComponentDescription(beanName,beanClassName,ejbJarDescription,deploymentUnit.getServiceName(),messageListenerInterface,activationConfigProps);
  ejbJarDescription.getEEModuleDescription().addComponent(mdbComponentDescription);
}
