{
  this.mode=ModelNodes.asEnum(MODE.getDefinition().resolveModelAttribute(resolver,model),TransactionMode.class);
  this.builder.lockingMode(ModelNodes.asEnum(LOCKING.getDefinition().resolveModelAttribute(resolver,model),LockingMode.class));
  this.builder.cacheStopTimeout(STOP_TIMEOUT.getDefinition().resolveModelAttribute(resolver,model).asLong());
  this.builder.transactionMode((this.mode == TransactionMode.NONE) ? org.infinispan.transaction.TransactionMode.NON_TRANSACTIONAL : org.infinispan.transaction.TransactionMode.TRANSACTIONAL);
  this.builder.useSynchronization(this.mode == TransactionMode.NON_XA);
  this.builder.recovery().enabled(this.mode == TransactionMode.FULL_XA);
  this.builder.invocationBatching().disable();
  return this;
}
