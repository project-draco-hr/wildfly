{
  ServiceRegistry registry=context.getServiceRegistry(true);
  final ServiceController<?> inactiveRaController=registry.getService(ConnectorServices.INACTIVE_RESOURCE_ADAPTER_SERVICE.append(raName));
  if (inactiveRaController == null) {
    throw new OperationFailedException("rar not yet deployed");
  }
  InactiveResourceAdapterDeploymentService.InactiveResourceAdapterDeployment inactive=(InactiveResourceAdapterDeploymentService.InactiveResourceAdapterDeployment)inactiveRaController.getValue();
  final ServiceController<?> RaxmlController=registry.getService(ServiceName.of(ConnectorServices.RA_SERVICE,raName));
  ResourceAdapter raxml=(ResourceAdapter)RaxmlController.getValue();
  RaServicesFactory.createDeploymentService(inactive.getRegistration(),inactive.getConnectorXmlDescriptor(),inactive.getModule(),inactive.getServiceTarget(),raName,inactive.getDeploymentUnitServiceName(),inactive.getDeployment(),raxml,inactive.getResource(),serviceVerificationHandler);
}
