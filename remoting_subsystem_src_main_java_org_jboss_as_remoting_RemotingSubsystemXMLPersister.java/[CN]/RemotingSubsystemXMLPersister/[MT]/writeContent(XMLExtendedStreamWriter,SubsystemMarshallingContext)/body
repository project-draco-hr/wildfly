{
  context.startSubsystemElement(Namespace.CURRENT.getUriString(),false);
  final ModelNode model=context.getModelNode();
  writeWorkerThreadPoolIfAttributesSet(writer,model);
  writeEndpointIfAttributesSet(writer,model);
  if (model.hasDefined(CONNECTOR)) {
    final ModelNode connector=model.get(CONNECTOR);
    for (    String name : connector.keys()) {
      writeConnector(writer,connector.require(name),name);
    }
  }
  if (model.hasDefined(HTTP_CONNECTOR)) {
    final ModelNode connector=model.get(HTTP_CONNECTOR);
    for (    String name : connector.keys()) {
      writeHttpConnector(writer,connector.require(name),name);
    }
  }
  if (model.hasDefined(OUTBOUND_CONNECTION) || model.hasDefined(REMOTE_OUTBOUND_CONNECTION) || model.hasDefined(LOCAL_OUTBOUND_CONNECTION)) {
    writer.writeStartElement(Element.OUTBOUND_CONNECTIONS.getLocalName());
    if (model.hasDefined(OUTBOUND_CONNECTION)) {
      final List<Property> outboundConnections=model.get(OUTBOUND_CONNECTION).asPropertyList();
      for (      Property property : outboundConnections) {
        final String connectionName=property.getName();
        final ModelNode genericOutboundConnectionModel=property.getValue();
        this.writeOutboundConnection(writer,connectionName,genericOutboundConnectionModel);
      }
    }
    if (model.hasDefined(REMOTE_OUTBOUND_CONNECTION)) {
      final List<Property> remoteOutboundConnections=model.get(REMOTE_OUTBOUND_CONNECTION).asPropertyList();
      for (      Property property : remoteOutboundConnections) {
        final String connectionName=property.getName();
        final ModelNode remoteOutboundConnectionModel=property.getValue();
        this.writeRemoteOutboundConnection(writer,connectionName,remoteOutboundConnectionModel);
      }
    }
    if (model.hasDefined(LOCAL_OUTBOUND_CONNECTION)) {
      final List<Property> localOutboundConnections=model.get(LOCAL_OUTBOUND_CONNECTION).asPropertyList();
      for (      Property property : localOutboundConnections) {
        final String connectionName=property.getName();
        final ModelNode localOutboundConnectionModel=property.getValue();
        this.writeLocalOutboundConnection(writer,connectionName,localOutboundConnectionModel);
      }
    }
    writer.writeEndElement();
  }
  writer.writeEndElement();
}
