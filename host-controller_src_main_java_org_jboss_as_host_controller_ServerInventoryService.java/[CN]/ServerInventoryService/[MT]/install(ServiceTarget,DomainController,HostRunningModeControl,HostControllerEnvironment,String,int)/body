{
  final ServerInventoryCallbackService callbackService=new ServerInventoryCallbackService();
  serviceTarget.addService(ServerInventoryCallbackService.SERVICE_NAME,callbackService).addDependency(ServerInventoryService.SERVICE_NAME,ServerInventory.class,callbackService.getServerInventoryInjectedValue()).setInitialMode(ON_DEMAND).install();
  final ServerInventoryService inventory=new ServerInventoryService(domainController,runningModeControl,environment,port);
  serviceTarget.addService(ServerInventoryService.SERVICE_NAME,inventory).addDependency(HostControllerService.HC_EXECUTOR_SERVICE_NAME,ExecutorService.class,inventory.executorService).addDependency(ProcessControllerConnectionService.SERVICE_NAME,ProcessControllerConnectionService.class,inventory.getClient()).addDependency(NetworkInterfaceService.JBOSS_NETWORK_INTERFACE.append(interfaceBinding),NetworkInterfaceBinding.class,inventory.interfaceBinding).install();
  return inventory.futureInventory;
}
