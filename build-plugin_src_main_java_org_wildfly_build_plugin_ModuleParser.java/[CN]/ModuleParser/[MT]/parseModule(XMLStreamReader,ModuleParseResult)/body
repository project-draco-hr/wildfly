{
  final int count=reader.getAttributeCount();
  String name=null;
  String slot="main";
  for (int i=0; i < count; i++) {
    if ("name".equals(reader.getAttributeName(i).getLocalPart())) {
      name=reader.getAttributeValue(i);
    }
 else     if ("slot".equals(reader.getAttributeName(i).getLocalPart())) {
      slot=reader.getAttributeValue(i);
    }
  }
  result.identifier=ModuleIdentifier.create(name,slot);
  while (reader.hasNext()) {
    int type=reader.next();
switch (type) {
case START_ELEMENT:
      if (reader.getLocalName().equals("dependencies")) {
        parseDependencies(reader,result);
      }
    if (reader.getLocalName().equals("resources")) {
      parseResources(reader,result);
    }
  break;
case END_ELEMENT:
if (reader.getLocalName().equals("module")) {
  return;
}
}
}
}
