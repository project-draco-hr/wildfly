{
  String name=null;
  String protocol=null;
  String bindingRef=null;
  String scheme=null;
  String executorRef=null;
  String enabled=null;
  String enableLookups=null;
  String proxyName=null;
  String proxyPort=null;
  String maxPostSize=null;
  String maxSavePostSize=null;
  String secure=null;
  String redirectPort=null;
  String maxConnections=null;
  final int count=reader.getAttributeCount();
  for (int i=0; i < count; i++) {
    requireNoNamespaceAttribute(reader,i);
    final String value=reader.getAttributeValue(i);
    final Attribute attribute=Attribute.forName(reader.getAttributeLocalName(i));
switch (attribute) {
case NAME:
      name=value;
    break;
case SOCKET_BINDING:
  bindingRef=value;
break;
case SCHEME:
scheme=value;
break;
case PROTOCOL:
protocol=value;
break;
case EXECUTOR:
executorRef=value;
break;
case ENABLED:
enabled=value;
break;
case ENABLE_LOOKUPS:
enableLookups=value;
break;
case PROXY_NAME:
proxyName=value;
break;
case PROXY_PORT:
proxyPort=value;
break;
case MAX_POST_SIZE:
maxPostSize=value;
break;
case MAX_SAVE_POST_SIZE:
maxSavePostSize=value;
break;
case SECURE:
secure=value;
break;
case REDIRECT_PORT:
redirectPort=value;
break;
case MAX_CONNECTIONS:
maxConnections=value;
break;
default :
throw unexpectedAttribute(reader,i);
}
}
if (name == null) {
throw missingRequired(reader,Collections.singleton(Attribute.NAME));
}
if (bindingRef == null) {
throw missingRequired(reader,Collections.singleton(Attribute.SOCKET_BINDING));
}
final ModelNode connector=new ModelNode();
connector.get(OP).set(ADD);
connector.get(OP_ADDR).set(address).add(CONNECTOR,name);
while (reader.hasNext() && reader.nextTag() != END_ELEMENT) {
switch (Namespace.forUri(reader.getNamespaceURI())) {
case WEB_1_0:
{
final Element element=Element.forName(reader.getLocalName());
switch (element) {
case SSL:
final ModelNode ssl=parseSsl(reader);
connector.get(SSL).set(ssl);
break;
case VIRTUAL_SERVER:
connector.get(VIRTUAL_SERVER).add(readStringAttributeElement(reader,Attribute.NAME.getLocalName()));
break;
default :
throw unexpectedElement(reader);
}
break;
}
default :
throw unexpectedElement(reader);
}
}
if (protocol != null) connector.get(PROTOCOL).set(protocol);
connector.get(SOCKET_BINDING).set(bindingRef);
if (scheme != null) connector.get(SCHEME).set(scheme);
if (executorRef != null) connector.get(EXECUTOR).set(executorRef);
if (enabled != null) connector.get(ENABLED).set(enabled);
if (enableLookups != null) connector.get(ENABLE_LOOKUPS).set(enableLookups);
if (proxyName != null) connector.get(PROXY_NAME).set(proxyName);
if (proxyPort != null) connector.get(PROXY_PORT).set(proxyPort);
if (maxPostSize != null) connector.get(MAX_POST_SIZE).set(maxPostSize);
if (maxSavePostSize != null) connector.get(MAX_SAVE_POST_SIZE).set(maxSavePostSize);
if (secure != null) connector.get(SECURE).set(secure);
if (redirectPort != null) connector.get(REDIRECT_PORT).set(redirectPort);
if (maxConnections != null) connector.get(MAX_CONNECTIONS).set(maxConnections);
list.add(connector);
}
