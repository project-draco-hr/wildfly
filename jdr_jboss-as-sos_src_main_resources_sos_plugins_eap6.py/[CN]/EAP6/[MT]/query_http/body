def query_http(self, request_obj, postdata=None):
    host_port = self.getOption('address')
    username = self.getOption('user')
    password = self.getOption('pass')
    uri = (((('http://' + host_port) + '/management') + request_obj.resource) + '?')
    json_data = {'operation': request_obj.operation, 'address': [], }
    for (key, val) in request_obj.url_parts():
        json_data['address'].append({key: val, })
    for (key, val) in request_obj.parameters.iteritems():
        json_data[key] = val
    postdata = json.dumps(json_data)
    headers = {'Content-Type': 'application/json', 'Accept': 'application/json', }
    opener = urllib2.build_opener()
    if (username and password):
        params = {'realm': 'PropertiesMgmtSecurityRealm', 'uri': uri, 'user': username, 'passwd': password, }
        digest_auth_handler = urllib2.HTTPDigestAuthHandler()
        digest_auth_handler.add_password(**params)
        basic_auth_handler = urllib2.HTTPBasicAuthHandler()
        basic_auth_handler.add_password(**params)
        opener.add_handler(digest_auth_handler)
        opener.add_handler(basic_auth_handler)
    req = urllib2.Request(uri, data=postdata, headers=headers)
    try:
        resp = opener.open(req)
        resp.read()
    except Exception as e:
        self.addAlert(('Could not query url: %s; error: %s' % (uri, e)))
