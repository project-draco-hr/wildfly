{
  ManagementResourceRegistration hostRegistration=root.registerSubModel(new HostResourceDefinition(hostName,configurationPersister,environment,runningModeControl,localFileRepository,hostControllerInfo,serverInventory,remoteFileRepository,contentRepository,domainController,extensionRegistry,vaultReader,ignoredRegistry,processState,pathManager,authorizer,auditLogger));
  LocalDomainControllerAddHandler localDcAddHandler=LocalDomainControllerAddHandler.getInstance(root,hostControllerInfo,configurationPersister,localFileRepository,contentRepository,domainController,extensionRegistry,pathManager);
  hostRegistration.registerOperationHandler(LocalDomainControllerAddHandler.DEFINITION,localDcAddHandler);
  hostRegistration.registerOperationHandler(LocalDomainControllerRemoveHandler.DEFINITION,LocalDomainControllerRemoveHandler.INSTANCE);
  RemoteDomainControllerAddHandler remoteDcAddHandler=new RemoteDomainControllerAddHandler(root,hostControllerInfo,domainController,configurationPersister,contentRepository,remoteFileRepository,extensionRegistry,ignoredRegistry,pathManager);
  hostRegistration.registerOperationHandler(RemoteDomainControllerAddHandler.DEFINITION,remoteDcAddHandler);
  hostRegistration.registerOperationHandler(RemoteDomainControllerRemoveHandler.DEFINITION,RemoteDomainControllerRemoveHandler.INSTANCE);
}
