{
  if (DIGEST_MD5.equals(mechanismName) && digestMd5Supported()) {
    final CallbackHandler realHandler=realm.getCallbackHandler();
    return new CallbackHandler(){
      public void handle(      Callback[] callbacks) throws IOException, UnsupportedCallbackException {
        List<Callback> filteredCallbacks=new ArrayList<Callback>(callbacks.length - 1);
        for (        Callback current : callbacks) {
          if (current instanceof RealmCallback == false) {
            filteredCallbacks.add(current);
          }
        }
        realHandler.handle(filteredCallbacks.toArray(new Callback[filteredCallbacks.size()]));
      }
    }
;
  }
  return null;
}
