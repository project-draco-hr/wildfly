{
  if (TMP_FILE.exists()) {
    if (!TMP_FILE.delete()) {
      fail("Failed to delete " + TMP_FILE.getAbsolutePath());
    }
  }
  FileWriter writer=null;
  try {
    writer=new FileWriter(TMP_FILE);
    for (    String line : cmd) {
      writer.write(line);
      writer.write('\n');
    }
  }
 catch (  IOException e) {
    fail("Failed to write to " + TMP_FILE.getAbsolutePath() + ": "+ e.getLocalizedMessage());
  }
 finally {
    if (writer != null) {
      try {
        writer.close();
      }
 catch (      IOException e) {
      }
    }
  }
}
