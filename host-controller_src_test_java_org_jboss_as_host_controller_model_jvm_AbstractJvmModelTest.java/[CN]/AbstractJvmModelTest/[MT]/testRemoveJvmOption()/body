{
  KernelServices kernelServices=doEmptyJvmAdd();
  kernelServices.executeForResult(createAddJvmOptionOperation("-Xoption1"));
  kernelServices.executeForResult(createAddJvmOptionOperation("-Xoption2"));
  kernelServices.executeForResult(createAddJvmOptionOperation("-Xoption3"));
  ModelNode resource=getJvmResource(kernelServices);
  Assert.assertEquals(new ModelNode().add("-Xoption1").add("-Xoption2").add("-Xoption3"),resource.get("jvm-options"));
  kernelServices.executeForResult(createRemoveJvmOptionOperation("-Xoption2"));
  Assert.assertEquals(new ModelNode().add("-Xoption1").add("-Xoption3"),getJvmResource(kernelServices).get("jvm-options"));
  kernelServices.executeForResult(createRemoveJvmOptionOperation("-Xoption2"));
  Assert.assertEquals(new ModelNode().add("-Xoption1").add("-Xoption3"),getJvmResource(kernelServices).get("jvm-options"));
  kernelServices.executeForResult(createRemoveJvmOptionOperation("-Xoption1"));
  Assert.assertEquals(new ModelNode().add("-Xoption3"),getJvmResource(kernelServices).get("jvm-options"));
  kernelServices.executeForResult(createRemoveJvmOptionOperation("-Xoption3"));
  Assert.assertEquals(new ModelNode().setEmptyList(),getJvmResource(kernelServices).get("jvm-options"));
}
