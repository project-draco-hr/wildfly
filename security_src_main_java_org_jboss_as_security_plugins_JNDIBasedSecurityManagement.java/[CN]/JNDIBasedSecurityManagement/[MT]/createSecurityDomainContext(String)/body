{
  log.debug("Creating SDC for domain=" + securityDomain);
  AuthenticationManager am=createAuthenticationManager(securityDomain);
  if (deepCopySubjectMode) {
    setDeepCopySubjectMode(am);
  }
  SecurityDomainContext securityDomainContext=new SecurityDomainContext(am,null);
  securityDomainContext.setAuthorizationManager(createAuthorizationManager(securityDomain));
  securityDomainContext.setAuditManager(createAuditManager(securityDomain));
  securityDomainContext.setIdentityTrustManager(createIdentityTrustManager(securityDomain));
  securityDomainContext.setMappingManager(createMappingManager(securityDomain));
  return securityDomainContext;
}
