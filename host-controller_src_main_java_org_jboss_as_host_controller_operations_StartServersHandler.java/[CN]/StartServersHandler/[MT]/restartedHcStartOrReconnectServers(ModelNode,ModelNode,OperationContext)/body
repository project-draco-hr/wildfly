{
  Map<String,ProcessInfo> processInfos=serverInventory.determineRunningProcesses();
  for (  final String serverName : servers.keys()) {
    ProcessInfo info=processInfos.get(serverInventory.getServerProcessName(serverName));
    boolean auto=servers.get(serverName,AUTO_START).asBoolean(true);
    if (info == null && auto) {
      try {
        serverInventory.startServer(serverName,domainModel,START_BLOCKING);
      }
 catch (      Exception e) {
        ROOT_LOGGER.failedToStartServer(e,serverName);
      }
    }
 else     if (info != null) {
      final byte[] authKey=info.getAuthKey();
      serverInventory.reconnectServer(serverName,domainModel,authKey,info.isRunning(),info.isStopping());
    }
  }
}
