{
  final File appClient=new File(jbossHome,Constants.APP_CLIENT);
  final File bundles=new File(jbossHome,Constants.BUNDLES);
  final File domain=new File(jbossHome,Constants.DOMAIN);
  final File modules=new File(jbossHome,Constants.MODULES);
  final File metadata=new File(jbossHome,Constants.INSTALLATION);
  final File layersConf=new File(modules,Constants.LAYERS_CONF);
  final File standalone=new File(jbossHome,Constants.STANDALONE);
  return new InstalledImage(){
    @Override public File getJbossHome(){
      return jbossHome;
    }
    @Override public File getAppClientDir(){
      return appClient;
    }
    @Override public File getBundlesDir(){
      return bundles;
    }
    @Override public File getDomainDir(){
      return domain;
    }
    @Override public File getInstallationMetadata(){
      return metadata;
    }
    @Override public File getPatchesDir(){
      return new File(getInstallationMetadata(),Constants.PATCHES);
    }
    @Override public File getModulesDir(){
      return modules;
    }
    @Override public File getPatchHistoryDir(    String patchId){
      return new File(getPatchesDir(),patchId);
    }
    @Override public File getStandaloneDir(){
      return standalone;
    }
    @Override public File getLayersConf(){
      return layersConf;
    }
  }
;
}
