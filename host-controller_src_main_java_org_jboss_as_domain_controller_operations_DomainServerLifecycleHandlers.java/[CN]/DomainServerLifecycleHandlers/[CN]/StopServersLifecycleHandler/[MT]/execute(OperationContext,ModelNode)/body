{
  final String group=getServerGroupName(operation);
  context.addStep(new OperationStepHandler(){
    @Override public void execute(    OperationContext context,    ModelNode operation) throws OperationFailedException {
      if (group != null) {
        final ModelNode model=Resource.Tools.readModel(context.readResourceFromRoot(PathAddress.EMPTY_ADDRESS,true));
        for (        String server : getServersForGroup(model,group)) {
          serverInventory.stopServer(server,TIMEOUT);
        }
      }
 else {
        serverInventory.stopServers(TIMEOUT);
      }
      context.completeStep(OperationContext.RollbackHandler.NOOP_ROLLBACK_HANDLER);
    }
  }
,Stage.RUNTIME);
  context.stepCompleted();
}
