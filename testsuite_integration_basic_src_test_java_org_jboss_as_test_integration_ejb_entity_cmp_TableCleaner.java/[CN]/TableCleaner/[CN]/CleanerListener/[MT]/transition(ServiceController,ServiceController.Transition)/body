{
  if (ServiceController.State.DOWN == transition.getAfter().getState()) {
    try {
      log.info("NUKING!");
      Driver driver=(Driver)Class.forName("org.h2.Driver",true,this.getClass().getClassLoader()).newInstance();
      Properties props=new Properties();
      props.setProperty("user","sa");
      props.setProperty("password","sa");
      Connection conn=driver.connect("jdbc:h2:mem:test;DB_CLOSE_DELAY=-1",props);
      conn.createStatement().execute("DROP ALL OBJECTS");
      conn.close();
    }
 catch (    Throwable t) {
      log.error("NO NUKE!!",t);
      return;
    }
    log.info("NUKE SUCCESS!");
  }
}
