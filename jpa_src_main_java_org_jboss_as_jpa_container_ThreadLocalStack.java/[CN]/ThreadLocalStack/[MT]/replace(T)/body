{
  ArrayList<T> list=stack.get();
  if (list == null) {
    throw new RuntimeException("Internal error:  Cannot replace top of stack as stack is null (same as being empty).");
  }
  list.set(list.size() - 1,obj);
}
