{
  String patchId=identity.getCumulativePatchID();
  Patch.PatchType type=Patch.PatchType.CUMULATIVE;
  if (!identity.getPatchIDs().isEmpty()) {
    type=Patch.PatchType.ONE_OFF;
    patchId=identity.getPatchIDs().get(0);
  }
 else   if (patchId.equals(Constants.BASE)) {
    head=null;
    return;
  }
  head=new State(this,patchId,type);
  resetIndex();
}
