{
  if (previous == null) {
    if (!hasPrevious(ctx)) {
      return null;
    }
    try {
      previous=new State((RollbackPatch)historyDir.getRollbackXml().getPatch(),ctx);
    }
 catch (    IOException e) {
      ctx.getErrorHandler().error("Failed to load previous patch",e);
      return null;
    }
    validateForState(ctx,previous);
  }
  return previous;
}
