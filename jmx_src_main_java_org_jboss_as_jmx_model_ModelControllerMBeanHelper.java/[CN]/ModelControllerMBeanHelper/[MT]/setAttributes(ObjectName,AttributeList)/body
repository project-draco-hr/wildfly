{
  final ResourceAndRegistration reg=getRootResourceAndRegistration();
  final PathAddress address=resolvePathAddress(name,reg);
  if (address == null) {
    throw JmxLogger.ROOT_LOGGER.mbeanNotFound(name);
  }
  final ResourceAccessControl accessControl=accessControlUtil.getResourceAccessWithInstanceNotFoundExceptionIfNotAccessible(name,address,false);
  for (  Attribute attribute : attributes.asList()) {
    try {
      setAttribute(reg,address,name,attribute,accessControl);
    }
 catch (    JMRuntimeException e) {
      throw e;
    }
catch (    Exception e) {
      throw JmxLogger.ROOT_LOGGER.cannotSetAttribute(e,attribute.getName());
    }
  }
  return attributes;
}
