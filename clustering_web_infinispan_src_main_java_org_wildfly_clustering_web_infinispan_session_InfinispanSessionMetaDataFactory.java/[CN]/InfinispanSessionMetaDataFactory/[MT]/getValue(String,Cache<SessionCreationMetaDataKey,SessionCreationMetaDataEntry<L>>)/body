{
  SessionCreationMetaDataKey creationMetaDataKey=new SessionCreationMetaDataKey(id);
  if (this.lockOnRead) {
    try {
      if (this.transactional && (creationMetaDataCache.getAdvancedCache().getTransactionManager().getStatus() == Status.STATUS_ACTIVE)) {
        if (!creationMetaDataCache.getAdvancedCache().lock(creationMetaDataKey)) {
          return null;
        }
      }
    }
 catch (    SystemException e) {
      throw new IllegalStateException(e);
    }
  }
  SessionCreationMetaDataEntry<L> creationMetaDataEntry=creationMetaDataCache.get(creationMetaDataKey);
  if (creationMetaDataEntry != null) {
    SessionAccessMetaDataKey accessMetaDataKey=new SessionAccessMetaDataKey(id);
    SessionAccessMetaData accessMetaData=this.accessMetaDataCache.get(accessMetaDataKey);
    if (accessMetaData != null) {
      return new InfinispanSessionMetaData<>(creationMetaDataEntry.getMetaData(),accessMetaData,creationMetaDataEntry.getLocalContext());
    }
    this.creationMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES,Flag.SKIP_LISTENER_NOTIFICATION).remove(creationMetaDataKey);
  }
  return null;
}
