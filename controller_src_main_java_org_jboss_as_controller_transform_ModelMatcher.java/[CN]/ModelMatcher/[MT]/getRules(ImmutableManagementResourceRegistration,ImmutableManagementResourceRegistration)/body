{
  Model currentAttributes=readModel(current,PathAddress.EMPTY_ADDRESS);
  Model targetAttributes=readModel(target,PathAddress.EMPTY_ADDRESS);
  if (targetAttributes.isSame(currentAttributes)) {
    return targetAttributes.toRules();
  }
  return targetAttributes.getMatchedRules(currentAttributes);
}
