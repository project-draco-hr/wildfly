{
  Model res=new Model(address);
  Set<String> attributesList=def.getAttributeNames(PathAddress.EMPTY_ADDRESS);
  for (  String name : attributesList) {
    res.addAttribute(name);
  }
  for (  PathElement element : def.getChildAddresses(PathAddress.EMPTY_ADDRESS)) {
    final ImmutableManagementResourceRegistration child=def.getSubModel(PathAddress.pathAddress(element));
    if (child != null) {
      res.addChild(readModel(child,address.append(element)));
    }
  }
  return res;
}
