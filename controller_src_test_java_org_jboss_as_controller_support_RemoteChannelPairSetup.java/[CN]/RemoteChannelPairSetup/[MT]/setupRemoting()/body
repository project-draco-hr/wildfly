{
  executorService=Executors.newCachedThreadPool();
  ChannelServer.Configuration configuration=new ChannelServer.Configuration();
  configuration.setEndpointName(ENDPOINT_NAME);
  configuration.setUriScheme(URI_SCHEME);
  configuration.setBindAddress(new InetSocketAddress("::1",PORT));
  configuration.setExecutor(executorService);
  channelServer=ChannelServer.create(configuration);
  channelServer.addChannelOpenListener(TEST_CHANNEL,new OpenListener(){
    @Override public void registrationTerminated(){
    }
    @Override public void channelOpened(    Channel channel){
      serverChannel=ProtocolChannel.create(TEST_CHANNEL,channel,new ManagementChannelReceiverFactory());
      serverChannel.startReceiving();
      clientConnectedLatch.countDown();
    }
  }
);
}
