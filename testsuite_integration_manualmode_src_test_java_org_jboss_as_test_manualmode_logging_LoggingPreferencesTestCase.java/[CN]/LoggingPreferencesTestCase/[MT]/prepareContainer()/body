{
  final ModelControllerClient client=TestSuiteEnvironment.getModelControllerClient();
  final ManagementClient managementClient=new ManagementClient(client,TestSuiteEnvironment.getServerAddress(),TestSuiteEnvironment.getServerPort(),"http-remoting");
  try {
    container.start(CONTAINER);
    perDeployLog=getAbsoluteLogFilePath(client,PER_DEPLOY_FILE_NAME);
    profileLog=getAbsoluteLogFilePath(client,FILE_HANDLER_FILE_NAME);
    ModelNode op=Operations.createAddOperation(PROFILE_ADDRESS);
    validateResponse(op,client);
    op=Operations.createAddOperation(ROOT_LOGGER_ADDRESS);
    validateResponse(op,client);
    op=Operations.createAddOperation(FILE_HANDLER_ADDRESS);
    ModelNode file=new ModelNode();
    file.get(PATH).set(profileLog.getAbsolutePath());
    op.get(FILE).set(file);
    validateResponse(op,client);
    op=Operations.createOperation("add-handler",ROOT_LOGGER_ADDRESS);
    op.get(NAME).set(FILE_HANDLER_NAME);
    validateResponse(op,client);
  }
  finally {
    safeClose(managementClient);
    safeClose(client);
  }
  deployer.deploy(DEPLOYMENT);
}
