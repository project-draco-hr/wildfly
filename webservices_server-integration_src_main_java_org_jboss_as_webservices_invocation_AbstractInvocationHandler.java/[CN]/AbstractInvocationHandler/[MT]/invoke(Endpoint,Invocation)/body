{
  try {
    onBeforeInvocation(wsInvocation);
    final ComponentView componentView=getComponentView();
    final Method method=getComponentViewMethod(wsInvocation.getJavaMethod(),componentView.getViewMethods());
    final InterceptorContext context=new InterceptorContext();
    prepareForInvocation(context,wsInvocation);
    context.setMethod(method);
    context.setParameters(wsInvocation.getArgs());
    context.setTarget(reference.getInstance());
    context.putPrivateData(Component.class,componentView.getComponent());
    context.putPrivateData(ComponentView.class,componentView);
    final Object retObj=componentView.invoke(context);
    wsInvocation.setReturnValue(retObj);
  }
 catch (  Throwable t) {
    log.error(MESSAGES.methodInvocationFailed(t.getLocalizedMessage()),t);
    handleInvocationException(t);
  }
 finally {
    onAfterInvocation(wsInvocation);
  }
}
