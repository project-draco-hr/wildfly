{
  PathAddress address=Operations.getPathAddress(operation);
  String containerName=address.getElement(address.size() - 2).getValue();
  String cacheName=address.getElement(address.size() - 1).getValue();
  String jndiName=ModelNodes.asString(CacheResourceDefinition.JNDI_NAME.resolveModelAttribute(context,cacheModel));
  ContextNames.BindInfo binding=createCacheBinding((jndiName != null) ? JndiNameFactory.parse(jndiName) : createJndiName(containerName,cacheName));
  context.removeService(binding.getBinderServiceName());
  context.removeService(CacheService.getServiceName(containerName,cacheName));
  context.removeService(CacheConfigurationService.getServiceName(containerName,cacheName));
  Class<? extends CacheServiceInstaller> installerClass=this.mode.isClustered() ? ClusteredCacheServiceInstaller.class : LocalCacheServiceInstaller.class;
  for (  CacheServiceInstaller installer : ServiceLoader.load(installerClass,installerClass.getClassLoader())) {
    for (    ServiceName name : installer.getServiceNames(containerName,cacheName)) {
      context.removeService(name);
    }
  }
  log.debugf("cache %s removed for container %s",cacheName,containerName);
}
