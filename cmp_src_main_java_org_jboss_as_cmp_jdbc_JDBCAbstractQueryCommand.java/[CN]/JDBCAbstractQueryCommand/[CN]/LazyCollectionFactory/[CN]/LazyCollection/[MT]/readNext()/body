{
  try {
    if (selectEntity != null) {
      ReadAheadCache selectReadAheadCache=selectManager.getReadAheadCache();
      int index=2;
      index=selectEntity.loadPrimaryKeyResults(rs,index,ref);
      curPk=ref[0];
      boolean addPk=(loadOnFindCmr ? !curPk.equals(prevPk) : true);
      if (addPk) {
        prevPk=curPk;
        currentResult=curPk != null ? factory.getEntityObject(curPk) : null;
      }
      if (eagerLoadMask != null) {
        JDBCFieldBridge[] tableFields=selectEntity.getTableFields();
        for (int i=0; i < eagerLoadMask.length; i++) {
          if (eagerLoadMask[i]) {
            JDBCFieldBridge field=tableFields[i];
            ref[0]=null;
            index=field.loadArgumentResults(rs,index,ref);
            if (addPk) {
              selectReadAheadCache.addPreloadData(curPk,field,ref[0]);
            }
          }
        }
        if (!onFindCMRList.isEmpty()) {
          index=loadOnFindCMRFields(curPk,onFindCMRList,rs,index,log);
        }
      }
    }
 else     if (selectField != null) {
      selectField.loadArgumentResults(rs,2,ref);
      currentResult=ref[0];
    }
 else {
      currentResult=selectFunction.readResult(rs);
    }
    if (log.isTraceEnabled() && limit != 0 && count == 0) {
      log.trace("Query result was limited to " + limit + " row(s)");
    }
    return currentResult;
  }
 catch (  Exception e) {
    log.error("Failed to read ResultSet",e);
    throw new EJBException("Failed to read ResultSet: " + e.getMessage());
  }
}
