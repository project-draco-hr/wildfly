{
  try {
    boolean has=(limit == 0 || count-- > 0) && rs.next();
    if (!has) {
      if (log.isTraceEnabled()) {
        log.trace("first iterator exhausted!");
      }
      firstIterator=null;
      closeResources();
    }
    return has;
  }
 catch (  Exception e) {
    log.error("Failed to read ResultSet.",e);
    throw new EJBException("Failed to read ResultSet: " + e.getMessage());
  }
}
