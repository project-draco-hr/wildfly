{
  ComponentConfiguration singletonComponentConfiguration=new ComponentConfiguration(this,moduleConfiguration.getClassConfiguration(getComponentClassName()));
  singletonComponentConfiguration.setComponentCreateServiceFactory(new SingletonComponentCreateServiceFactory(this.isInitOnStartup(),dependsOn));
  if (getTransactionManagementType().equals(TransactionManagementType.CONTAINER)) {
    getConfigurators().add(new ComponentConfigurator(){
      @Override public void configure(      final DeploymentPhaseContext context,      final ComponentDescription description,      final ComponentConfiguration configuration) throws DeploymentUnitProcessingException {
        if (getClassDescription().getPostConstructMethod() != null) {
          TransactionAttributeType txAttr=getTransactionAttribute(MethodIntf.BEAN,getClassDescription().getClassName(),getClassDescription().getPostConstructMethod().getName(),getClassDescription().getPostConstructMethod().getParameterTypes());
          configuration.addPostConstructInterceptor(new SingletonLifecycleCMTTxInterceptorFactory(txAttr),InterceptorOrder.ComponentPostConstruct.TRANSACTION_INTERCEPTOR);
        }
        if (getClassDescription().getPreDestroyMethod() != null) {
          TransactionAttributeType txAttr=getTransactionAttribute(MethodIntf.BEAN,getClassDescription().getClassName(),getClassDescription().getPreDestroyMethod().getName(),getClassDescription().getPreDestroyMethod().getParameterTypes());
          configuration.addPreDestroyInterceptor(new SingletonLifecycleCMTTxInterceptorFactory(txAttr),InterceptorOrder.ComponentPostConstruct.TRANSACTION_INTERCEPTOR);
        }
      }
    }
);
  }
  return singletonComponentConfiguration;
}
