{
  ServerService service=new ServerService(configuration,processState,null,bootstrapListener,runningModeControl,vaultReader,remoteFileRepository);
  ServiceBuilder<?> serviceBuilder=serviceTarget.addService(Services.JBOSS_SERVER_CONTROLLER,service);
  serviceBuilder.addDependency(DeploymentMountProvider.SERVICE_NAME,DeploymentMountProvider.class,service.injectedDeploymentRepository);
  serviceBuilder.addDependency(ContentRepository.SERVICE_NAME,ContentRepository.class,service.injectedContentRepository);
  serviceBuilder.addDependency(Services.JBOSS_SERVICE_MODULE_LOADER,ServiceModuleLoader.class,service.injectedModuleLoader);
  serviceBuilder.addDependency(Services.JBOSS_EXTERNAL_MODULE_SERVICE,ExternalModuleService.class,service.injectedExternalModuleService);
  serviceBuilder.install();
}
