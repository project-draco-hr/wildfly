{
  final List<ModelNode> updates=new ArrayList<ModelNode>();
  ModelNode op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("periodic-rotating-file-handler","LOGGING_TEST");
  op.get("append").set("true");
  op.get("suffix").set(".yyyy-MM-dd");
  ModelNode file=new ModelNode();
  file.get("relative-to").set("jboss.server.log.dir");
  file.get("path").set("logging-test.log");
  op.get("file").set(file);
  op.get("formatter").set("%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set("root-logger-assign-handler");
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("root-logger","ROOT");
  op.get("name").set("LOGGING_TEST");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile1");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile1");
  op.get(OP_ADDR).add("periodic-rotating-file-handler","DUMMY1");
  op.get("level").set("FATAL");
  op.get("append").set("true");
  op.get("suffix").set(".yyyy-MM-dd");
  file=new ModelNode();
  file.get("relative-to").set("jboss.server.log.dir");
  file.get("path").set("dummy-profile1.log");
  op.get("file").set(file);
  op.get("formatter").set("%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile1");
  op.get(OP_ADDR).add("root-logger","ROOT");
  op.get("level").set("INFO");
  ModelNode handlers=op.get("handlers");
  handlers.add("DUMMY1");
  op.get("handlers").set(handlers);
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile2");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile2");
  op.get(OP_ADDR).add("periodic-rotating-file-handler","DUMMY2");
  op.get("level").set("INFO");
  op.get("append").set("true");
  op.get("suffix").set(".yyyy-MM-dd");
  file=new ModelNode();
  file.get("relative-to").set("jboss.server.log.dir");
  file.get("path").set("dummy-profile2.log");
  op.get("file").set(file);
  op.get("formatter").set("%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n");
  updates.add(op);
  op=new ModelNode();
  op.get(OP).set(ADD);
  op.get(OP_ADDR).add(SUBSYSTEM,"logging");
  op.get(OP_ADDR).add("logging-profile","dummy-profile2");
  op.get(OP_ADDR).add("root-logger","ROOT");
  op.get("level").set("INFO");
  handlers=op.get("handlers");
  handlers.add("DUMMY2");
  op.get("handlers").set(handlers);
  updates.add(op);
  for (  ModelNode modelNode : updates) {
    try {
      executeOperation(modelNode);
    }
 catch (    MgmtOperationException exp) {
      Log.warn(exp.getMessage());
    }
  }
}
