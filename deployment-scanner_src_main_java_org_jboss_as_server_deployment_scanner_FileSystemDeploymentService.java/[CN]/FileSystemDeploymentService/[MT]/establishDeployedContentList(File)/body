{
  ServerModel serverModel=this.serverModel;
  File[] children=dir.listFiles();
  for (  File child : children) {
    String fileName=child.getName();
    if (child.isDirectory()) {
      establishDeployedContentList(child);
    }
 else     if (fileName.endsWith(DEPLOYED)) {
      String deploymentName=fileName.substring(0,fileName.length() - DEPLOYED.length());
      if (serverModel.getDeployment(deploymentName) != null) {
        deployed.add(deploymentName);
      }
 else {
        if (!child.delete()) {
          log.warnf("Cannot removed extraneous deployment marker file %s",fileName);
        }
      }
    }
  }
}
