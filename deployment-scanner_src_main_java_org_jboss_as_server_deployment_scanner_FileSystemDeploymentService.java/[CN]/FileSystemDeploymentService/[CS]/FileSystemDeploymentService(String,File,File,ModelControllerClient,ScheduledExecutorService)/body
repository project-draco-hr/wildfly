{
  if (scheduledExecutor == null) {
    throw MESSAGES.nullVar("scheduledExecutor");
  }
  if (controllerClient == null) {
    throw MESSAGES.nullVar("controllerClient");
  }
  if (deploymentDir == null) {
    throw MESSAGES.nullVar("deploymentDir");
  }
  if (!deploymentDir.exists()) {
    throw MESSAGES.directoryDoesNotExist(deploymentDir.getAbsolutePath());
  }
  if (!deploymentDir.isDirectory()) {
    throw MESSAGES.notADirectory(deploymentDir.getAbsolutePath());
  }
  if (!deploymentDir.canWrite()) {
    throw MESSAGES.directoryNotWritable(deploymentDir.getAbsolutePath());
  }
  this.relativeTo=relativeTo;
  this.deploymentDir=deploymentDir;
  this.controllerClient=controllerClient;
  this.scheduledExecutor=scheduledExecutor;
  if (relativeToDir != null) {
    String fullDir=deploymentDir.getAbsolutePath();
    String relDir=relativeToDir.getAbsolutePath();
    String sub=fullDir.substring(relDir.length());
    if (sub.startsWith(File.separator)) {
      sub=sub.length() == 1 ? "" : sub.substring(1);
    }
    this.relativePath=sub.length() > 0 ? sub + File.separator : sub;
  }
 else {
    relativePath=null;
  }
  establishDeployedContentList(deploymentDir);
}
