{
  EventType eventType=notification.getEventType();
switch (eventType) {
case AUTHENTICATED:
{
      ServerConnection connection=notification.getExchange().getConnection();
      connection.putAttachment(SESSION_KEY,new AuthenticatedSession(notification.getAccount(),notification.getMechanism()));
      break;
    }
case LOGGED_OUT:
{
    ServerConnection connection=notification.getExchange().getConnection();
    connection.removeAttachment(SESSION_KEY);
    break;
  }
}
}
