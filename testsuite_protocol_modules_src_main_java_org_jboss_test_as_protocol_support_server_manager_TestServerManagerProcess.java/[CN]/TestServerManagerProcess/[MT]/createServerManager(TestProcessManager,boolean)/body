{
  String[] args=new String[]{CommandLineConstants.INTERPROCESS_NAME,"ServerManager",CommandLineConstants.INTERPROCESS_PC_ADDRESS,InetAddress.getLocalHost().getHostAddress(),CommandLineConstants.INTERPROCESS_PC_PORT,String.valueOf(pm.getPort()),CommandLineConstants.INTERPROCESS_HC_ADDRESS,InetAddress.getLocalHost().getHostAddress(),CommandLineConstants.INTERPROCESS_HC_PORT,"0"};
  if (restart) {
    int length=args.length;
    args=Arrays.copyOf(args,length + 1);
    args[length]=CommandLineConstants.RESTART_HOST_CONTROLLER;
  }
  return TestServerManagerProcess.createServerManager(null,Arrays.asList(args),System.in,System.out,System.err);
}
