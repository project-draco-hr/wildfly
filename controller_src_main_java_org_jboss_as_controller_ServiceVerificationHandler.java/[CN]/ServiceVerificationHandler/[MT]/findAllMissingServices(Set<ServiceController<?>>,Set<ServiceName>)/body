{
  Set<ServiceContainer> examined=new HashSet<ServiceContainer>();
  SortedSet<ServiceName> result=new TreeSet<ServiceName>();
  for (  ServiceController<?> controller : missingTransitive) {
    ServiceContainer container=controller.getServiceContainer();
    if (examined.add(container)) {
      result.addAll(findAllMissingServices(container));
    }
  }
  Set<ServiceName> retain=new HashSet<ServiceName>(result);
  retain.removeAll(alreadyTracked);
  if (retain.size() == 0) {
    result.clear();
  }
  return result;
}
