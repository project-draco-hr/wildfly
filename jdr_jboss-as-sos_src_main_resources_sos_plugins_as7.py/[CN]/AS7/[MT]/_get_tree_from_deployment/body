def _get_tree_from_deployment(self, path):
    tmp_dir = tempfile.mkdtemp()
    try:
        zf = zipfile.ZipFile(path)
        zf.extractall(path=tmp_dir)
        zf.close()
        tree = DirTree(tmp_dir).as_string()
        self.addStringAsFile(tree, ('%s.tree.txt' % os.path.basename(path)))
    except zipfile.BadZipfile:
        pass
    os.rmdir(tmp_dir)
