{
  String runtimeName=registry.remove(archive);
  if (runtimeName != null) {
    try {
      DeploymentPlanBuilder builder=deploymentManager.newDeploymentPlan();
      DeploymentPlan plan=builder.undeploy(runtimeName).remove(runtimeName).build();
      Future<ServerDeploymentPlanResult> future=deploymentManager.execute(plan);
      future.get();
    }
 catch (    Exception ex) {
      log.warning("Cannot undeploy: " + runtimeName + ":"+ ex.getMessage());
    }
  }
}
