{
  if (isReadOnly()) {
    throw new SecurityException("attempt to add a Permission to a readonly PermissionCollection");
  }
  if (type.equals(permission.getClass())) {
    ManagementPermission mperm=(ManagementPermission)permission;
synchronized (permissions) {
      permissions.put(mperm.getActionEffect(),mperm);
    }
  }
 else {
    throw new IllegalArgumentException("incompatible permission type " + permission.getClass());
  }
}
