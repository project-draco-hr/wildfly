{
  this.update=update;
  this.compensatingUpdate=update.getCompensatingUpdate(model);
  if (createServerUpdate) {
    AbstractServerModelUpdate<?> smu=update.getServerModelUpdate();
    if (smu != null) {
      AbstractServerModelUpdate<?> csmu=compensatingUpdate == null ? null : compensatingUpdate.getServerModelUpdate();
      serverUpdate=new ServerUpdate(smu,csmu);
    }
 else     serverUpdate=null;
  }
 else   serverUpdate=null;
}
