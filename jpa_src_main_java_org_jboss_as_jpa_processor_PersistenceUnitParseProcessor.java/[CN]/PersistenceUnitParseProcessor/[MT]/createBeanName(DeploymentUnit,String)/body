{
  if (persistenceUnitName.indexOf('/') != -1) {
    throw new IllegalArgumentException("persistence unit name (" + persistenceUnitName + ") contains illegal '/' character");
  }
  if (persistenceUnitName.indexOf('#') != -1) {
    throw new IllegalArgumentException("persistence unit name (" + persistenceUnitName + ") contains illegal '#' character");
  }
  String unitName=getScopedDeploymentUnitPath(deploymentUnit) + "#" + persistenceUnitName;
  return unitName;
}
