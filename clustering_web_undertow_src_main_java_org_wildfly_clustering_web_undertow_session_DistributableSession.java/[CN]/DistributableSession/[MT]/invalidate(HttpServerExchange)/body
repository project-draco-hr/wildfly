{
  Map.Entry<Session<LocalSessionContext>,SessionConfig> entry=this.entry;
  Session<LocalSessionContext> session=entry.getKey();
  this.manager.getSessionListeners().sessionDestroyed(this,exchange,SessionDestroyedReason.INVALIDATED);
  session.invalidate();
  if (exchange != null) {
    String id=session.getId();
    entry.getValue().clearSession(exchange,id);
  }
  this.batch.close();
}
