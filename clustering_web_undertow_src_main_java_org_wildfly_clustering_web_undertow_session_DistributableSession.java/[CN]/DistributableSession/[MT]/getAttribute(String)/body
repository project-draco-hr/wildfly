{
  Session<LocalSessionContext> session=this.entry.getKey();
  try (BatchContext context=this.manager.getSessionManager().getBatcher().resumeBatch(this.batch)){
    if (AUTHENTICATED_SESSION_ATTRIBUTE_NAME.equals(name)) {
      Account account=(Account)session.getAttributes().getAttribute(name);
      return (account != null) ? new AuthenticatedSession(account,HttpServletRequest.FORM_AUTH) : session.getLocalContext().getAuthenticatedSession();
    }
    return session.getAttributes().getAttribute(name);
  }
 }
