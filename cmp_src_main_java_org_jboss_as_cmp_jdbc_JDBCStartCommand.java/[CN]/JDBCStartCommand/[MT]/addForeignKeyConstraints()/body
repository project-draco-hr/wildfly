{
  JDBCAbstractCMRFieldBridge[] cmrFields=entity.getCMRFields();
  for (int i=0; i < cmrFields.length; ++i) {
    JDBCAbstractCMRFieldBridge cmrField=cmrFields[i];
    EntityBridge relatedEntity=cmrField.getRelatedEntity();
    JDBCRelationMetaData relationMetaData=cmrField.getMetaData().getRelationMetaData();
    if (relationMetaData.isForeignKeyMappingStyle() && (manager.hasCreateTable(relatedEntity.getEntityName()))) {
      createCMRIndex(((JDBCAbstractEntityBridge)relatedEntity).getDataSource(),cmrField);
    }
    addForeignKeyConstraint(cmrField);
  }
}
