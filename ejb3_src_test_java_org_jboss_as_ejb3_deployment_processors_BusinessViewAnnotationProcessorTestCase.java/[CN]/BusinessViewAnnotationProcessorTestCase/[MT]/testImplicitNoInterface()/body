{
  DeploymentUnit deploymentUnit=mockDeploymentUnit();
  when(deploymentUnit.getServiceName()).thenReturn(ServiceName.parse("test"));
  EjbDeploymentMarker.mark(deploymentUnit);
  DeploymentPhaseContext phaseContext=null;
  Indexer indexer=new Indexer();
  Class<?> ejbClass=ImplicitNoInterfaceBean.class;
  index(indexer,ejbClass);
  CompositeIndex index=new CompositeIndex(Arrays.asList(indexer.complete()));
  final EEModuleDescription moduleDescription=new EEModuleDescription("TestModule","TestApp");
  final EjbJarDescription ejbJarDescription=new EjbJarDescription(moduleDescription,false);
  final ServiceName duServiceName=deploymentUnit.getServiceName();
  SessionBeanComponentDescription componentDescription=new StatelessComponentDescription(ImplicitNoInterfaceBean.class.getSimpleName(),ImplicitNoInterfaceBean.class.getName(),ejbJarDescription,duServiceName);
  BusinessViewAnnotationProcessor processor=new BusinessViewAnnotationProcessor();
  processor.processComponentConfig(deploymentUnit,phaseContext,index,componentDescription);
  assertTrue("Bean should have no-interface view (EJB 3.1 FR 4.9.8 bullet 1.1)",componentDescription.hasNoInterfaceView());
  List<ViewDescription> views=componentDescription.getViews();
  assertNotNull("No views found",views);
  assertEquals("Unexpected number of views",1,views.size());
  assertEquals(ImplicitNoInterfaceBean.class.getName(),views.get(0).getViewClassName());
  assertEquals(MethodIntf.LOCAL,componentDescription.getMethodIntf(ImplicitNoInterfaceBean.class.getName()));
}
