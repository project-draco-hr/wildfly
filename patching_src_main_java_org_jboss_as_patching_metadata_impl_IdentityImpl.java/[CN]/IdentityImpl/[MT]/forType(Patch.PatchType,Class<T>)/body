{
  if (patchType != this.patchType) {
    throw new IllegalStateException();
  }
  if (patchType == Patch.PatchType.CUMULATIVE) {
    if (resultingVersion == null) {
      throw new IllegalStateException();
    }
  }
  return clazz.cast(this);
}
