{
  if (ejbHome == null) {
    throw MESSAGES.beanHomeInterfaceIsNull(getComponentName());
  }
  final ServiceController<?> serviceController=CurrentServiceContainer.getServiceContainer().getRequiredService(ejbHome);
  final ComponentView view=(ComponentView)serviceController.getValue();
  final String locatorAppName=earApplicationName == null ? "" : earApplicationName;
  return EJBClient.createProxy(new EJBHomeLocator<EJBHome>((Class<EJBHome>)view.getViewClass(),locatorAppName,moduleName,getComponentName(),distinctName));
}
