{
  if (ejbHome == null) {
    throw new IllegalStateException("Bean " + getComponentName() + " does not have a Home interface");
  }
  final ServiceController<?> serviceController=CurrentServiceContainer.getServiceContainer().getRequiredService(ejbHome);
  final ComponentView view=(ComponentView)serviceController.getValue();
  final String locatorAppName=earApplicationName == null ? "" : earApplicationName;
  return EJBClient.createProxy(new EJBHomeLocator<EJBHome>((Class<EJBHome>)view.getViewClass(),locatorAppName,moduleName,getComponentName(),distinctName));
}
