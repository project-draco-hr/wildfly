{
  if (!hostXml.exists()) {
    throw new IllegalStateException("File " + hostXml.getAbsolutePath() + " does not exist.");
  }
 else   if (!hostXml.canWrite()) {
    throw new IllegalStateException("File " + hostXml.getAbsolutePath() + " is not writeable.");
  }
  try {
    final List<AbstractHostModelUpdate<?>> hostUpdates=new ArrayList<AbstractHostModelUpdate<?>>();
    final XMLMapper mapper=XMLMapper.Factory.create();
    extensionRegistrar.registerStandardHostReaders(mapper);
    mapper.parseDocument(hostUpdates,XMLInputFactory.newInstance().createXMLStreamReader(new BufferedReader(new FileReader(this.hostXml))));
    final HostModel hostModel=new HostModel();
    for (    final AbstractHostModelUpdate<?> update : hostUpdates) {
      hostModel.update(update);
    }
    return hostModel;
  }
 catch (  RuntimeException e) {
    throw e;
  }
catch (  Exception e) {
    throw new RuntimeException("Caught exception during processing of host.xml",e);
  }
}
