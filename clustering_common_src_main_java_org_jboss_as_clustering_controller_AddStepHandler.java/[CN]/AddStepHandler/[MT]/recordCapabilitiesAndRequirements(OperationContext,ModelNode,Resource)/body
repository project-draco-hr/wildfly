{
  PathAddress address=context.getCurrentAddress();
  for (  Capability capability : this.descriptor.getCapabilities()) {
    context.registerCapability(capability.getRuntimeCapability(address),null);
  }
  ModelNode model=resource.getModel();
  for (  AttributeDefinition ad : attributes) {
    if (model.hasDefined(ad.getName()) || ad.hasCapabilityRequirements()) {
      ad.addCapabilityRequirements(context,model.get(ad.getName()));
    }
  }
}
