{
  final ModelNode propAddress=new ModelNode();
  propAddress.add("system-property","sql.parameter");
  propAddress.protect();
  final ModelNode propOperation=new ModelNode();
  propOperation.get(OP).set("add");
  propOperation.get(OP_ADDR).set(propAddress);
  propOperation.get("value").set("sa");
  executeOperation(propOperation);
  final ModelNode address=new ModelNode();
  address.add("subsystem","datasources");
  address.add("data-source","MyNewDs");
  address.protect();
  final ModelNode operation=new ModelNode();
  operation.get(OP).set("add");
  operation.get(OP_ADDR).set(address);
  operation.get("name").set("MyNewDs");
  operation.get("jndi-name").set("java:jboss/datasources/MyNewDs");
  operation.get("enabled").set(false);
  operation.get("driver-name").set("h2");
  operation.get("pool-name").set("MyNewDs_Pool");
  operation.get("connection-url").set("jdbc:h2:mem:test;DB_CLOSE_DELAY=-1");
  operation.get("user-name").set("${sql.parameter}");
  operation.get("password").set("${sql.parameter}");
  executeOperation(operation);
  final ModelNode operation2=new ModelNode();
  operation2.get(OP).set("enable");
  operation2.get(OP_ADDR).set(address);
  executeOperation(operation2);
  testConnection("MyNewDs");
  remove(address);
  remove(propAddress);
}
