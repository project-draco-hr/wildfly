{
  if (lc.getTrackStatements() == BaseWrapperManagedConnectionFactory.TRACK_STATEMENTS_FALSE_INT)   return;
synchronized (this) {
    if (resultSets == null)     return;
    for (Iterator<Map.Entry<WrappedResultSet,Throwable>> i=resultSets.entrySet().iterator(); i.hasNext(); ) {
      Map.Entry<WrappedResultSet,Throwable> entry=i.next();
      WrappedResultSet resultSet=entry.getKey();
      if (lc.getTrackStatements() == BaseWrapperManagedConnectionFactory.TRACK_STATEMENTS_TRUE_INT) {
        Throwable stackTrace=entry.getValue();
        lc.getLogger().warn("Closing a result set you left open! Please close it yourself.",stackTrace);
      }
      try {
        resultSet.internalClose();
      }
 catch (      Throwable t) {
        lc.getLogger().warn("Error closing a result set you left open! Please close it yourself.",t);
      }
    }
    resultSets.clear();
  }
}
