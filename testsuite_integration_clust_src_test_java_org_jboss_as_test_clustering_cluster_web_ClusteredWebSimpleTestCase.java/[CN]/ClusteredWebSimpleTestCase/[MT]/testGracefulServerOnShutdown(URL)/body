{
  final DefaultHttpClient client=new DefaultHttpClient();
  String url1=baseURL1.toString() + "simple";
  HttpResponse response=client.execute(new HttpGet(url1));
  Assert.assertEquals(HttpServletResponse.SC_OK,response.getStatusLine().getStatusCode());
  response.getEntity().getContent().close();
  String longRunningUrl=url1 + "?" + SimpleServlet.REQUEST_DURATION_PARAM+ "="+ REQUEST_DURATION;
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<HttpResponse> future=executor.submit(new RequestTask(client,longRunningUrl));
  Thread.sleep(1000);
  controller.stop(CONTAINER_1);
  try {
    response=future.get();
    Assert.assertEquals(HttpServletResponse.SC_OK,response.getStatusLine().getStatusCode());
    response.getEntity().getContent().close();
  }
 catch (  ExecutionException e) {
    e.printStackTrace(System.err);
    Assert.fail(e.getCause().getMessage());
  }
}
