{
  int end=pos;
  for (int i=pos; (i < chars.length) && (chars[i] != '?'); i++) {
    end++;
  }
  if (end == pos) {
    return end;
  }
  try {
    filter=decode(new String(chars,pos,end - pos));
    FilterParser.parse(null,filter);
  }
 catch (  LdapUriException ue) {
    return -1;
  }
catch (  ParseException pe) {
    return -1;
  }
  return end;
}
