{
  KernelServices kernelServices=createEmptyRoot();
  ModelNode model=readVaultModel(kernelServices);
  Assert.assertFalse(model.isDefined());
  ModelNode add=Util.createAddOperation(vaultAddress);
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(add));
  model=readVaultModel(kernelServices);
  Assert.assertTrue(model.isDefined());
  Assert.assertFalse(model.get(CODE).isDefined());
  Assert.assertFalse(model.get(VAULT_OPTIONS).isDefined());
  ModelNode remove=Util.createRemoveOperation(vaultAddress);
  ModelTestUtils.checkOutcome(kernelServices.executeOperation(remove));
  model=readVaultModel(kernelServices);
  Assert.assertFalse(model.isDefined());
}
