{
  if (getClosed() || getWritesShutdown()) {
    if (!outgoingBatches.contains(executionId)) {
      throw new IOException("Can't accept new requests in a closed channel");
    }
  }
  return FlushableDataOutputImpl.create(writeMessage());
}
