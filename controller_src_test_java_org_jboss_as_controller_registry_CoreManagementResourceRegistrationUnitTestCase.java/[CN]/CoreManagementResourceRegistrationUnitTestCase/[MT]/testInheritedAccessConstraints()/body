{
  ResourceDefinition rootRd=new SimpleResourceDefinition(null,new NonResolvingResourceDescriptionResolver()){
    @Override public List<AccessConstraintDefinition> getAccessConstraints(){
      return Arrays.asList((AccessConstraintDefinition)SensitiveTargetAccessConstraintDefinition.EXTENSIONS,(AccessConstraintDefinition)ApplicationTypeAccessConstraintDefinition.DEPLOYMENT);
    }
  }
;
  ManagementResourceRegistration root=ManagementResourceRegistration.Factory.create(rootRd);
  List<AccessConstraintDefinition> acds=root.getAccessConstraints();
  assertEquals(2,acds.size());
  assertTrue(acds.contains(SensitiveTargetAccessConstraintDefinition.EXTENSIONS));
  assertTrue(acds.contains(ApplicationTypeAccessConstraintDefinition.DEPLOYMENT));
  ResourceDefinition childRd=new SimpleResourceDefinition(PathElement.pathElement("child"),new NonResolvingResourceDescriptionResolver()){
    @Override public List<AccessConstraintDefinition> getAccessConstraints(){
      return Arrays.asList((AccessConstraintDefinition)SensitiveTargetAccessConstraintDefinition.SECURITY_DOMAIN,(AccessConstraintDefinition)ApplicationTypeAccessConstraintDefinition.DEPLOYMENT);
    }
  }
;
  ManagementResourceRegistration child=root.registerSubModel(childRd);
  acds=child.getAccessConstraints();
  assertEquals(4,acds.size());
  assertTrue(acds.contains(SensitiveTargetAccessConstraintDefinition.EXTENSIONS));
  assertTrue(acds.contains(SensitiveTargetAccessConstraintDefinition.SECURITY_DOMAIN));
  assertTrue(acds.contains(ApplicationTypeAccessConstraintDefinition.DEPLOYMENT));
}
