{
  DefaultOperationRequestBuilder builder=new DefaultOperationRequestBuilder();
  builder.addNode("subsystem","jms");
  builder.setOperationName("add");
  String name=null;
  String entriesStr=null;
  for (  String argName : ctx.getArgumentNames()) {
    if (argName.equals("name")) {
      name=ctx.getNamedArgument(argName);
    }
 else     if (argName.equals("entries")) {
      entriesStr=ctx.getNamedArgument(argName);
    }
 else {
      builder.addProperty(argName,ctx.getNamedArgument(argName));
    }
  }
  if (name == null) {
    ctx.printLine("Required argument 'name' is missing.");
    return;
  }
  builder.addNode("connection-factory",name);
  ModelNode entriesNode=builder.getModelNode().get("entries");
  if (entriesStr == null) {
    entriesNode.add(name);
  }
 else {
    String[] split=entriesStr.split(",");
    for (int i=0; i < split.length; ++i) {
      String entry=split[i].trim();
      if (!entry.isEmpty()) {
        entriesNode.add(entry);
      }
    }
  }
  ModelControllerClient client=ctx.getModelControllerClient();
  final ModelNode result;
  try {
    ModelNode request=builder.buildRequest();
    result=client.execute(request);
  }
 catch (  Exception e) {
    ctx.printLine("Failed to perform operation: " + e.getLocalizedMessage());
    return;
  }
  if (!Util.isSuccess(result)) {
    ctx.printLine(Util.getFailureDescription(result));
    return;
  }
  ctx.printLine("Created connection factory " + name);
}
