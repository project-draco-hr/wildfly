{
  Map<DotName,List<AnnotationInstance>> annotationsOnBean=beanClass.annotations();
  if (annotationsOnBean == null || annotationsOnBean.isEmpty()) {
    return;
  }
  final List<AnnotationInstance> runAsAnnotations=annotationsOnBean.get(RUN_AS_DOT_NAME);
  if (runAsAnnotations == null || runAsAnnotations.isEmpty()) {
    return;
  }
  if (runAsAnnotations.size() > 1) {
    throw new DeploymentUnitProcessingException("More than one @RunAs annotation found on bean: " + componentDescription.getEJBName());
  }
  final AnnotationInstance runAsAnnotation=runAsAnnotations.get(0);
  final AnnotationValue annotationValue=runAsAnnotation.value();
  final String runAsRole=annotationValue.asString();
  if (runAsRole != null && !runAsRole.trim().isEmpty()) {
    componentDescription.setRunAs(runAsRole);
    logger.debug(componentDescription.getEJBName() + " bean will use @RunAs role: " + runAsRole);
  }
}
