{
  String vaultClass=null;
  if (model.hasDefined(CODE)) {
    vaultClass=model.get(CODE).asString();
  }
  final Map<String,Object> vaultOptions=new HashMap<String,Object>();
  if (model.hasDefined(VAULT_OPTIONS)) {
    for (    Property prop : model.get(VAULT_OPTIONS).asPropertyList()) {
      vaultOptions.put(prop.getName(),prop.getValue().asString());
    }
  }
  try {
    vaultReader.createVault(vaultClass,vaultOptions);
  }
 catch (  SecurityVaultException e) {
    throw ServerMessages.MESSAGES.cannotCreateVault(e,e);
  }
}
