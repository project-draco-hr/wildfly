{
  deployer.deploy(BUNDLE_E_WAB);
  try {
    String result=performCall("/bundleE/allowed.txt");
    Assert.assertEquals("Hello from Host",result);
    result=performCall("/bundleE/GOOD-PATH/allowed.txt");
    Assert.assertEquals("Hello from Host",result);
    try {
      performCall("/bundleE/WEB-INF/forbidden.txt");
      Assert.fail("IOException expected");
    }
 catch (    IOException ex) {
    }
    try {
      performCall("/bundleE/META-INF/forbidden.txt");
      Assert.fail("IOException expected");
    }
 catch (    IOException ex) {
    }
    try {
      performCall("/bundleE/OSGI-INF/forbidden.txt");
      Assert.fail("IOException expected");
    }
 catch (    IOException ex) {
    }
    try {
      performCall("/bundleE/OSGI-OPT/forbidden.txt");
      Assert.fail("IOException expected");
    }
 catch (    IOException ex) {
    }
    result=performCall("/bundleE/servlet?input=Hello");
    Assert.assertEquals("Simple Servlet called with input=Hello",result);
  }
  finally {
    deployer.undeploy(BUNDLE_E_WAB);
  }
}
