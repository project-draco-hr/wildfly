{
  NewRemoteDomainConnectionService service;
  try {
    service=new NewRemoteDomainConnectionService(controller,localHostName,InetAddress.getByName(remoteDcHost),remoteDcPort,remoteFileRepository);
  }
 catch (  UnknownHostException e) {
    throw new RuntimeException(e);
  }
  serviceTarget.addService(NewMasterDomainControllerClient.SERVICE_NAME,service).addDependency(RemotingServices.ENDPOINT,Endpoint.class,service.endpointInjector).setInitialMode(ServiceController.Mode.ACTIVE).install();
  return service.futureClient;
}
