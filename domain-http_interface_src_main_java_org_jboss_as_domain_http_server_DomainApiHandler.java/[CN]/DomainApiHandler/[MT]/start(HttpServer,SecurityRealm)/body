{
  HttpContext context=httpServer.createContext(DOMAIN_API_CONTEXT,new SubjectAssociationHandler(this));
  if (authenticator != null) {
    context.setAuthenticator(authenticator);
    List<Filter> filters=context.getFilters();
    if (securityRealm.hasTrustStore() == false) {
      DomainCallbackHandler callbackHandler=securityRealm.getCallbackHandler();
      filters.add(new RealmReadinessFilter(callbackHandler,ErrorHandler.getRealmRedirect()));
    }
  }
}
