{
  HttpContext context=httpServer.createContext(DOMAIN_API_CONTEXT,new SubjectAssociationHandler(this));
  if (authenticator != null) {
    context.setAuthenticator(authenticator);
    List<Filter> filters=context.getFilters();
    if (securityRealm != null && securityRealm.getSupportedAuthenticationMechanisms().contains(AuthenticationMechanism.CLIENT_CERT) == false) {
      filters.add(new DmrFailureReadinessFilter(securityRealm,ErrorHandler.getRealmRedirect()));
    }
  }
}
