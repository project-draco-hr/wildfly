{
  HttpContext context=httpServer.createContext(DOMAIN_API_CONTEXT,this);
  if (authenticator != null) {
    context.setAuthenticator(authenticator);
    if (securityRealm.hasTrustStore() == false) {
      DomainCallbackHandler callbackHandler=securityRealm.getCallbackHandler();
      context.getFilters().add(new RealmReadinessFilter(callbackHandler,ErrorHandler.getRealmRedirect()));
    }
  }
}
