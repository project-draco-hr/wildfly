{
  Map<String,Deque<String>> queryParameters=exchange.getQueryParameters();
  GetOperation operation=null;
  Deque<String> parameter=queryParameters.get(OP);
  if (parameter != null) {
    String value=parameter.getFirst();
    try {
      operation=GetOperation.valueOf(value.toUpperCase(Locale.ENGLISH).replace('-','_'));
      value=operation.realOperation();
    }
 catch (    Exception e) {
      throw MESSAGES.invalidOperation(e,value);
    }
  }
  if (operation == null) {
    operation=GetOperation.RESOURCE;
  }
  return operation;
}
