{
  ModelNode op=new ModelNode();
  op.get(ClientConstants.OP).set("composite");
  op.get(ClientConstants.OP_ADDR).setEmptyList();
  ModelNode steps=op.get("steps");
  boolean execute=false;
  Set<String> deployed=getDeploymentNames();
  for (  Deployment deployment : deployments) {
    if (deployed.contains(deployment.archiveName)) {
      steps.add(deployment.removeDeployment());
      execute=true;
    }
  }
  if (execute) {
    op.get(ClientConstants.OPERATION_HEADERS,ClientConstants.ROLLBACK_ON_RUNTIME_FAILURE).set(getRolloutPlan());
    ModelNode result=client.execute(op);
  }
}
