{
  boolean ok=false;
  try {
    log.infof("%s checking for socket handler %b",name,socketHandler != null);
    if (socketHandler != null) {
      socketHandler.initializeConnection(socket);
    }
    ok=true;
  }
 catch (  InitialSocketRequestException e) {
    log.errorf("%s process acceptor: Invalid initial request: %s",name,e.getMessage());
  }
catch (  IOException e) {
    log.errorf("%s process acceptor: error reading from socket: %s",name,e.getMessage());
  }
 finally {
    if (!ok) {
      try {
        socket.close();
      }
 catch (      IOException ignore) {
      }
    }
  }
}
