{
  final PathAddress address=PathAddress.pathAddress(operation.get(OP_ADDR));
  final String name=address.getLastElement().getValue();
  final String path=DeploymentScannerDefinition.PATH.resolveModelAttribute(context,operation).asString();
  final Boolean enabled=SCAN_ENABLED.resolveModelAttribute(context,operation).asBoolean();
  final Integer interval=SCAN_INTERVAL.resolveModelAttribute(context,operation).asInt();
  final String relativeTo=operation.hasDefined(CommonAttributes.RELATIVE_TO) ? RELATIVE_TO.resolveModelAttribute(context,operation).asString() : null;
  final Boolean autoDeployZip=AUTO_DEPLOY_ZIPPED.resolveModelAttribute(context,operation).asBoolean();
  final Boolean autoDeployExp=AUTO_DEPLOY_EXPLODED.resolveModelAttribute(context,operation).asBoolean();
  final Boolean autoDeployXml=AUTO_DEPLOY_XML.resolveModelAttribute(context,operation).asBoolean();
  final Long deploymentTimeout=DEPLOYMENT_TIMEOUT.resolveModelAttribute(context,operation).asLong();
  final Boolean rollback=RUNTIME_FAILURE_CAUSES_ROLLBACK.resolveModelAttribute(context,operation).asBoolean();
  final ServiceTarget serviceTarget=context.getServiceTarget();
  DeploymentScannerService.addService(serviceTarget,name,relativeTo,path,interval,TimeUnit.MILLISECONDS,autoDeployZip,autoDeployExp,autoDeployXml,enabled,deploymentTimeout,rollback,newControllers,bootTimeScanner,executorService,verificationHandler);
}
