{
  State continuingState=new ValidateUserState(theConsole,stateValues);
  if (stateValues.isSilentOrNonInteractive() == false) {
    stateValues.setPassword(null);
    String existingUsername=stateValues.getUserName();
    String usernamePrompt=existingUsername == null ? MESSAGES.usernamePrompt() : MESSAGES.usernamePrompt(existingUsername);
    theConsole.printf(usernamePrompt);
    String temp=theConsole.readLine(" : ");
    if (temp != null && temp.length() > 0) {
      existingUsername=temp;
    }
    if (temp == null || existingUsername == null || existingUsername.length() == 0) {
      return new ErrorState(theConsole,MESSAGES.noUsernameExiting());
    }
    stateValues.setUserName(existingUsername);
  }
  return continuingState;
}
