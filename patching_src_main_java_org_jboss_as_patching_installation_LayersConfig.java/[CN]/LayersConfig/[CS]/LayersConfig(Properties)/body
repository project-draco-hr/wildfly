{
  configured=true;
  layersPath=properties.getProperty("layers.path",DEFAULT_LAYERS_PATH);
  addOnsPath=properties.getProperty("add-ons.path",DEFAULT_ADD_ONS_PATH);
  final boolean excludeBase=Boolean.valueOf(properties.getProperty(Constants.EXCLUDE_LAYER_BASE,"false"));
  String layersProp=(String)properties.get(Constants.LAYERS);
  if (layersProp == null || (layersProp=layersProp.trim()).length() == 0) {
    if (excludeBase) {
      layers=Collections.emptyList();
    }
 else {
      layers=Collections.singletonList(Constants.BASE);
    }
  }
 else {
    final String[] layerNames=layersProp.split(",");
    final List<String> layers=new ArrayList<String>();
    boolean hasBase=false;
    for (    String layerName : layerNames) {
      if (Constants.BASE.equals(layerName)) {
        hasBase=true;
      }
      layers.add(layerName);
    }
    if (!hasBase && !excludeBase) {
      layers.add(Constants.BASE);
    }
    this.layers=Collections.unmodifiableList(layers);
  }
}
