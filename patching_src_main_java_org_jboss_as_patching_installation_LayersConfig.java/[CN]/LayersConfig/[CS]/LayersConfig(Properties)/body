{
  configured=true;
  layersPath=properties.getProperty("layers.path",DEFAULT_LAYERS_PATH);
  addOnsPath=properties.getProperty("add-ons.path",DEFAULT_ADD_ONS_PATH);
  boolean excludeBase=Boolean.valueOf(properties.getProperty("exclude.base.layer","false"));
  String layersProp=(String)properties.get("layers");
  if (layersProp == null || (layersProp=layersProp.trim()).length() == 0) {
    if (excludeBase) {
      layers=Collections.emptyList();
    }
 else {
      layers=Collections.singletonList("base");
    }
  }
 else {
    String[] layerNames=layersProp.split(",");
    final List<String> layers=new ArrayList<String>();
    boolean hasBase=false;
    for (    String layerName : layerNames) {
      if ("base".equals(layerName)) {
        hasBase=true;
      }
      layers.add(layerName);
    }
    if (!hasBase && !excludeBase) {
      layers.add("base");
    }
    this.layers=Collections.unmodifiableList(layers);
  }
}
