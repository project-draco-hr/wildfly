{
  CoarseAuthenticationEntry<I,D,L> entry=new CoarseAuthenticationEntry<>();
  CoarseAuthenticationEntry<I,D,L> existingEntry=this.invoker.invoke(this.authenticationCache,new CreateOperation<>(id,entry));
  if (existingEntry != null) {
    Map<D,String> value=this.invoker.invoke(this.sessionsCache,new FindOperation<CoarseSessionsKey,Map<D,String>>(new CoarseSessionsKey(id)),Flag.SKIP_LOCKING);
    return new CoarseSSOEntry<>(existingEntry,value);
  }
  Map<D,String> map=new HashMap<>();
  Map<D,String> existingMap=this.invoker.invoke(this.sessionsCache,new CreateOperation<>(new CoarseSessionsKey(id),map),Flag.SKIP_LOCKING);
  return new CoarseSSOEntry<>(entry,(existingMap != null) ? existingMap : map);
}
