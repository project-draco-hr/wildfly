{
  ConfigurationBuilder builder=super.createConfigurationBuilder();
  builder.clustering().stateTransfer().read(this.stateTransfer.getValue());
  CacheMode mode=builder.clustering().cacheMode();
  if (mode.isSynchronous() && (this.transaction.getValue().lockingMode() == LockingMode.OPTIMISTIC) && (this.locking.getValue().isolationLevel() == IsolationLevel.REPEATABLE_READ)) {
    builder.locking().writeSkewCheck(true);
    builder.versioning().enable().scheme(VersioningScheme.SIMPLE);
  }
  SitesConfigurationBuilder sitesBuilder=builder.sites();
  sitesBuilder.read(this.backups.getValue());
  sitesBuilder.backupFor().read(this.backupFor.getValue());
  return builder;
}
