{
  addReference(referenced);
  referenced.addReferencedBy(this);
  if (fkConstraints == null) {
    fkConstraints=new ForeignKeyConstraint[1];
  }
 else {
    ForeignKeyConstraint[] tmp=fkConstraints;
    fkConstraints=new ForeignKeyConstraint[tmp.length + 1];
    System.arraycopy(tmp,0,fkConstraints,0,tmp.length);
  }
  final int fkindex=fkConstraints.length - 1;
  final ForeignKeyConstraint fkc=new ForeignKeyConstraint(fkindex,fkFields,referenced.tableId == tableId);
  fkConstraints[fkindex]=fkc;
  return fkc;
}
