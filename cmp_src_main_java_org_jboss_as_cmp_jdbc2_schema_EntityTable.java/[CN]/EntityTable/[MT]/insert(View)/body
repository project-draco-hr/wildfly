{
  JDBCCMPFieldBridge2[] tableFields=(JDBCCMPFieldBridge2[])entity.getTableFields();
  Connection con=null;
  PreparedStatement ps=null;
  try {
    if (log.isDebugEnabled()) {
      log.debug("executing : " + insertSql);
    }
    con=dataSource.getConnection();
    ps=con.prepareStatement(insertSql);
    int batchCount=0;
    while (view.created != null) {
      Row row=view.created;
      int paramInd=1;
      for (int fInd=0; fInd < tableFields.length; ++fInd) {
        JDBCCMPFieldBridge2 field=tableFields[fInd];
        Object fieldValue=row.fields[field.getRowIndex()];
        paramInd=field.setArgumentParameters(ps,paramInd,fieldValue);
      }
      insertStrategy.executeUpdate(ps);
      ++batchCount;
      row.flushStatus();
    }
    insertStrategy.executeBatch(ps);
    if (log.isTraceEnabled()) {
      log.trace("inserted rows: " + batchCount);
    }
  }
 catch (  SQLException e) {
    throw CmpMessages.MESSAGES.failedToInsertNewRows(e);
  }
 finally {
    JDBCUtil.safeClose(ps);
    JDBCUtil.safeClose(con);
  }
}
