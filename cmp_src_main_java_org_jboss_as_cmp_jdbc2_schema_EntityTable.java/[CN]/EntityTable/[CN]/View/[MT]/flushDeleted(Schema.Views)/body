{
  if (rowsWithNullFks != null) {
    nullifyForeignKeys();
    rowsWithNullFks=null;
  }
  if (deleted == null) {
    if (log.isTraceEnabled()) {
      log.trace("no rows to delete");
    }
    return;
  }
  if (referencedBy != null) {
    if (inFlush) {
      if (log.isTraceEnabled()) {
        log.trace("inFlush, ignoring flushDeleted");
      }
      return;
    }
    inFlush=true;
    try {
      for (int i=0; i < referencedBy.length; ++i) {
        final Table.View view=views.entityViews[referencedBy[i]];
        if (view != null) {
          view.flushDeleted(views);
        }
      }
    }
  finally {
      inFlush=false;
    }
  }
  delete(this);
}
