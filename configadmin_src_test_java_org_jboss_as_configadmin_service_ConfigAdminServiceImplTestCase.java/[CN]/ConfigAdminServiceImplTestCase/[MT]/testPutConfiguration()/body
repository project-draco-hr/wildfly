{
  ModelNode expectedAddr=new ModelNode();
  expectedAddr.add(new ModelNode().set(ModelDescriptionConstants.SUBSYSTEM,ConfigAdminExtension.SUBSYSTEM_NAME));
  expectedAddr.add(new ModelNode().set(ModelConstants.CONFIGURATION,"a.b.c"));
  ModelNode expectedOp=Util.getEmptyOperation(ModelDescriptionConstants.ADD,expectedAddr);
  ModelNode entries=new ModelNode();
  entries.get("a.key").set("A Value");
  expectedOp.get(ModelConstants.ENTRIES).set(entries);
  ModelNode success=new ModelNode();
  success.set(ModelDescriptionConstants.OUTCOME,ModelDescriptionConstants.SUCCESS);
  ModelControllerClient mockControllerClient=Mockito.mock(ModelControllerClient.class);
  Mockito.when(mockControllerClient.execute(expectedOp)).thenReturn(success);
  ConfigAdminServiceImpl cas=createConfigAdminServiceImpl();
  setControllerClient(cas,mockControllerClient);
  setSynchronousExecutor(cas);
  TestConfigAdminListener testListener=new TestConfigAdminListener();
  cas.addListener(testListener);
  Hashtable<String,String> config=new Hashtable<String,String>();
  config.put("a.key","A Value");
  assertEquals("Precondition",0,testListener.pidList.size());
  assertNull(cas.putConfiguration("a.b.c",config));
}
