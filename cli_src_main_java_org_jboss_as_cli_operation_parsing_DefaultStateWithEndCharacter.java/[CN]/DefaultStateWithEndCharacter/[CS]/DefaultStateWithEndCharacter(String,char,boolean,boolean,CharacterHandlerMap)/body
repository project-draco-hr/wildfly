{
  super(id,enterLeaveContent,enterStateHandlers);
  this.leaveStateChar=leaveStateChar;
  if (enterLeaveContent) {
    setLeaveHandler(new CharacterHandler(){
      @Override public void handle(      ParsingContext ctx) throws CommandFormatException {
        if (ctx.getCharacter() == leaveStateChar) {
          GlobalCharacterHandlers.CONTENT_CHARACTER_HANDLER.handle(ctx);
        }
      }
    }
);
  }
  if (endRequired) {
    this.setEndContentHandler(new ErrorCharacterHandler(("Closing '" + leaveStateChar + "' is missing.")));
  }
  this.setDefaultHandler(GlobalCharacterHandlers.CONTENT_CHARACTER_HANDLER);
}
