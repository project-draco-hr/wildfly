{
synchronized (CorbaUtils.class) {
    if (toStubMethod == null) {
      initMethodHandles();
    }
  }
  java.lang.Object stub;
  try {
    stub=toStubMethod.invoke(null,new java.lang.Object[]{remoteObj});
  }
 catch (  InvocationTargetException e) {
    Throwable realException=e.getTargetException();
    ConfigurationException ce=new ConfigurationException("Problem with PortableRemoteObject.toStub(); object not exported or stub not found");
    ce.setRootCause(realException);
    throw ce;
  }
catch (  IllegalAccessException e) {
    ConfigurationException ce=new ConfigurationException("Cannot invoke javax.rmi.PortableRemoteObject.toStub(java.rmi.Remote)");
    ce.setRootCause(e);
    throw ce;
  }
  if (!corbaStubClass.isInstance(stub)) {
    return null;
  }
  try {
    connectMethod.invoke(stub,new java.lang.Object[]{orb});
  }
 catch (  InvocationTargetException e) {
    Throwable realException=e.getTargetException();
    if (!(realException instanceof java.rmi.RemoteException)) {
      ConfigurationException ce=new ConfigurationException("Problem invoking javax.rmi.CORBA.Stub.connect()");
      ce.setRootCause(realException);
      throw ce;
    }
  }
catch (  IllegalAccessException e) {
    ConfigurationException ce=new ConfigurationException("Cannot invoke javax.rmi.CORBA.Stub.connect()");
    ce.setRootCause(e);
    throw ce;
  }
  return (org.omg.CORBA.Object)stub;
}
