{
  return provided != null ? provided : new AttributeMarshaller(){
    @Override public void marshallAsElement(    AttributeDefinition attribute,    ModelNode resourceModel,    boolean marshallDefault,    XMLStreamWriter writer) throws XMLStreamException {
      if (resourceModel.hasDefined(attribute.getName())) {
        writer.writeStartElement(attribute.getXmlName());
        for (        AttributeDefinition valueType : valueTypes) {
          for (          ModelNode handler : resourceModel.get(attribute.getName()).asList()) {
            valueType.marshallAsElement(handler,writer);
          }
        }
        writer.writeEndElement();
      }
    }
  }
;
}
