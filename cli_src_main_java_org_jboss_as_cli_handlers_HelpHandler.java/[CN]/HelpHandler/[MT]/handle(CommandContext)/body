{
  boolean printCommands;
  try {
    printCommands=commands.isPresent(ctx.getParsedCommandLine());
  }
 catch (  CommandFormatException e) {
    throw new CommandFormatException(e.getLocalizedMessage());
  }
  if (printCommands) {
    final List<String> commands=new ArrayList<String>();
    for (    String cmd : cmdRegistry.getTabCompletionCommands()) {
      CommandHandler handler=cmdRegistry.getCommandHandler(cmd);
      if (handler.isAvailable(ctx)) {
        commands.add(cmd);
      }
    }
    Collections.sort(commands);
    ctx.printLine("Commands available in the current context:");
    ctx.printColumns(commands);
    ctx.printLine("To read a description of a specific command execute 'command_name --help'.");
  }
 else {
    printHelp(ctx);
  }
}
