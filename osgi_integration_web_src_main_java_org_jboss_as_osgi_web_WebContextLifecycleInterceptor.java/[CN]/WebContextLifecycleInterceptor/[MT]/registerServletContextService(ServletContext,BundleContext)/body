{
  Bundle bundle=bundleContext.getBundle();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("osgi.web.symbolicname",bundle.getSymbolicName());
  Dictionary<?,?> headers=bundle.getHeaders();
  Object version=headers.get(Constants.BUNDLE_VERSION);
  if (version instanceof String)   props.put("osgi.web.version",version);
  Object contextPath=headers.get(WebExtension.WEB_CONTEXTPATH);
  if (contextPath instanceof String)   props.put("osgi.web.contextpath",contextPath);
  bundleContext.registerService(ServletContext.class.getName(),servletContext,props);
}
