{
  if (principalVersusRolesMap != null && principalVersusRolesMap.size() > 0) {
    List<String> mappedRoles=new ArrayList<String>();
    for (    String role : rolesList) {
      Set<String> roles=principalVersusRolesMap.get(role);
      if (roles != null && roles.size() > 0) {
        for (        String r : roles) {
          if (!mappedRoles.contains(r))           mappedRoles.add(r);
        }
      }
 else {
        if (!mappedRoles.contains(role))         mappedRoles.add(role);
      }
    }
    return mappedRoles;
  }
  return rolesList;
}
