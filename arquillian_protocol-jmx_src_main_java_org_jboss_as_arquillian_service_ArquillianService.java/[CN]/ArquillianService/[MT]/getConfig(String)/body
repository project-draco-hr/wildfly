{
  CountDownLatch latch=null;
synchronized (deployedTests) {
    ArquillianConfig arqConfig=deployedTests.get(className);
    if (arqConfig != null) {
      waitingTests.remove(className);
      return arqConfig;
    }
    latch=new CountDownLatch(1);
    waitingTests.put(className,latch);
  }
  try {
    latch.await(1000,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
  }
synchronized (deployedTests) {
    waitingTests.remove(className);
    return deployedTests.get(className);
  }
}
