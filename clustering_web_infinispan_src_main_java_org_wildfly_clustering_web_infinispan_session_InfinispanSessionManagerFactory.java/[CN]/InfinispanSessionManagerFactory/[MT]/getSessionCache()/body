{
  Cache<String,V> cache=this.config.getCache();
  Configuration cacheConfig=cache.getCacheConfiguration();
  boolean lockOnRead=cacheConfig.transaction().transactionMode().isTransactional() && (cacheConfig.transaction().lockingMode() == LockingMode.PESSIMISTIC) && cacheConfig.locking().isolationLevel() == IsolationLevel.REPEATABLE_READ;
  return lockOnRead ? cache.getAdvancedCache().withFlags(Flag.FORCE_WRITE_LOCK) : cache;
}
