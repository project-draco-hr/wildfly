{
  boolean handleChildren=false;
  if (accessControlUtil.getResourceAccess(address,false).isAccessibleResource()) {
    handleChildren=action.onResource(address);
  }
  if (handleChildren) {
    for (    String type : current.getChildTypes()) {
      if (current.hasChildren(type)) {
        for (        ResourceEntry entry : current.getChildren(type)) {
          final PathElement pathElement=entry.getPathElement();
          final PathAddress childAddress=address.append(pathElement);
          doIterate(entry,childAddress);
        }
      }
    }
  }
}
