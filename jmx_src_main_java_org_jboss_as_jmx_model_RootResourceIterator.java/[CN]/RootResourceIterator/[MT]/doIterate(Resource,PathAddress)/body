{
  if (action != null) {
    action.onResource(address);
  }
  for (  String type : current.getChildTypes()) {
    if (current.hasChildren(type)) {
      for (      ResourceEntry entry : current.getChildren(type)) {
        final PathElement pathElement=entry.getPathElement();
        final Resource child=current.getChild(pathElement);
        final PathAddress childAddress=address.append(pathElement);
        doIterate(child,childAddress);
      }
    }
  }
}
