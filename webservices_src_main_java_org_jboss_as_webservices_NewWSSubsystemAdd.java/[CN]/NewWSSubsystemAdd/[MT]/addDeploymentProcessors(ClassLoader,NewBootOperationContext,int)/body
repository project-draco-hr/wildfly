{
  try {
    Enumeration<URL> urls=cl.getResources("/META-INF/deployment-aspects.xml");
    if (urls != null) {
      ClassLoader origClassLoader=SecurityActions.getContextClassLoader();
      try {
        SecurityActions.setContextClassLoader(cl);
        while (urls.hasMoreElements()) {
          URL url=urls.nextElement();
          InputStream is=null;
          try {
            is=url.openStream();
            List<DeploymentAspect> deploymentAspects=WSDeploymentAspectParser.parse(is);
            for (            DeploymentAspect da : deploymentAspects) {
              int p=priority + da.getRelativeOrder();
              operationContext.addDeploymentProcessor(Phase.INSTALL,p,new AspectDeploymentProcessor(da));
            }
          }
  finally {
            if (is != null) {
              try {
                is.close();
              }
 catch (              Exception e) {
              }
            }
          }
        }
      }
  finally {
        SecurityActions.setContextClassLoader(origClassLoader);
      }
    }
  }
 catch (  IOException e) {
    throw new RuntimeException("Could not load WS deployment aspects!",e);
  }
}
