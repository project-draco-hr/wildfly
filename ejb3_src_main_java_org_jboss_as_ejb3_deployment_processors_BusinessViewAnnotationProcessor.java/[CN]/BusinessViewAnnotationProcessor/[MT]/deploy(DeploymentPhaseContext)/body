{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (MetadataCompleteMarker.isMetadataComplete(deploymentUnit)) {
    return;
  }
  final EEModuleDescription eeModuleDescription=deploymentUnit.getAttachment(Attachments.EE_MODULE_DESCRIPTION);
  final Collection<ComponentDescription> componentDescriptions=eeModuleDescription.getComponentDescriptions();
  if (componentDescriptions == null || componentDescriptions.isEmpty()) {
    return;
  }
  final Module module=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.MODULE);
  final ClassLoader moduleClassLoader=module.getClassLoader();
  for (  ComponentDescription componentDescription : componentDescriptions) {
    if (componentDescription instanceof SessionBeanComponentDescription == false) {
      continue;
    }
    final Class<?> ejbClass=this.getEjbClass(componentDescription.getComponentClassName(),moduleClassLoader);
    this.processViewAnnotations(ejbClass,(SessionBeanComponentDescription)componentDescription);
  }
}
