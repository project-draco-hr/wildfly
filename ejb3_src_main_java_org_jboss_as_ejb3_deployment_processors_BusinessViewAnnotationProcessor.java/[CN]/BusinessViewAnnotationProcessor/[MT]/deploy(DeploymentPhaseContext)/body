{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  if (MetadataCompleteMarker.isMetadataComplete(deploymentUnit)) {
    return;
  }
  if (deploymentUnit.hasAttachment(Attachments.OSGI_MANIFEST)) {
    return;
  }
  final EEModuleDescription eeModuleDescription=deploymentUnit.getAttachment(EE_MODULE_DESCRIPTION);
  final Collection<ComponentDescription> componentDescriptions=eeModuleDescription.getComponentDescriptions();
  if (componentDescriptions == null || componentDescriptions.isEmpty()) {
    return;
  }
  final Module module=deploymentUnit.getAttachment(Attachments.MODULE);
  final ClassLoader moduleClassLoader=module.getClassLoader();
  for (  ComponentDescription componentDescription : componentDescriptions) {
    if (componentDescription instanceof SessionBeanComponentDescription == false) {
      continue;
    }
    final Class<?> ejbClass=this.getEjbClass(componentDescription.getComponentClassName(),moduleClassLoader);
    this.processViewAnnotations(ejbClass,(SessionBeanComponentDescription)componentDescription);
  }
}
