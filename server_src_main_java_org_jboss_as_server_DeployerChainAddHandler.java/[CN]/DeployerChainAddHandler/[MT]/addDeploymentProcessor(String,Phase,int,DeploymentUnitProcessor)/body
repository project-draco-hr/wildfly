{
  final EnumMap<Phase,Set<RegisteredDeploymentUnitProcessor>> deployerMap=INSTANCE.deployerMap;
  Set<RegisteredDeploymentUnitProcessor> registeredDeploymentUnitProcessors=deployerMap.get(phase);
  RegisteredDeploymentUnitProcessor registeredDeploymentUnitProcessor=new RegisteredDeploymentUnitProcessor(priority,processor,subsystemName);
  if (registeredDeploymentUnitProcessors.contains(registeredDeploymentUnitProcessor)) {
    throw ServerLogger.ROOT_LOGGER.duplicateDeploymentUnitProcessor(priority,processor.getClass());
  }
  registeredDeploymentUnitProcessors.add(registeredDeploymentUnitProcessor);
}
