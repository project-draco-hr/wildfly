{
  String port="9990";
  String host="localhost";
  String protocol="http-remoting";
  try {
    CommandLine line=parser.parse(options,args,false);
    if (line.hasOption("help")) {
      formatter.printHelp(usage,options);
      return;
    }
    if (line.hasOption("host")) {
      host=line.getOptionValue("host");
    }
    if (line.hasOption("port")) {
      port=line.getOptionValue("port");
    }
    if (line.hasOption("protocol")) {
      protocol=line.getOptionValue("protocol");
    }
  }
 catch (  ParseException e) {
    System.out.println(e.getMessage());
    formatter.printHelp(usage,options);
    return;
  }
  System.out.println("Initializing JBoss Diagnostic Reporter...");
  JdrReportService reportService=new JdrReportService();
  JdrReport response=null;
  try {
    response=reportService.standaloneCollect(protocol,host,port);
    System.out.println("JDR started: " + response.getStartTime().toString());
    System.out.println("JDR ended: " + response.getEndTime().toString());
    System.out.println("JDR location: " + response.getLocation());
  }
 catch (  OperationFailedException e) {
    System.out.println("Failed to complete the JDR report: " + e.getMessage());
  }
  System.exit(0);
}
