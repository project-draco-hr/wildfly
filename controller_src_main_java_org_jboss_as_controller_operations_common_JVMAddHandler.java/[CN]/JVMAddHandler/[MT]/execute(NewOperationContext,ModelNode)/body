{
  ModelNode subModel=context.readModelForUpdate(PathAddress.EMPTY_ADDRESS);
  ModelNode jvmType=subModel.get(JVM_TYPE);
  if (operation.hasDefined(JVM_TYPE)) {
    jvmType.set(operation.get(JVM_TYPE));
  }
  for (  final String attr : JVMHandlers.ATTRIBUTES) {
    if (operation.has(attr)) {
      subModel.get(attr).set(operation.get(attr));
    }
 else {
      subModel.get(attr);
    }
  }
  if (server) {
    for (    final String attr : JVMHandlers.SERVER_ATTRIBUTES) {
      if (operation.has(attr)) {
        subModel.get(attr).set(operation.get(attr));
      }
 else {
        subModel.get(attr);
      }
    }
  }
  final ModelNode compensatingOperation=Util.getResourceRemoveOperation(operation.require(OP_ADDR));
  context.getCompensatingOperation().set(compensatingOperation);
  context.completeStep();
}
