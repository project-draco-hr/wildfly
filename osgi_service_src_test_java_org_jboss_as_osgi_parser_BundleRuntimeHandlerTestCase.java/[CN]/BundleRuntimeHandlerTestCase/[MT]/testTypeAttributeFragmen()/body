{
  mockEnvironment();
  ModelNode readOp=getReadOperation("1",ModelConstants.TYPE);
  Dictionary<String,String> headers=new Hashtable<String,String>();
  headers.put(Constants.FRAGMENT_HOST,"somebundle");
  Bundle testBundle=Mockito.mock(Bundle.class);
  Mockito.when(bundleContext.getBundle(1)).thenReturn(testBundle);
  Mockito.when(testBundle.getHeaders()).thenReturn(headers);
  BundleRuntimeHandler.INSTANCE.executeRuntimeStep(operationContext,readOp);
  Assert.assertEquals(ModelConstants.FRAGMENT,contextResult.asString());
}
