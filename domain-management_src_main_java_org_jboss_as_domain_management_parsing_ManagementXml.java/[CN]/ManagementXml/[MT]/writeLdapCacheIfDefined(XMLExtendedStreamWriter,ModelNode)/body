{
  if (parent.hasDefined(CACHE)) {
    ModelNode cacheHolder=parent.require(CACHE);
    final ModelNode cache;
    final String type;
    if (cacheHolder.hasDefined(BY_ACCESS_TIME)) {
      cache=cacheHolder.require(BY_ACCESS_TIME);
      type=BY_ACCESS_TIME;
    }
 else     if (cacheHolder.hasDefined(BY_SEARCH_TIME)) {
      cache=cacheHolder.require(BY_SEARCH_TIME);
      type=BY_SEARCH_TIME;
    }
 else {
      return;
    }
    writer.writeStartElement(Element.CACHE.getLocalName());
    if (type.equals(BY_SEARCH_TIME) == false) {
      writer.writeAttribute(Attribute.TYPE.getLocalName(),type);
    }
    LdapCacheResourceDefinition.EVICTION_TIME.marshallAsAttribute(cache,writer);
    LdapCacheResourceDefinition.CACHE_FAILURES.marshallAsAttribute(cache,writer);
    LdapCacheResourceDefinition.MAX_CACHE_SIZE.marshallAsAttribute(cache,writer);
    writer.writeEndElement();
  }
}
