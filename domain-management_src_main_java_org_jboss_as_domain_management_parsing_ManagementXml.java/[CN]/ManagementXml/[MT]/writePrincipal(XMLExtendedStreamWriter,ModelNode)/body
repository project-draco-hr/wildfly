{
  String elementName=principal.require(TYPE).asString().equalsIgnoreCase(GROUP) ? Element.GROUP.getLocalName() : Element.USER.getLocalName();
  writer.writeStartElement(elementName);
  PrincipalResourceDefinition.REALM.marshallAsAttribute(principal,writer);
  PrincipalResourceDefinition.NAME.marshallAsAttribute(principal,writer);
  writer.writeEndElement();
}
