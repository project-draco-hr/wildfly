{
  Map<String,Map<String,Set<String>>> configuredConstraints=new HashMap<String,Map<String,Set<String>>>();
  if (constraint.hasDefined(APPLICATION_CLASSIFICATION)) {
    ModelNode appTypeParent=constraint.require(APPLICATION_CLASSIFICATION);
    if (appTypeParent.hasDefined(TYPE)) {
      for (      Property typeProperty : appTypeParent.get(TYPE).asPropertyList()) {
        if (typeProperty.getValue().hasDefined(CLASSIFICATION)) {
          for (          Property applicationProperty : typeProperty.getValue().get(CLASSIFICATION).asPropertyList()) {
            ModelNode applicationType=applicationProperty.getValue();
            if (applicationType.hasDefined(ApplicationClassificationConfigResourceDefinition.CONFIGURED_APPLICATION.getName())) {
              Map<String,Set<String>> constraintMap=configuredConstraints.get(APPLICATION_CLASSIFICATION);
              if (constraintMap == null) {
                constraintMap=new TreeMap<String,Set<String>>();
                configuredConstraints.put(APPLICATION_CLASSIFICATION,constraintMap);
              }
              Set<String> types=constraintMap.get(typeProperty.getName());
              if (types == null) {
                types=new TreeSet<String>();
                constraintMap.put(typeProperty.getName(),types);
              }
              types.add(applicationProperty.getName());
            }
          }
        }
      }
    }
  }
  return configuredConstraints;
}
