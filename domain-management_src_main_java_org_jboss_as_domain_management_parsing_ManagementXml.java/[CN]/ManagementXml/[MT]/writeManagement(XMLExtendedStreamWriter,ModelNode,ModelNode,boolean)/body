{
  boolean hasSecurityRealm=management.hasDefined(SECURITY_REALM);
  boolean hasConnection=management.hasDefined(LDAP_CONNECTION);
  boolean hasInterface=allowInterfaces && management.hasDefined(MANAGEMENT_INTERFACE);
  boolean hasServerGroupRoles=accessControl.isDefined() && accessControl.hasDefined(SERVER_GROUP_SCOPED_ROLE);
  boolean hasHostRoles=accessControl.isDefined() && (accessControl.hasDefined(HOST_SCOPED_ROLE) || accessControl.hasDefined(HOST_SCOPED_ROLES));
  boolean hasRoleMapping=accessControl.isDefined() && accessControl.hasDefined(ROLE_MAPPING);
  Map<String,Map<String,Set<String>>> configuredAccessConstraints=getConfiguredAccessConstraints(accessControl);
  if (!hasSecurityRealm && !hasConnection && !hasInterface&& !hasServerGroupRoles&& !hasHostRoles&& !hasRoleMapping&& configuredAccessConstraints.size() == 0) {
    return;
  }
  writer.writeStartElement(Element.MANAGEMENT.getLocalName());
  if (hasSecurityRealm) {
    writeSecurityRealm(writer,management);
  }
  if (hasConnection) {
    writeOutboundConnections(writer,management);
  }
  if (allowInterfaces && hasInterface) {
    writeManagementInterfaces(writer,management);
  }
  delegate.writeAccessControl(writer,accessControl);
  writer.writeEndElement();
}
