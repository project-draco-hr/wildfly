{
  ORBLogger.ROOT_LOGGER.debugServiceStartup(context.getController().getName().getCanonicalName());
  ORB orb=orbInjector.getValue();
  POA rootPOA=rootPOAInjector.getValue();
  POA namingPOA=namingPOAInjector.getValue();
  try {
    CorbaNamingContext.init(orb,rootPOA);
    CorbaNamingContext ns=new CorbaNamingContext();
    boolean doPurge=false;
    boolean noPing=false;
    ns.init(namingPOA,doPurge,noPing);
    byte[] rootContextId="root".getBytes();
    namingPOA.activate_object_with_id(rootContextId,ns);
    namingService=NamingContextExtHelper.narrow(namingPOA.create_reference_with_id(rootContextId,"IDL:omg.org/CosNaming/NamingContextExt:1.0"));
  }
 catch (  Exception e) {
    throw ORBMessages.MESSAGES.failedToStartJBossCOSNaming(e);
  }
  CorbaServiceUtil.bindObject(context.getChildTarget(),"corbanaming",namingService);
  ORBLogger.ROOT_LOGGER.corbaNamingServiceStarted();
  ORBLogger.ROOT_LOGGER.debugNamingServiceIOR(orb.object_to_string(namingService));
  try {
    PrintWriter ps=new PrintWriter(new FileOutputStream("/home/tomek/temp/ior.txt"));
    ps.println(orb.object_to_string(namingService));
    ps.close();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
