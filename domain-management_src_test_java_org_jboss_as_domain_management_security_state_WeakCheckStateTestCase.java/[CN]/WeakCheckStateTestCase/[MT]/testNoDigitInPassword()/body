{
  values.setUserName("willFail");
  values.setPassword("!QwD%rGf".toCharArray());
  WeakCheckState weakCheckState=new WeakCheckState(consoleMock,values);
  AssertConsoleBuilder consoleBuilder=new AssertConsoleBuilder().expectedErrorMessage(MESSAGES.passwordMustHaveDigit());
  consoleMock.setResponses(consoleBuilder);
  State errorState=weakCheckState.execute();
  assertTrue("Expected the next state to be ErrorState",errorState instanceof ErrorState);
  State promptNewUserState=errorState.execute();
  assertTrue("Expected the next state to be PromptNewUserState",promptNewUserState instanceof PromptNewUserState);
  consoleBuilder.validate();
}
