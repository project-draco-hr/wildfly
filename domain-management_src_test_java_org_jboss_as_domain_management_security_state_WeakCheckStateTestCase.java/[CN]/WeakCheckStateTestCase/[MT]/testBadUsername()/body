{
  String[] BAD_USER_NAMES={"admin","administrator","root"};
  for (  String userName : BAD_USER_NAMES) {
    values.setUserName(userName);
    WeakCheckState weakCheckState=new WeakCheckState(consoleMock,values);
    AssertConsoleBuilder consoleBuilder=new AssertConsoleBuilder().expectedConfirmMessage(MESSAGES.usernameEasyToGuess(userName),MESSAGES.sureToAddUser(userName),"n");
    consoleMock.setResponses(consoleBuilder);
    State confirmationChoice=weakCheckState.execute();
    assertTrue("Expected the next state to be ConfirmationChoice",confirmationChoice instanceof ConfirmationChoice);
    State promptNewUserState=confirmationChoice.execute();
    assertTrue("Expected the next state to be PromptNewUserState",promptNewUserState instanceof PromptNewUserState);
    consoleBuilder.validate();
  }
}
