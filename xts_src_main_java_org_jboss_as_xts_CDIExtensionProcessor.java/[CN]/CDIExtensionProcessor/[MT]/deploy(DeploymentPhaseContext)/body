{
  final DeploymentUnit unit=phaseContext.getDeploymentUnit();
  if (!XTSDeploymentMarker.isXTSAnnotationDeployment(unit)) {
    return;
  }
  final DeploymentReflectionIndex index=unit.getAttachment(Attachments.REFLECTION_INDEX);
  final ClassLoader cl=unit.getAttachment(Attachments.MODULE).getClassLoader();
  for (  String fqn : EXTENSIONS) {
    final Extension extension=loadExtension(fqn,index,cl);
    final Metadata<Extension> metadata=new MetadataImpl<Extension>(extension,unit.getName());
    unit.addToAttachmentList(WeldAttachments.PORTABLE_EXTENSIONS,metadata);
  }
}
