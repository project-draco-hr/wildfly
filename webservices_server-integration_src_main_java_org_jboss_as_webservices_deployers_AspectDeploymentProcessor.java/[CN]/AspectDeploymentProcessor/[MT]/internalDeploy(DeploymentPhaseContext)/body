{
  final DeploymentUnit unit=phaseContext.getDeploymentUnit();
  if (ASHelper.isWebServiceDeployment(unit)) {
    if (aspect == null) {
      try {
        if (clazz == null) {
          clazz=(Class<? extends DeploymentAspect>)SecurityActions.getContextClassLoader().loadClass(aspectClass);
        }
        aspect=clazz.newInstance();
      }
 catch (      Exception e) {
        throw new DeploymentUnitProcessingException(e);
      }
    }
    log.debug(this.aspect + " start: " + unit.getName());
    final Deployment dep=ASHelper.getRequiredAttachment(unit,WSAttachmentKeys.DEPLOYMENT_KEY);
    dep.addAttachment(DeploymentPhaseContext.class,phaseContext);
    aspect.start(dep);
    dep.removeAttachment(DeploymentPhaseContext.class);
  }
}
