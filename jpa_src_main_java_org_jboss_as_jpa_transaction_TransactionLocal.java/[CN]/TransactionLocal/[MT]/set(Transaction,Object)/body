{
  if (transaction == null)   throw new IllegalStateException("there is no transaction");
  if (!containsValue(transaction)) {
    initialValue();
  }
  if (value == null) {
    value=NULL_VALUE;
  }
  storeValue(transaction,value);
}
