{
  final HttpServletRequestImpl request=HttpServletRequestImpl.getRequestImpl(exchange.getAttachment(HttpServletRequestImpl.ATTACHMENT_KEY));
  ClusteredSession<? extends OutgoingDistributableSessionData> session=(ClusteredSession<?>)manager.getSession(exchange,request.getServletContext().getSessionCookieConfig());
  if (session != null) {
    session.resetIdWithRouteInfo(newId);
    if (log.isTraceEnabled()) {
      log.tracef("resetSessionId(): changed catalina session to= [%s] old one= [%s]",newId,oldId);
    }
  }
 else   if (log.isTraceEnabled()) {
    log.tracef("resetSessionId(): no session with id %s found",newId);
  }
}
