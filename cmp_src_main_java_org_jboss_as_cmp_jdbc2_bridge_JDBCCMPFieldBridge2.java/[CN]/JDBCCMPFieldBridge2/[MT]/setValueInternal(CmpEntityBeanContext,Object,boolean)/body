{
  PersistentContext pctx=(PersistentContext)ctx.getPersistenceContext();
  if (cmpFieldIAmMappedTo != null && cmpFieldIAmMappedTo.isPrimaryKeyMember) {
    Object curValue=pctx.getFieldValue(rowIndex);
    if (value != null && !value.equals(curValue)) {
      throw CmpMessages.MESSAGES.attemptToModifyPkThroughFk(entity.getEntityName(),cmpFieldIAmMappedTo.getFieldName(),entity.getQualifiedTableName(),cmpFieldIAmMappedTo.getColumnName(),curValue,value);
    }
    makeDirty=false;
  }
 else {
    pctx.setFieldValue(rowIndex,value);
  }
  if (makeDirty) {
    pctx.setDirty();
  }
}
