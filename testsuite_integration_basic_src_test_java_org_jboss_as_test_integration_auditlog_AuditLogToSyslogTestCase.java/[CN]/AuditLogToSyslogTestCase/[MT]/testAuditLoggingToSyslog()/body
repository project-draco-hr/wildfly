{
  final BlockingQueue<SyslogServerEventIF> queue=BlockedSyslogServerEventHandler.getQueue();
  queue.clear();
  SyslogServerEventIF syslogEvent=null;
  makeOneLog();
  syslogEvent=queue.poll(1 * ADJUSTED_SECOND,TimeUnit.MILLISECONDS);
  Assert.assertNull("No message was expected in the syslog",syslogEvent);
  try {
    setAuditlogEnabled(true);
    syslogEvent=queue.poll(5 * ADJUSTED_SECOND,TimeUnit.MILLISECONDS);
    Assert.assertNotNull("Enabling audit log wasn't logged into the syslog",syslogEvent);
    makeOneLog();
    syslogEvent=queue.poll(5 * ADJUSTED_SECOND,TimeUnit.MILLISECONDS);
    Assert.assertNotNull("Auditable event was't logged into the syslog",syslogEvent);
  }
  finally {
    setAuditlogEnabled(false);
  }
  syslogEvent=queue.poll(5 * ADJUSTED_SECOND,TimeUnit.MILLISECONDS);
  Assert.assertNotNull("Disabling audit log wasn't logged into the syslog",syslogEvent);
  makeOneLog();
  syslogEvent=queue.poll(1 * ADJUSTED_SECOND,TimeUnit.MILLISECONDS);
  Assert.assertNull("No message was expected in the syslog",syslogEvent);
  for (  Long property : properties) {
    Utils.applyUpdate(Util.createRemoveOperation(PathAddress.pathAddress().append(SYSTEM_PROPERTY,Long.toString(property))),managementClient.getControllerClient());
  }
  properties.clear();
}
