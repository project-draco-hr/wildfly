{
  final Object primaryKey=context.getPrivateData(EntityBeanComponent.PRIMARY_KEY_CONTEXT_KEY);
  if (context.getMethod().getName().equals("equals") && context.getParameters().length == 1 && context.getMethod().getParameterTypes()[0] == Object.class) {
    final Object other=context.getParameters()[0];
    final Class<?> proxyType=componentView.getProxyClass();
    if (proxyType.isAssignableFrom(other.getClass())) {
      return other.equals(new PrimaryKeyHolder(primaryKey));
    }
 else     if (other instanceof PrimaryKeyHolder) {
      return primaryKey.equals(((PrimaryKeyHolder)other).primaryKey);
    }
 else {
      return false;
    }
  }
 else   if (context.getMethod().getName().equals("hashCode")) {
    return primaryKey.hashCode();
  }
 else {
    return context.proceed();
  }
}
