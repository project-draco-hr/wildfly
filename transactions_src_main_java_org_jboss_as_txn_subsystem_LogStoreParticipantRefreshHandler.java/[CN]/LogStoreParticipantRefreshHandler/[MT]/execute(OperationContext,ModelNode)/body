{
  MBeanServer mbs=TransactionExtension.getMBeanServer(context);
  ModelNode subModel=context.readResource(PathAddress.EMPTY_ADDRESS).getModel();
  ModelNode onAttribute=subModel.get(LogStoreConstants.JMX_ON_ATTRIBUTE);
  String jmxName=onAttribute.asString();
  final Resource resource=context.readResourceForUpdate(PathAddress.EMPTY_ADDRESS);
  final ModelNode model=resource.getModel();
  try {
    ObjectName on=new ObjectName(jmxName);
    AttributeList attributes=mbs.getAttributes(on,LogStoreConstants.PARTICIPANT_JMX_NAMES);
    for (    javax.management.Attribute attribute : attributes.asList()) {
      String modelName=LogStoreConstants.jmxNameToModelName(LogStoreConstants.MODEL_TO_JMX_PARTICIPANT_NAMES,attribute.getName());
      if (modelName != null) {
        ModelNode aNode=model.get(modelName);
        if (aNode != null)         aNode.set(attribute.getValue().toString());
      }
    }
  }
 catch (  Exception e) {
    throw new OperationFailedException("JMX error: ",e);
  }
  context.completeStep();
}
