{
  final BatchBuilder builder=updateContext.getBatchBuilder();
  final DataSourcesService dsService=new DataSourcesService(datasources);
  BatchServiceBuilder<?> serviceBuilder=builder.addService(ConnectorServices.DATASOURCES_SERVICE,dsService);
  serviceBuilder.setInitialMode(Mode.ACTIVE);
  if (datasources == null)   return;
  if (datasources.getDataSource().size() > 0 || datasources.getXaDataSource().size() > 0) {
    serviceBuilder=builder.addServiceValueIfNotExist(JDBCRARDeployService.NAME,new JDBCRARDeployService()).addDependency(ConnectorServices.RESOURCEADAPTERS_SERVICE).addDependency(ConnectorServices.CONNECTOR_CONFIG_SERVICE).addDependency(ConnectorServices.IRONJACAMAR_MDR).setInitialMode(Mode.ACTIVE);
  }
}
