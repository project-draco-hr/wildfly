{
  ServiceController<?> pathManagerService=getContainer().getRequiredService(PathManagerService.SERVICE_NAME);
  PathManager pathManager=(PathManager)pathManagerService.getValue();
  PerformChangeCallback allCallback1=new PerformChangeCallback(pathManager,"add1",Event.ADDED,Event.REMOVED,Event.UPDATED);
  PerformChangeCallback addCallback1=new PerformChangeCallback(pathManager,"add1",Event.ADDED);
  PerformChangeCallback changeCallback1=new PerformChangeCallback(pathManager,"add1",Event.UPDATED);
  PerformChangeCallback removeCallback1=new PerformChangeCallback(pathManager,"add1",Event.REMOVED);
  PerformChangeCallback allCallback2=new PerformChangeCallback(pathManager,"add2",Event.ADDED,Event.REMOVED,Event.UPDATED);
  PerformChangeCallback allCallback3=new PerformChangeCallback(pathManager,"add3",Event.ADDED,Event.REMOVED,Event.UPDATED);
  ModelNode operation=createOperation(ADD);
  operation.get(OP_ADDR).add(PATH,"add1");
  operation.get(PATH).set("xyz");
  executeForResult(operation);
  allCallback1.checkEvent(Event.ADDED,"add1","xyz",null);
  allCallback1.checkDone();
  addCallback1.checkEvent(Event.ADDED,"add1","xyz",null);
  addCallback1.checkDone();
  changeCallback1.checkDone();
  removeCallback1.checkDone();
  allCallback2.checkDone();
  allCallback3.checkDone();
  operation=createOperation(ADD);
  operation.get(OP_ADDR).add(PATH,"add2");
  operation.get(PATH).set("123");
  operation.get(RELATIVE_TO).set("add1");
  executeForResult(operation);
  allCallback1.checkDone();
  addCallback1.checkDone();
  changeCallback1.checkDone();
  removeCallback1.checkDone();
  allCallback2.checkEvent(Event.ADDED,"add2","123","add1");
  allCallback2.checkDone();
  allCallback3.checkDone();
  allCallback3.remove();
  operation=createOperation(ADD);
  operation.get(OP_ADDR).add(PATH,"add3");
  operation.get(PATH).set("abc");
  executeForResult(operation);
  allCallback1.checkDone();
  addCallback1.checkDone();
  changeCallback1.checkDone();
  removeCallback1.checkDone();
  allCallback2.checkDone();
  allCallback3.checkDone();
}
