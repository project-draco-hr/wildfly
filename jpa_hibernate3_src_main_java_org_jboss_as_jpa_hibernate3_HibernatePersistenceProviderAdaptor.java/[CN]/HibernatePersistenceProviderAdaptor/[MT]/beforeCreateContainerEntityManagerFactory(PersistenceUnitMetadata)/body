{
  if (pu.getProperties().containsKey(SCANNER)) {
    try {
      Class scanner=Configuration.class.getClassLoader().loadClass(HIBERNATE_ANNOTATION_SCANNER_CLASS);
      Method setThreadLocalPersistenceUnitMetadata=scanner.getMethod("setThreadLocalPersistenceUnitMetadata",PersistenceUnitMetadata.class);
      setThreadLocalPersistenceUnitMetadata.invoke(null,pu);
    }
 catch (    Throwable ignore) {
    }
  }
}
