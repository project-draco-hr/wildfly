{
  final String rawJndiName=modelNode.require(JNDINAME.getName()).asString();
  final String jndiName;
  if (!rawJndiName.startsWith("java:") && modelNode.hasDefined(USE_JAVA_CONTEXT.getName()) && modelNode.get(USE_JAVA_CONTEXT.getName()).asBoolean()) {
    if (rawJndiName.startsWith("jboss/")) {
      jndiName="java:" + rawJndiName;
    }
 else {
      jndiName="java:/" + rawJndiName;
    }
  }
 else {
    jndiName=rawJndiName;
  }
  return jndiName;
}
