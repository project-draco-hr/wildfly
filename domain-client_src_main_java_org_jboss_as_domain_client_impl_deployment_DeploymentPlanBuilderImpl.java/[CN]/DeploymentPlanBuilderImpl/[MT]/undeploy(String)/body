{
  DeploymentActionImpl mod=DeploymentActionImpl.getUndeployAction(key);
  DeploymentSetPlanImpl currentSet=getCurrentDeploymentSetPlan();
  boolean add=currentSet.hasServerGroupPlans();
  DeploymentSetPlanImpl newSet=add ? new DeploymentSetPlanImpl() : currentSet;
  newSet=newSet.addAction(mod);
  return new UndeployDeploymentPlanBuilderImpl(this,newSet,!add);
}
