{
  params.name=operation.require(NAME).asString();
  params.threadFactory=operation.hasDefined(THREAD_FACTORY) ? operation.get(THREAD_FACTORY).asString() : null;
  params.properties=operation.hasDefined(PROPERTIES) ? operation.get(PROPERTIES) : null;
  if (params.properties != null) {
    if (params.properties.getType() != ModelType.LIST) {
      throw new IllegalArgumentException(PROPERTIES + " must be a list of properties");
    }
    for (    ModelNode property : params.properties.asList()) {
      if (property.getType() != ModelType.PROPERTY) {
        throw new IllegalArgumentException(PROPERTIES + " must be a list of properties");
      }
    }
  }
  params.maxThreads=getScaledCount(operation,MAX_THREADS);
  if (params.maxThreads == null) {
    throw new IllegalArgumentException(MAX_THREADS + " was not defined");
  }
  if (operation.hasDefined(KEEPALIVE_TIME)) {
    ModelNode keepaliveTime=operation.get(KEEPALIVE_TIME);
    if (!keepaliveTime.hasDefined(TIME)) {
      throw new IllegalArgumentException("Missing '" + TIME + "' for '"+ KEEPALIVE_TIME+ "'");
    }
    if (!keepaliveTime.hasDefined(UNIT)) {
      throw new IllegalArgumentException("Missing '" + UNIT + "' for '"+ KEEPALIVE_TIME+ "'");
    }
    params.keepAliveTime=new TimeSpec(Enum.valueOf(TimeUnit.class,keepaliveTime.get(UNIT).asString()),keepaliveTime.get(TIME).asLong());
  }
  return params;
}
