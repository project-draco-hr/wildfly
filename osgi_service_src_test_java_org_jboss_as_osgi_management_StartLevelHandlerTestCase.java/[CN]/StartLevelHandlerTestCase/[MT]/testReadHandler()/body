{
  StartLevel sls=Mockito.mock(StartLevel.class);
  Mockito.when(sls.getStartLevel()).thenReturn(999);
  ServiceController sc=Mockito.mock(ServiceController.class);
  Mockito.when(sc.getValue()).thenReturn(sls);
  Mockito.when(sc.getState()).thenReturn(ServiceController.State.UP);
  ServiceRegistry sr=Mockito.mock(ServiceRegistry.class);
  Mockito.when(sr.getService(Services.START_LEVEL)).thenReturn(sc);
  OperationContext ctx=Mockito.mock(OperationContext.class);
  ModelNode result=new ModelNode();
  Mockito.when(ctx.getServiceRegistry(false)).thenReturn(sr);
  Mockito.when(ctx.getResult()).thenReturn(result);
  StartLevelHandler handler=StartLevelHandler.READ_HANDLER;
  Assert.assertFalse(result.isDefined());
  handler.execute(ctx,new ModelNode());
  Assert.assertEquals(999,result.asInt());
}
