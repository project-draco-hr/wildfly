{
  StartLevel sls=Mockito.mock(StartLevel.class);
  ServiceController sc=Mockito.mock(ServiceController.class);
  Mockito.when(sc.getValue()).thenReturn(sls);
  Mockito.when(sc.getState()).thenReturn(ServiceController.State.UP);
  ServiceRegistry sr=Mockito.mock(ServiceRegistry.class);
  Mockito.when(sr.getService(Services.START_LEVEL)).thenReturn(sc);
  OperationContext ctx=Mockito.mock(OperationContext.class);
  Mockito.when(ctx.getServiceRegistry(false)).thenReturn(sr);
  ModelNode op=new ModelNode();
  op.get(ModelDescriptionConstants.VALUE).set(42);
  StartLevelHandler handler=StartLevelHandler.WRITE_HANDLER;
  Mockito.verifyZeroInteractions(sls);
  handler.execute(ctx,op);
  Mockito.verify(sls).setStartLevel(42);
}
