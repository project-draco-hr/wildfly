{
  @SuppressWarnings("rawtypes") final InjectedValue<Cache> cache=new InjectedValue<Cache>();
  final InjectedValue<GroupMembershipNotifier> notifier=new InjectedValue<GroupMembershipNotifier>();
  return target.addService(this.getServiceName(cluster),new ServiceProviderRegistryService(cache,notifier)).addDependency(CacheService.getServiceName(cluster,null),Cache.class,cache).addDependency(CoreGroupCommunicationService.getServiceName(cluster),GroupMembershipNotifier.class,notifier).setInitialMode(ServiceController.Mode.ON_DEMAND).install();
}
