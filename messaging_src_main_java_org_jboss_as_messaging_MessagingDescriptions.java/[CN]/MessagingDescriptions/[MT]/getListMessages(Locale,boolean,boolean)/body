{
  final ResourceBundle bundle=getResourceBundle(locale);
  String opName=json ? AbstractQueueControlHandler.LIST_MESSAGES_AS_JSON : AbstractQueueControlHandler.LIST_MESSAGES;
  final ModelNode result=CommonDescriptions.getDescriptionOnlyOperation(bundle,opName,"queue");
  populateFilterParam(bundle,result.get(REQUEST_PROPERTIES,FILTER.getName()));
  final ModelNode repProps=result.get(REPLY_PROPERTIES);
  repProps.get(DESCRIPTION).set(bundle.getString("queue.list-messages.reply"));
  if (json) {
    repProps.get(TYPE).set(ModelType.STRING);
  }
 else {
    repProps.get(TYPE).set(ModelType.LIST);
    if (forJMS) {
      populateJMSMessageDescription(bundle,repProps.get(VALUE_TYPE));
    }
 else {
      populateCoreMessageDescription(bundle,repProps.get(VALUE_TYPE));
    }
  }
  return result;
}
