{
  Map<String,String> properties=config.getProperties();
  try {
    InetSocketAddress mcastSocketAddress=binding.getMulticastSocketAddress();
    properties.put(addressProperty,mcastSocketAddress.getAddress().getHostAddress());
    properties.put(portProperty,String.valueOf(mcastSocketAddress.getPort()));
  }
 catch (  IllegalStateException e) {
    log.tracef(e,"Could not set %s.%s and %s.%s, %s socket binding does not specify a multicast socket",config.getProtocolName(),addressProperty,config.getProtocolName(),portProperty,binding.getName());
  }
}
