{
  final Resource rootResource=Resource.Factory.create();
  CoreManagementResourceDefinition.registerDomainResource(rootResource,null);
  final Resource host=Resource.Factory.create();
  final Resource serverOneConfig=Resource.Factory.create();
  final ModelNode serverOneModel=new ModelNode();
  serverOneModel.get(GROUP).set("group-one");
  serverOneModel.get(SOCKET_BINDING_GROUP).set("binding-one");
  serverOneConfig.writeModel(serverOneModel);
  host.registerChild(PathElement.pathElement(SERVER_CONFIG,"server-one"),serverOneConfig);
  final Resource serverTwoConfig=Resource.Factory.create();
  final ModelNode serverTwoModel=new ModelNode();
  serverTwoModel.get(GROUP).set("group-one");
  serverTwoConfig.writeModel(serverTwoModel);
  host.registerChild(PathElement.pathElement(SERVER_CONFIG,"server-two"),serverTwoConfig);
  final Resource serverThreeConfig=Resource.Factory.create();
  final ModelNode serverThreeModel=new ModelNode();
  serverThreeModel.get(GROUP).set("group-two");
  serverThreeConfig.writeModel(serverThreeModel);
  host.registerChild(PathElement.pathElement(SERVER_CONFIG,"server-three"),serverThreeConfig);
  rootResource.registerChild(PathElement.pathElement(HOST,"localhost"),host);
  final Resource serverGroup1=Resource.Factory.create();
  serverGroup1.getModel().get(PROFILE).set("profile-one");
  serverGroup1.getModel().get(SOCKET_BINDING_GROUP).set("binding-one");
  rootResource.registerChild(PathElement.pathElement(SERVER_GROUP,"group-one"),serverGroup1);
  final Resource serverGroup2=Resource.Factory.create();
  serverGroup2.getModel().get(PROFILE).set("profile-2");
  serverGroup2.getModel().get(SOCKET_BINDING_GROUP).set("binding-two");
  rootResource.registerChild(PathElement.pathElement(SERVER_GROUP,"group-two"),serverGroup2);
  final Resource profile1=Resource.Factory.create();
  profile1.getModel().setEmptyObject();
  rootResource.registerChild(PathElement.pathElement(PROFILE,"profile-one"),profile1);
  final Resource profile2=Resource.Factory.create();
  profile2.getModel().setEmptyObject();
  rootResource.registerChild(PathElement.pathElement(PROFILE,"profile-two"),profile2);
  final Resource binding1=Resource.Factory.create();
  binding1.getModel().setEmptyObject();
  rootResource.registerChild(PathElement.pathElement(SOCKET_BINDING_GROUP,"binding-one"),binding1);
  final Resource binding2=Resource.Factory.create();
  binding2.getModel().setEmptyObject();
  rootResource.registerChild(PathElement.pathElement(SOCKET_BINDING_GROUP,"binding-two"),binding2);
  final Resource management=rootResource.getChild(PathElement.pathElement(CORE_SERVICE,MANAGEMENT));
  final Resource accessControl=management.getChild(AccessAuthorizationResourceDefinition.PATH_ELEMENT);
  final Resource superUser=Resource.Factory.create();
  accessControl.registerChild(PathElement.pathElement(ROLE_MAPPING,"SuperUser"),superUser);
  final Resource include=Resource.Factory.create();
  superUser.registerChild(PathElement.pathElement(INCLUDE,"user-$local"),include);
  include.getModel().get("name").set("local");
  hack(rootResource,EXTENSION);
  hack(rootResource,PATH);
  hack(rootResource,SYSTEM_PROPERTY);
  hack(rootResource,INTERFACE);
  hack(rootResource,DEPLOYMENT);
  return rootResource;
}
