{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final WeldDeploymentMetadata deploymentMetadata=deploymentUnit.getAttachment(WeldDeploymentMetadata.ATTACHMENT_KEY);
  if (deploymentMetadata == null || deploymentMetadata.getBeanArchiveMetadata().isEmpty()) {
    return;
  }
  final ModuleLoader moduleLoader=Module.getSystemModuleLoader();
  addDepdenency(deploymentUnit,moduleLoader,JAVAX_PERSISTENCE_API_ID);
  addDepdenency(deploymentUnit,moduleLoader,JAVAEE_API_ID);
  addDepdenency(deploymentUnit,moduleLoader,JBOSS_AS_WELD_ID);
  addDepdenency(deploymentUnit,moduleLoader,JBOSS_INTERCEPTOR_ID);
  addDepdenency(deploymentUnit,moduleLoader,JBOSS_LOGGING_ID);
  addDepdenency(deploymentUnit,moduleLoader,JAVASSIST_ID);
  addDepdenency(deploymentUnit,moduleLoader,WELD_CORE_ID);
  addDepdenency(deploymentUnit,moduleLoader,WELD_API_ID);
  addDepdenency(deploymentUnit,moduleLoader,WELD_SPI_ID);
}
