{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final ModuleSpecification moduleSpecification=deploymentUnit.getAttachment(Attachments.MODULE_SPECIFICATION);
  final ModuleLoader moduleLoader=Module.getBootModuleLoader();
  addDepdenency(moduleSpecification,moduleLoader,JAXB_API);
  if (!JaxrsDeploymentMarker.isJaxrsDeployment(deploymentUnit)) {
    return;
  }
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_ATOM);
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_JAXRS);
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_JAXB);
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_JACKSON);
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_JSAPI);
  addDepdenency(moduleSpecification,moduleLoader,RESTEASY_MULTIPART);
  addDepdenency(moduleSpecification,moduleLoader,ASYNC_HTTP_SERVLET_30);
  addDepdenency(moduleSpecification,moduleLoader,JACKSON_CORE_ASL);
  if (WeldDeploymentMarker.isPartOfWeldDeployment(deploymentUnit)) {
    addDepdenency(moduleSpecification,moduleLoader,RESTEASY_CDI);
  }
}
