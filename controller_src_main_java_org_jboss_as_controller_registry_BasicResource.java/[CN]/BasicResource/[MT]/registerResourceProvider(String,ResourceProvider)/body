{
synchronized (children) {
    if (children.containsKey(type)) {
      throw new IllegalStateException("duplicate resource type " + type);
    }
    children.put(type,provider);
  }
}
