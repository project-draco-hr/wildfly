{
  final Resource clone=new BasicResource();
  for (; ; ) {
    try {
      clone.writeModel(model);
      break;
    }
 catch (    ConcurrentModificationException ignore) {
    }
  }
  for (  final String childType : getChildTypes()) {
    for (    final ResourceEntry child : getChildren(childType)) {
      clone.registerChild(child.getPathElement(),child.clone());
    }
  }
  return clone;
}
