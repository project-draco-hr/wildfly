{
  final Map<String,ResourceProvider> snapshot=childrenUpdater.get(this);
  final ResourceProvider provider=snapshot.get(type);
  if (provider != null) {
    return provider;
  }
 else {
    final ResourceProvider newProvider=new DefaultResourceProvider();
    final ResourceProvider existing=childrenUpdater.putIfAbsent(this,type,newProvider);
    if (existing != null) {
      return existing;
    }
 else {
      return newProvider;
    }
  }
}
