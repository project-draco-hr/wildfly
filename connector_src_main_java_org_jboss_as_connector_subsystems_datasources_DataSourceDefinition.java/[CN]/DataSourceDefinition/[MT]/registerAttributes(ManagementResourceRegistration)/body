{
  if (deployed) {
    for (    final SimpleAttributeDefinition attribute : DATASOURCE_ATTRIBUTE) {
      SimpleAttributeDefinition runtimeAttribute=new SimpleAttributeDefinitionBuilder(attribute).setFlags(AttributeAccess.Flag.STORAGE_RUNTIME).build();
      resourceRegistration.registerReadOnlyAttribute(runtimeAttribute,XMLDataSourceRuntimeHandler.INSTANCE);
    }
    for (    final PropertiesAttributeDefinition attribute : DATASOURCE_PROPERTIES_ATTRIBUTES) {
      PropertiesAttributeDefinition runtimeAttribute=new PropertiesAttributeDefinition.Builder(attribute).setFlags(AttributeAccess.Flag.STORAGE_RUNTIME).build();
      resourceRegistration.registerReadOnlyAttribute(runtimeAttribute,XMLDataSourceRuntimeHandler.INSTANCE);
    }
  }
 else {
    for (    final SimpleAttributeDefinition attribute : DATASOURCE_ATTRIBUTE) {
      if (PoolConfigurationRWHandler.ATTRIBUTES.contains(attribute.getName())) {
        resourceRegistration.registerReadWriteAttribute(attribute,PoolConfigurationRWHandler.PoolConfigurationReadHandler.INSTANCE,PoolConfigurationRWHandler.LocalAndXaDataSourcePoolConfigurationWriteHandler.INSTANCE);
      }
 else {
        resourceRegistration.registerReadWriteAttribute(attribute,null,new DisableRequiredWriteAttributeHandler(DATASOURCE_ATTRIBUTE));
      }
    }
    for (    final PropertiesAttributeDefinition attribute : DATASOURCE_PROPERTIES_ATTRIBUTES) {
      if (PoolConfigurationRWHandler.ATTRIBUTES.contains(attribute.getName())) {
        resourceRegistration.registerReadWriteAttribute(attribute,PoolConfigurationRWHandler.PoolConfigurationReadHandler.INSTANCE,PoolConfigurationRWHandler.LocalAndXaDataSourcePoolConfigurationWriteHandler.INSTANCE);
      }
 else {
        resourceRegistration.registerReadWriteAttribute(attribute,null,new DisableRequiredWriteAttributeHandler(DATASOURCE_PROPERTIES_ATTRIBUTES));
      }
    }
  }
  for (  SimpleAttributeDefinition attribute : READONLY_DATASOURCE_ATTRIBUTE) {
    resourceRegistration.registerReadOnlyAttribute(attribute,null);
  }
}
