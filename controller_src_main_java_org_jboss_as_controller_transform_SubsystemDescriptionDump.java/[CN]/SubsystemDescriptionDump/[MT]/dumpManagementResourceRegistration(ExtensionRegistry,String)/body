{
  ManagementResourceRegistration profile=registry.getProfileRegistration();
  try {
    for (    PathElement pe : profile.getChildAddresses(PathAddress.EMPTY_ADDRESS)) {
      ManagementResourceRegistration registration=profile.getSubModel(PathAddress.pathAddress(pe));
      String subsystem=pe.getValue();
      SubsystemInformation info=registry.getSubsystemInfo(subsystem);
      ModelNode desc=readFullModelDescription(PathAddress.pathAddress(pe),registration);
      String name=subsystem + "-" + info.getManagementInterfaceMajorVersion()+ "."+ info.getManagementInterfaceMinorVersion()+ "."+ info.getManagementInterfaceMicroVersion()+ ".dmr";
      PrintWriter pw=new PrintWriter(new File(path,name));
      desc.writeString(pw,false);
      pw.close();
    }
  }
 catch (  IOException e) {
    throw new OperationFailedException("could not save,",e);
  }
}
