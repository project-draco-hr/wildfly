{
  assertNotNull("Bundle injected",bundle);
  assertEquals("example-bundle",bundle.getSymbolicName());
  assertEquals(Version.emptyVersion,bundle.getVersion());
  Assert.assertEquals(Bundle.RESOLVED,bundle.getState());
  bundle.start();
  Assert.assertEquals(Bundle.ACTIVE,bundle.getState());
  BundleContext context=bundle.getBundleContext();
  ServiceReference sref=context.getServiceReference(SimpleService.class.getName());
  assertNotNull("ServiceReference not null",sref);
  SimpleService service=(SimpleService)context.getService(sref);
  assertNotNull("Service not null",service);
  int sum=service.sum(1,2,3);
  assertEquals(6,sum);
  bundle.stop();
  Assert.assertEquals(Bundle.RESOLVED,bundle.getState());
}
