{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final List<BeanContainerConfiguration> containerConfigs=deploymentUnit.getAttachment(Attachments.BEAN_CONTAINER_CONFIGS);
  if (containerConfigs == null || containerConfigs.isEmpty()) {
    return;
  }
  final CompositeIndex index=deploymentUnit.getAttachment(org.jboss.as.server.deployment.Attachments.COMPOSITE_ANNOTATION_INDEX);
  if (index == null) {
    return;
  }
  for (  BeanContainerConfiguration containerConfig : containerConfigs) {
    final ClassInfo classInfo=index.getClassByName(DotName.createSimple(containerConfig.getBeanClass()));
    containerConfig.addResourceInjectionConfigs(getResourceConfigurations(classInfo));
    final List<MethodInterceptorConfiguration> interceptorConfigurations=containerConfig.getMethodInterceptorConfigs();
    for (    MethodInterceptorConfiguration interceptorConfiguration : interceptorConfigurations) {
      final ClassInfo interceptorClassInfo=index.getClassByName(DotName.createSimple(interceptorConfiguration.getInterceptorClassName()));
      interceptorConfiguration.addResourceInjectionConfigs(getResourceConfigurations(interceptorClassInfo));
    }
  }
}
