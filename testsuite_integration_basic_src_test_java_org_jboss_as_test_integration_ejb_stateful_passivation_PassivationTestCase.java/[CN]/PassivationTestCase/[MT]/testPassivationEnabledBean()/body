{
  final PassivationEnabledBean bean=(PassivationEnabledBean)ctx.lookup("java:module/" + PassivationEnabledBean.class.getSimpleName() + "!"+ PassivationEnabledBean.class.getName());
  bean.doNothing();
  final DDBasedSFSB ddBean=(DDBasedSFSB)ctx.lookup("java:module/passivation-enabled-bean" + "!" + DDBasedSFSB.class.getName());
  ddBean.doNothing();
  final PassivationEnabledBean bean2=(PassivationEnabledBean)ctx.lookup("java:module/" + PassivationEnabledBean.class.getSimpleName() + "!"+ PassivationEnabledBean.class.getName());
  bean2.doNothing();
  final DDBasedSFSB ddBean2=(DDBasedSFSB)ctx.lookup("java:module/passivation-enabled-bean" + "!" + DDBasedSFSB.class.getName());
  ddBean2.doNothing();
  Thread.sleep(PASSIVATION_WAIT);
  Assert.assertTrue("(Annotation based) Stateful bean marked as passivation enabled was not passivated",bean.wasPassivated());
  Assert.assertTrue("(Annotation based) Stateful bean marked as passivation enabled was not activated",bean.wasActivated());
  Assert.assertTrue("(Deployment descriptor based) Stateful bean marked as passivation enabled was not passivated",ddBean.wasPassivated());
  Assert.assertTrue("(Deployment descriptor based) Stateful bean marked as passivation enabled was not activated",ddBean.wasActivated());
}
