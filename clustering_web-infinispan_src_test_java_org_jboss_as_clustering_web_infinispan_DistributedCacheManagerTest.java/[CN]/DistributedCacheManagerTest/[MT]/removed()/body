{
  @SuppressWarnings("unchecked") CacheEntryRemovedEvent<SessionKey,Map<Object,Object>> event=mock(CacheEntryRemovedEvent.class);
  when(event.isPre()).thenReturn(true);
  this.manager.removed(event);
  verifyZeroInteractions(this.sessionManager);
  when(event.isPre()).thenReturn(false);
  when(event.isOriginLocal()).thenReturn(true);
  this.manager.removed(event);
  verifyNoMoreInteractions(this.sessionManager);
  SessionKey key=mock(SessionKey.class);
  when(event.isPre()).thenReturn(false);
  when(event.isOriginLocal()).thenReturn(false);
  when(event.getCache()).thenReturn(this.sessionCache);
  when(this.sessionCache.getAdvancedCache()).thenReturn(this.sessionCache);
  when(this.sessionCache.getClassLoader()).thenReturn(Thread.currentThread().getContextClassLoader());
  when(event.getKey()).thenReturn(key);
  when(this.keyFactory.ours(key)).thenReturn(false);
  verifyNoMoreInteractions(this.sessionManager);
  when(event.isPre()).thenReturn(false);
  when(event.isOriginLocal()).thenReturn(false);
  when(event.getCache()).thenReturn(this.sessionCache);
  when(this.sessionCache.getAdvancedCache()).thenReturn(this.sessionCache);
  when(this.sessionCache.getClassLoader()).thenReturn(Thread.currentThread().getContextClassLoader());
  when(event.getKey()).thenReturn(key);
  when(this.keyFactory.ours(key)).thenReturn(true);
  when(key.getSessionId()).thenReturn("abc");
  this.manager.removed(event);
  verify(this.sessionManager).notifyRemoteInvalidation("abc");
}
