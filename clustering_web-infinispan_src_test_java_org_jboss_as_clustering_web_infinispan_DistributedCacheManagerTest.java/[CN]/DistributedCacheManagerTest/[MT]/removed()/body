{
  @SuppressWarnings("unchecked") CacheEntryRemovedEvent<String,Map<Object,Object>> event=mock(CacheEntryRemovedEvent.class);
  when(event.isPre()).thenReturn(true);
  this.manager.removed(event);
  verifyZeroInteractions(this.sessionManager);
  when(event.isPre()).thenReturn(false);
  when(event.isOriginLocal()).thenReturn(true);
  this.manager.removed(event);
  verifyNoMoreInteractions(this.sessionManager);
  when(event.isPre()).thenReturn(false);
  when(event.isOriginLocal()).thenReturn(false);
  when(event.getCache()).thenReturn(this.cache);
  when(this.cache.getAdvancedCache()).thenReturn(this.cache);
  when(this.cache.getClassLoader()).thenReturn(Thread.currentThread().getContextClassLoader());
  when(event.getKey()).thenReturn("abc");
  this.manager.removed(event);
  verify(this.sessionManager).notifyRemoteInvalidation("abc");
}
