{
  String sessionId="abc";
  @SuppressWarnings("rawtypes") ArgumentCaptor<CacheInvoker.Operation> capturedOperation=ArgumentCaptor.forClass(CacheInvoker.Operation.class);
  when(this.invoker.invoke(same(this.cache),capturedOperation.capture())).thenReturn(null);
  this.manager.removeSession(sessionId);
  CacheInvoker.Operation<String,Map<Object,Object>,Void> operation=capturedOperation.getValue();
  when(this.cache.getAdvancedCache()).thenReturn(this.cache);
  when(this.cache.withFlags(Flag.SKIP_CACHE_LOAD,Flag.SKIP_REMOTE_LOOKUP)).thenReturn(this.cache);
  operation.invoke(this.cache);
  verify(this.cache).remove(sessionId);
}
