{
  DistributionManager distManager=mock(DistributionManager.class);
  String sessionId="ABC123";
  when(this.sessionCache.getAdvancedCache()).thenReturn(this.sessionCache);
  if (locality != null) {
    when(this.sessionCache.getDistributionManager()).thenReturn(distManager);
    when(distManager.getLocality(sessionId)).thenReturn(locality);
  }
 else {
    when(this.sessionCache.getDistributionManager()).thenReturn(null);
  }
  boolean result=this.manager.isLocal(sessionId);
  assertEquals(local,result);
}
