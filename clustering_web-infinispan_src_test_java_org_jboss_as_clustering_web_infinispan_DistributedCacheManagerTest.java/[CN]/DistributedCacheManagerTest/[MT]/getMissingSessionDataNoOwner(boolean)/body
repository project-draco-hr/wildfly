{
  IncomingDistributableSessionData expected=mock(IncomingDistributableSessionData.class);
  SessionKey key=mock(SessionKey.class);
  @SuppressWarnings("rawtypes") ArgumentCaptor<DistributedCacheManager.Operation> capturedOperation=ArgumentCaptor.forClass(DistributedCacheManager.Operation.class);
  String sessionId="abc";
  when(this.keyFactory.createKey(sessionId)).thenReturn(key);
  when(this.invoker.invoke(same(this.sessionCache),capturedOperation.capture())).thenReturn(expected);
  IncomingDistributableSessionData result=this.manager.getSessionData(sessionId,null,includeAttributes);
  assertSame(expected,result);
  DistributedCacheManager<OutgoingDistributableSessionData,SessionKey>.Operation<IncomingDistributableSessionData> operation=capturedOperation.getValue();
  when(this.sessionCache.get(key)).thenReturn(null);
  result=operation.invoke(this.sessionCache);
  assertNull(result);
}
