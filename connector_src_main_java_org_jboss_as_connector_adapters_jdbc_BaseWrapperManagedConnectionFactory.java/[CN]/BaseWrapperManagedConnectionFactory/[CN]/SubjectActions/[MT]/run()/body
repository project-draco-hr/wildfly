{
  Iterator<?> i=subject.getPrivateCredentials().iterator();
  while (i.hasNext()) {
    Object o=i.next();
    if (o instanceof PasswordCredential) {
      PasswordCredential cred=(PasswordCredential)o;
      if (cred.getManagedConnectionFactory().equals(mcf)) {
        props.setProperty("user",(cred.getUserName() == null) ? "" : cred.getUserName());
        if (cred.getPassword() != null)         props.setProperty("password",new String(cred.getPassword()));
        return Boolean.TRUE;
      }
    }
  }
  return Boolean.FALSE;
}
