{
  final Reference reference=(Reference)obj;
  final StringRefAddr nameAdr=(StringRefAddr)reference.get("nns");
  if (nameAdr == null) {
    throw new NamingException("Invalid context reference.  Not a 'nns' reference.");
  }
  final Object ctx=reference.get("context").getContent();
  if (!(ctx instanceof Context)) {
    throw new NamingException("Failed to get global context");
  }
  return ctx;
}
