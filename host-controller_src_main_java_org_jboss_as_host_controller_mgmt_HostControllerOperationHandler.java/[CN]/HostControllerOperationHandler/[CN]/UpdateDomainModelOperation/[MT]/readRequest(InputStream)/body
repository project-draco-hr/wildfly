{
  final Unmarshaller unmarshaller=getUnmarshaller();
  unmarshaller.start(createByteInput(input));
  expectHeader(unmarshaller,HostControllerProtocol.PARAM_DOMAIN_MODEL_UPDATE_COUNT);
  int count=unmarshaller.readInt();
  updates=new ArrayList<AbstractDomainModelUpdate<?>>(count);
  for (int i=0; i < count; i++) {
    expectHeader(unmarshaller,HostControllerProtocol.PARAM_DOMAIN_MODEL_UPDATE);
    final AbstractDomainModelUpdate<?> update=unmarshal(unmarshaller,AbstractDomainModelUpdate.class);
    updates.add(update);
  }
  unmarshaller.finish();
  log.infof("Received domain model updates %s",updates);
}
