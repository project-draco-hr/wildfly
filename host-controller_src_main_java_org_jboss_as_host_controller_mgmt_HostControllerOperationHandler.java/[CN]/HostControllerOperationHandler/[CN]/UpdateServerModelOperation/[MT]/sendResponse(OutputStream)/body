{
  List<UpdateResultHandlerResponse<?>> responses=hostController.applyServerUpdates(serverName,updates,allowOverallRollback);
  final Marshaller marshaller=getMarshaller();
  marshaller.start(createByteOutput(output));
  marshaller.writeByte(HostControllerProtocol.PARAM_MODEL_UPDATE_RESPONSE_COUNT);
  marshaller.writeInt(responses.size());
  for (  UpdateResultHandlerResponse<?> response : responses) {
    marshaller.writeByte(HostControllerProtocol.PARAM_MODEL_UPDATE_RESPONSE);
    marshaller.writeObject(response);
  }
  marshaller.finish();
}
