{
  ServiceName sslServiceName=realmServiceName.append(SSLIdentityService.SERVICE_SUFFIX);
  SSLIdentityService sslIdentityService=new SSLIdentityService(ssl,unmaskSslKeystorePassword(context,ssl));
  ServiceBuilder<?> sslBuilder=serviceTarget.addService(sslServiceName,sslIdentityService);
  if (ssl.hasDefined(KEYSTORE) && ssl.get(KEYSTORE).hasDefined(RELATIVE_TO)) {
    sslBuilder.addDependency(pathName(ssl.get(KEYSTORE,RELATIVE_TO).asString()),String.class,sslIdentityService.getRelativeToInjector());
  }
  newControllers.add(sslBuilder.setInitialMode(ON_DEMAND).install());
  return sslServiceName;
}
