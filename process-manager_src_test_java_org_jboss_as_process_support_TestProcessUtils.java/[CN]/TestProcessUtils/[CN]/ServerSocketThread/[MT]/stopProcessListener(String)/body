{
  CountDownLatch processLatch=null;
synchronized (this) {
    ListenerSocketThread thread=listenerThreadsByProcessName.get(name);
    if (thread == null)     return;
    processLatch=new CountDownLatch(1);
    stopProcessLatches.put(name,processLatch);
    controller.stopProcess(name);
    System.err.println("Stopping " + name + " "+ stopProcessLatches);
  }
  try {
    processLatch.await(TIMEOUT_MILLISECONDS,TimeUnit.SECONDS);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
  System.err.println("Stopped " + name);
}
