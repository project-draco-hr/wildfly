{
  System.err.println(this.getName() + " closing server");
  closeServer();
synchronized (this) {
    for (    ListenerSocketThread listener : listenerThreads) {
      listener.shutdown();
      if (listener.getProcessName() != null)       controller.stopProcess(listener.getProcessName());
    }
    for (    ListenerSocketThread listener : listenerThreadsByProcessName.values()) {
      listener.shutdown();
      if (listener.getProcessName() != null)       controller.stopProcess(listener.getProcessName());
    }
    listenerThreadsByProcessName.clear();
  }
}
