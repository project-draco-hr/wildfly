{
  final ModelNode address=new ModelNode();
  address.add("subsystem","resource-adapters");
  address.protect();
  final ModelNode operation=new ModelNode();
  operation.get(OP).set("read-children-resources");
  operation.get("child-type").set(childType);
  operation.get(RECURSIVE).set(true);
  operation.get(OP_ADDR).set(address);
  final ModelNode result=executeOperation(operation);
  ModelNode dsNode=new ModelNode();
  dsNode.get(childType).set(result);
  StringWriter strWriter=new StringWriter();
  XMLExtendedStreamWriter writer=XMLExtendedStreamWriterFactory.create(XMLOutputFactory.newFactory().createXMLStreamWriter(strWriter));
  ResourceAdapterSubsystemParser parser=new ResourceAdapterSubsystemParser();
  parser.writeContent(writer,new SubsystemMarshallingContext(dsNode,writer));
  writer.flush();
  XMLMapper mapper=XMLMapper.Factory.create();
  mapper.registerRootElement(new QName(Namespace.CURRENT.getUriString(),"subsystem"),parser);
  StringReader strReader=new StringReader(strWriter.toString());
  XMLStreamReader reader=XMLInputFactory.newInstance().createXMLStreamReader(new StreamSource(strReader));
  List<ModelNode> newList=new ArrayList<ModelNode>();
  mapper.parseDocument(newList,reader);
  return newList;
}
