{
  final DeploymentUnit deploymentUnit=phaseContext.getDeploymentUnit();
  final EEModuleDescription moduleDescription=deploymentUnit.getAttachment(Attachments.EE_MODULE_DESCRIPTION);
  if (moduleDescription == null) {
    return;
  }
  final EEModuleConfiguration moduleConfiguration=deploymentUnit.getAttachment(Attachments.EE_MODULE_CONFIGURATION);
  if (moduleConfiguration == null) {
    throw new DeploymentUnitProcessingException("EE module description found, but no module configuration attached to the deployment.");
  }
  final Collection<EEModuleClassDescription> classDescriptions=moduleDescription.getClassDescriptions();
  if (classDescriptions != null)   for (  EEModuleClassDescription classDescription : classDescriptions) {
    final EEModuleClassConfiguration classConfiguration=moduleConfiguration.getClassConfiguration(classDescription.getClassName());
    for (    ClassConfigurator classConfigurator : classDescription.getConfigurators()) {
      classConfigurator.configure(phaseContext,classDescription,classConfiguration);
    }
  }
}
