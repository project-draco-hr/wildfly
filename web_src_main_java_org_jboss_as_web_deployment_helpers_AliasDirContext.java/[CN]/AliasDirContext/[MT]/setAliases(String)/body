{
  aliases.clear();
  if (theAliases == null || theAliases.length() == 0)   return;
  String[] kvps=theAliases.split(",");
  for (  String kvp : kvps) {
    String[] kv=kvp.split("=");
    if (kv.length != 2 || kv[0].length() == 0 || kv[1].length() == 0) {
      throw new IllegalArgumentException(theAliases);
    }
    if (kv[0].equals("/")) {
      throw new IllegalArgumentException(theAliases);
    }
    File aliasLoc=new File(kv[1]);
    if (!aliasLoc.exists()) {
      throw new IllegalArgumentException(theAliases);
    }
    BaseDirContext context;
    if (kv[1].endsWith(".war") && !(aliasLoc.isDirectory())) {
      context=new WARDirContext();
    }
 else     if (aliasLoc.isDirectory()) {
      context=new FileDirContext();
    }
 else {
      throw new IllegalArgumentException(theAliases);
    }
    context.setDocBase(kv[1]);
    addAlias(kv[0],context);
  }
}
