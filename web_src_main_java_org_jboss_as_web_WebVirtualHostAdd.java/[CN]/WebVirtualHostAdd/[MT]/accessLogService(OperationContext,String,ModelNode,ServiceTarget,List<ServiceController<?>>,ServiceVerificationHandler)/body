{
  if (node.get(DIRECTORY_PATH.getKey(),DIRECTORY_PATH.getValue()).isDefined()) {
    final ModelNode directory=node.get(DIRECTORY_PATH.getKey(),DIRECTORY_PATH.getValue());
    final String relativeTo=WebAccessLogDirectoryDefinition.RELATIVE_TO.resolveModelAttribute(context,directory).asString();
    final String path=WebAccessLogDirectoryDefinition.PATH.resolveModelAttribute(context,directory).asString();
    RelativePathService.addService(WebSubsystemServices.JBOSS_WEB_HOST.append(hostName,Constants.ACCESS_LOG),path,false,relativeTo,target,newControllers,verificationHandler);
  }
 else {
    RelativePathService.addService(WebSubsystemServices.JBOSS_WEB_HOST.append(hostName,Constants.ACCESS_LOG),hostName,false,DEFAULT_RELATIVE_TO,target,newControllers,verificationHandler);
  }
}
