{
  Set<String> managedNames=new HashSet<String>();
  Set<String> unmanagedNames=new HashSet<String>();
  for (  String name : contentItemNode.keys()) {
    if (contentItemNode.hasDefined(name)) {
      if (MANAGED_CONTENT_ATTRIBUTES.containsKey(name)) {
        managedNames.add(name);
      }
 else       if (UNMANAGED_CONTENT_ATTRIBUTES.containsKey(name)) {
        unmanagedNames.add(name);
      }
 else {
        throw MESSAGES.unknownContentItemKey(name);
      }
    }
  }
  if (managedNames.size() > 1) {
    throw MESSAGES.cannotHaveMoreThanOneManagedContentItem(MANAGED_CONTENT_ATTRIBUTES.keySet());
  }
  if (unmanagedNames.size() > 0 && managedNames.size() > 0) {
    throw MESSAGES.cannotMixUnmanagedAndManagedContentItems(managedNames,unmanagedNames);
  }
  if (unmanagedNames.size() > 0) {
    if (!unmanagedNames.contains(CONTENT_ARCHIVE.getName())) {
      throw MESSAGES.nullParameter(CONTENT_ARCHIVE.getName());
    }
    if (!unmanagedNames.contains(CONTENT_PATH.getName())) {
      throw MESSAGES.nullParameter(CONTENT_PATH.getName());
    }
  }
  for (  String key : contentItemNode.keys()) {
    AttributeDefinition def=MANAGED_CONTENT_ATTRIBUTES.get(key);
    if (def == null) {
      def=UNMANAGED_CONTENT_ATTRIBUTES.get(key);
    }
    if (def != null) {
      def.validateOperation(contentItemNode);
    }
  }
}
