{
  ModuleIdentifier identifier=moduleSpec.getModuleIdentifier();
  log.debugf("Add module spec to loader: %s",identifier);
  ServiceName serviceName=ServiceModuleLoader.moduleSpecServiceName(identifier);
  serviceTarget.addService(ServiceModuleLoader.moduleInformationServiceName(identifier),new ValueService<ModuleSpecification>(new ImmediateValue<ModuleSpecification>(new ModuleSpecification()))).install();
  ServiceBuilder<ModuleSpec> builder=serviceTarget.addService(serviceName,new AbstractService<ModuleSpec>(){
    public ModuleSpec getValue() throws IllegalStateException {
      return moduleSpec;
    }
  }
);
  builder.install();
}
