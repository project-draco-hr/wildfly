{
  ModuleIdentifier identifier=moduleSpec.getModuleIdentifier();
  ServiceName serviceName=ServiceModuleLoader.moduleSpecServiceName(identifier);
  ServiceBuilder<ModuleSpec> builder=serviceTarget.addService(serviceName,new AbstractService<ModuleSpec>(){
    public ModuleSpec getValue() throws IllegalStateException {
      return moduleSpec;
    }
  }
);
  builder.install();
}
