{
  long start=System.currentTimeMillis();
  Future<ModelNode> blockFuture=block("slave","main-three",BlockerExtension.BlockPoint.RUNTIME);
  String id=findActiveOperation(masterClient,"master",null,"block",null,start);
  try {
    ModelNode op=Util.createEmptyOperation("find-non-progressing-operation",PathAddress.pathAddress(PathElement.pathElement(HOST,"master")).append(MGMT_CONTROLLER));
    op.get("timeout").set(0);
    ModelNode result=executeForResult(op,masterClient);
    assertEquals(result.toString(),id,result.asString());
  }
  finally {
    try {
      blockFuture.cancel(true);
      validateNoActiveOperation(masterClient,"master",null,id,true);
    }
 catch (    Exception toLog) {
      log.error("Failed to cancel in testFindNonProgressingOperation",toLog);
    }
  }
}
