{
  PathAddress baseAddress=getManagementControllerAddress(host,server);
  long timeout=System.currentTimeMillis() + TimeoutUtil.adjust(5000);
  MgmtOperationException failure;
  do {
    String id=findActiveOperation(client,baseAddress,"block");
    if (id == null) {
      return;
    }
    failure=null;
    PathAddress address=baseAddress.append(PathElement.pathElement(ACTIVE_OPERATION,id));
    ModelNode op=Util.createEmptyOperation(READ_ATTRIBUTE_OPERATION,address);
    op.get(NAME).set(OP);
    try {
      executeForFailure(op,client);
    }
 catch (    MgmtOperationException moe) {
      failure=moe;
    }
    Thread.sleep(50);
  }
 while (System.currentTimeMillis() < timeout);
  throw failure;
}
