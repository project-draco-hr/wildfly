{
  AbstractServerConfig config=new ServerConfigImpl(mbeanServer,serverEnvironment);
  try {
    config.setWebServiceHost(configuration.getWebServiceHost());
  }
 catch (  UnknownHostException e) {
    throw new RuntimeException(e);
  }
  config.setModifySOAPAddress(configuration.isModifySOAPAddress());
  if (configuration.getWebServicePort() != null) {
    config.setWebServicePort(configuration.getWebServicePort());
  }
  if (configuration.getWebServiceSecurePort() != null) {
    config.setWebServicePort(configuration.getWebServiceSecurePort());
  }
  return config;
}
