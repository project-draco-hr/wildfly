{
  DomainClient masterClient=support.getDomainMasterLifecycleUtil().getDomainClient();
  PathAddress profileAddress=PathAddress.pathAddress("profile","profile-a");
  PathAddress subsystemAddress=profileAddress.append("subsystem","1");
  ModelNode addExtension=Util.createAddOperation(PathAddress.pathAddress("extension",TestExtension.MODULE_NAME));
  DomainTestUtils.executeForResult(addExtension,masterClient);
  ModelNode addSubsystem=Util.createAddOperation(subsystemAddress);
  addSubsystem.get("name").set("dummy name");
  DomainTestUtils.executeForResult(addSubsystem,masterClient);
  ModelNode addResource=Util.createAddOperation(subsystemAddress.append("rbac-sensitive","other"));
  DomainTestUtils.executeForResult(addResource,masterClient);
  addResource=Util.createAddOperation(subsystemAddress.append("rbac-constrained","default"));
  addResource.get("password").set("sa");
  addResource.get("security-domain").set("other");
  DomainTestUtils.executeForResult(addResource,masterClient);
}
