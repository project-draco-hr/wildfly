{
  final JavaArchive archive=ShrinkWrap.create(JavaArchive.class);
  archive.addPackage(extension.getPackage());
  if (additionalPackages != null) {
    for (    Package pkg : additionalPackages) {
      archive.addPackage(pkg);
    }
  }
  archive.addAsServiceProvider(Extension.class,extension);
  return archive.as(ZipExporter.class);
}
