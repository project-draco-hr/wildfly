{
  if (type == TestModelType.STANDALONE) {
    return new TestModelControllerService(processType,runningModeControl,persister,validateOps,type,modelInitializer,new DelegatingResourceDefinition(),new ControlledProcessState(true));
  }
  DescriptionProvider root=type == TestModelType.HOST ? HostDescriptionProviders.HOST_ROOT_PROVIDER : DomainDescriptionProviders.ROOT_PROVIDER;
  return new TestModelControllerService(processType,runningModeControl,persister,validateOps,type,modelInitializer,root,new ControlledProcessState(true));
}
