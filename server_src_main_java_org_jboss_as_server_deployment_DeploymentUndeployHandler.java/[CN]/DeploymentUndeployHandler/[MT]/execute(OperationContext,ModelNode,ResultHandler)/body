{
  ModelNode compensatingOp=DeploymentDeployHandler.getOperation(operation.require(OP_ADDR));
  ModelNode model=context.getSubModel();
  final String deploymentUnitName=model.require(RUNTIME_NAME).asString();
  model.get(ENABLED).set(false);
  DeploymentHandlerUtil.undeploy(context,deploymentUnitName,resultHandler);
  return new BasicOperationResult(compensatingOp);
}
