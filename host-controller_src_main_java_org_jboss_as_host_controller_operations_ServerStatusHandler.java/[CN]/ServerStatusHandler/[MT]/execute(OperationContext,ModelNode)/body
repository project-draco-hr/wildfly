{
  final PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
  final PathElement element=address.getLastElement();
  final String serverName=element.getValue();
  final ModelNode subModel=context.readModel(PathAddress.EMPTY_ADDRESS);
  final boolean isStart;
  if (subModel.hasDefined(AUTO_START)) {
    isStart=subModel.get(AUTO_START).asBoolean();
  }
 else {
    isStart=true;
  }
  ServerStatus status=serverInventory.determineServerStatus(serverName);
  if (status == ServerStatus.STOPPED) {
    status=isStart ? status : ServerStatus.DISABLED;
  }
  if (status != null) {
    context.getResult().set(status.toString());
    context.completeStep();
  }
 else {
    throw new OperationFailedException(new ModelNode().set(MESSAGES.failedToGetServerStatus()));
  }
}
