{
  final PathAddress address=PathAddress.pathAddress(operation.require(OP_ADDR));
  final PathElement element=address.getLastElement();
  final String serverName=element.getValue();
  final ModelNode subModel=context.readResource(PathAddress.EMPTY_ADDRESS,false).getModel();
  final boolean isStart=ServerConfigResourceDefinition.AUTO_START.resolveModelAttribute(context,subModel).asBoolean();
  ServerStatus status=serverInventory.determineServerStatus(serverName);
  if (status == ServerStatus.STOPPED) {
    status=isStart ? status : ServerStatus.DISABLED;
  }
  if (status != null) {
    context.getResult().set(status.toString());
    context.stepCompleted();
  }
 else {
    throw new OperationFailedException(new ModelNode(MESSAGES.failedToGetServerStatus()));
  }
}
