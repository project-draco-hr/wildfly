{
  final String serverName=input.readUTF();
  final int operationId=input.readInt();
  serverProcessName=serverName;
  CONTROLLER_MANAGEMENT_LOGGER.serverConnected(serverName,context.getChannel());
  context.executeAsync(new ManagementRequestContext.AsyncTask<Void>(){
    @Override public void execute(    final ManagementRequestContext<Void> context) throws Exception {
      try {
        final OperationStepHandler stepHandler=new ServerRegistrationStepHandler(serverName,context);
        final ModelNode result=operationExecutor.joinActiveOperation(EMPTY_OP,OperationMessageHandler.DISCARD,ModelController.OperationTransactionControl.COMMIT,OperationAttachments.EMPTY,stepHandler,operationId);
        if (!SUCCESS.equals(result.get(OUTCOME).asString())) {
          safeWriteResponse(context.getChannel(),context.getRequestHeader(),DomainServerProtocol.PARAM_ERROR);
        }
      }
 catch (      Exception e) {
        safeWriteResponse(context,e);
      }
      resultHandler.done(null);
    }
  }
,registrations);
}
