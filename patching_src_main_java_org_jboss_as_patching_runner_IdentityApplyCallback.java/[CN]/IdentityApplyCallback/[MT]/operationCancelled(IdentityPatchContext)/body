{
  final InstalledImage image=structure.getInstalledImage();
  IoUtils.recursiveDelete(image.getPatchHistoryDir(patchId));
  IoUtils.recursiveDelete(structure.getBundlesPatchDirectory(patchId));
  IoUtils.recursiveDelete(structure.getModulePatchDirectory(patchId));
  for (  final PatchElement element : original.getElements()) {
    boolean addOn=element.getProvider().isAddOn();
    final IdentityPatchContext.PatchEntry entry=context.getEntry(element.getProvider().getName(),addOn);
    final DirectoryStructure structure=entry.getDirectoryStructure();
    IoUtils.recursiveDelete(structure.getBundlesPatchDirectory(element.getId()));
    IoUtils.recursiveDelete(structure.getModulePatchDirectory(element.getId()));
  }
}
