{
  final CountDownLatch timeoutNotifier=new CountDownLatch(1);
  this.bean.createSingleActionTimer(300,new TimerConfig(null,false),timeoutNotifier);
  final boolean timeoutInvoked=timeoutNotifier.await(5,TimeUnit.SECONDS);
  Assert.assertTrue("Timeout method was not invoked (within 5 seconds)",timeoutInvoked);
  int count=0;
  boolean passed=false;
  while (count < 20 && !passed) {
    try {
      this.bean.invokeOnExpiredTimer();
      Assert.fail("Expected to fail on invoking on an expired timer");
    }
 catch (    NoSuchObjectLocalException nsole) {
      logger.info("Got the expected exception " + nsole);
      passed=true;
    }
catch (    NoMoreTimeoutsException e) {
      Thread.sleep(100);
      count++;
    }
  }
  if (!passed) {
    Assert.fail("Got NoMoreTimeoutsException rather than  NoSuchObjectLocalException");
  }
}
