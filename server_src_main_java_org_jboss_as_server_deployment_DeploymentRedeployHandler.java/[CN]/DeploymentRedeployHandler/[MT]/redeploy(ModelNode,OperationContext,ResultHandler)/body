{
  if (context.getRuntimeContext() != null) {
    String deploymentUnitName=model.require(NAME).asString();
    final ServiceName deploymentUnitServiceName=Services.deploymentUnitName(deploymentUnitName);
    final ServiceRegistry serviceRegistry=context.getRuntimeContext().getServiceRegistry();
    final ServiceController<?> controller=serviceRegistry.getService(deploymentUnitServiceName);
    controller.setMode(ServiceController.Mode.NEVER);
    controller.setMode(ServiceController.Mode.ACTIVE);
    controller.addListener(new ResultHandler.ServiceStartListener(resultHandler));
  }
 else {
    resultHandler.handleResultComplete();
  }
}
