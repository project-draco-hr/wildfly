{
  if (!configurationDir.exists() || !configurationDir.isDirectory()) {
    throw new IllegalArgumentException("No directory " + configurationDir.getAbsolutePath() + " was found");
  }
  this.configurationDir=configurationDir;
  this.mainFile=new File(configurationDir,rawName);
  this.historyRoot=mkdir(new File(configurationDir,rawName.replace('.','_')));
  this.currentHistory=new File(historyRoot,"current");
  this.snapshotsDirectory=mkdir(new File(historyRoot,"snapshot"));
  this.bootFile=name != null && name.equals(rawName) ? mainFile : determineBootFile(configurationDir,name == null ? rawName : name);
}
