{
  if (!doneBootup.get()) {
    return;
  }
  try {
    if (persistOriginal) {
      moveFile(mainFile,getVersionedFile(mainFile));
    }
 else {
      moveFile(lastFile,getVersionedFile(mainFile));
    }
    int seq=sequence.get();
    if (seq > CURRENT_HISTORY_LENGTH) {
      File delete=getVersionedFile(mainFile,seq - CURRENT_HISTORY_LENGTH);
      if (delete.exists()) {
        delete.delete();
      }
    }
  }
 catch (  IOException e) {
    throw MESSAGES.failedToBackup(e,mainFile);
  }
}
