{
  List<String> names=new ArrayList<String>();
  if (snapshotsDirectory.exists() && snapshotsDirectory.isDirectory()) {
    for (    String curr : snapshotsDirectory.list()) {
      if (curr.startsWith(prefix)) {
        names.add(curr);
      }
    }
  }
  if (names.size() == 0 && errorIfNoFiles) {
    throw ControllerLogger.ROOT_LOGGER.fileNotFoundWithPrefix(prefix,snapshotsDirectory.getAbsolutePath());
  }
  if (names.size() > 1) {
    throw ControllerLogger.ROOT_LOGGER.ambiguousName(prefix,snapshotsDirectory.getAbsolutePath(),names);
  }
  return names.size() > 0 ? new File(snapshotsDirectory,names.get(0)) : null;
}
