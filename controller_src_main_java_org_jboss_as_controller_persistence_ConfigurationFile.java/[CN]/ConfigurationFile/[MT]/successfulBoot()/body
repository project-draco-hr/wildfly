{
synchronized (this) {
    if (doneBootup.get()) {
      return;
    }
    try {
      createHistoryDirectory();
      final File last=addSuffixToFile(mainFile,LAST);
      final File original=addSuffixToFile(mainFile,ORIGINAL);
      final File initial=addSuffixToFile(mainFile,INITIAL);
      if (!initial.exists()) {
        copyFile(mainFile,initial);
      }
      copyFile(mainFile,last);
      copyFile(mainFile,original);
      snapshot();
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
    doneBootup.set(true);
  }
}
