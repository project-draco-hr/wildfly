{
  if (callbackRan.compareAndSet(false,true)) {
    final long end=System.currentTimeMillis();
    finishCallback.run(serviceFailures,end - start,totalServices,expectedNonActiveServices.size() - startedOnDemandServicesUpdater.get(this),startedServices);
  }
}
