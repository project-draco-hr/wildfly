{
  final ServiceName serviceName=serviceController.getName();
  serviceFailures.put(serviceName,reason);
  if (countUpdater.decrementAndGet(this) == 0) {
    batchComplete();
  }
  serviceController.removeListener(this);
  log.infof("Failed %s: %d",serviceController.getName(),count);
}
