{
  Deque<E> st=deque.get();
  if (st == null) {
    throw new EmptyStackException();
  }
  E val=st.pop();
  if (st.isEmpty()) {
    deque.remove();
  }
  return val;
}
