{
  if (done.getAndSet(true)) {
    return;
  }
  serviceTarget.removeListener(this);
  if (cancelLikely) {
    return;
  }
  final int failed=this.failed.get() + outstanding;
  final long elapsedTime=Math.max(System.currentTimeMillis() - startTime,0L);
  final int started=this.started.get();
  done(container,elapsedTime,started,failed,map,missingDepsSet);
}
