{
  final ModelNode composite=Util.getEmptyOperation(COMPOSITE,new ModelNode());
  final ModelNode steps=composite.get(STEPS);
  ModelNode op=createOpNode("subsystem=web/connector=test-" + conn.getName() + "-connector","add");
  op.get("socket-binding").set("test-" + conn.getName() + socketBindingCount);
  op.get("scheme").set(conn.getScheme());
  op.get("protocol").set(conn.getProtocol());
  op.get("secure").set(conn.isSecure());
  op.get("enabled").set(true);
  steps.add(op);
  if (conn.isSecure()) {
    ModelNode ssl=createOpNode("subsystem=web/connector=test-" + conn.getName() + "-connector/configuration=ssl","add");
    if (conn.equals(Connector.HTTPSNATIVE)) {
      ssl.get("certificate-key-file").set(keyPEMFile.getAbsolutePath());
      ssl.get("certificate-file").set(certPEMFile.getAbsolutePath());
    }
 else {
      ssl.get("certificate-key-file").set(keyStoreFile.getAbsolutePath());
    }
    ssl.get("password").set("test123");
    steps.add(ssl);
  }
  return composite;
}
