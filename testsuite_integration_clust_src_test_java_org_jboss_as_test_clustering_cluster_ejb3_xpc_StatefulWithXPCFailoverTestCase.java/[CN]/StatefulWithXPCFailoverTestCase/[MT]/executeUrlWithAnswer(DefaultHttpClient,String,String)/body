{
  int maxWait=GRACE_TIME;
  while (maxWait > 0) {
    HttpResponse response=client.execute(new HttpGet(url));
    try {
      if (response.getStatusLine().getStatusCode() < 400 || response.getStatusLine().getStatusCode() > 500) {
        assertEquals(200,response.getStatusLine().getStatusCode());
        Header header=response.getFirstHeader("answer");
        if (header != null) {
          return header.getValue();
        }
        throw new AssertionError("assertExecuteUrlWithResult didn't get expected answer from executed url=" + url + ", "+ message);
      }
    }
  finally {
      response.getEntity().getContent().close();
    }
    maxWait-=100;
    Thread.sleep(100);
  }
  throw new AssertionError("assertExecuteUrlWithResult Timed out trying to execute url=" + url + ", "+ message);
}
