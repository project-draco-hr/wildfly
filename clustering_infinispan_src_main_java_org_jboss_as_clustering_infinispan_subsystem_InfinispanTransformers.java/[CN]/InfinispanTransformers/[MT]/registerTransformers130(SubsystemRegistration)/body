{
  final ModelVersion version=ModelVersion.create(1,3);
  final ResourceTransformationDescriptionBuilder subsystemBuilder=TransformationDescriptionBuilder.Factory.createSubsystemInstance();
  final ResourceTransformationDescriptionBuilder cacheContainerBuilder=subsystemBuilder.addChildResource(CacheContainerResourceDefinition.WILDCARD_PATH).getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,InfinispanRejectedExpressions_1_3.REJECT_CONTAINER_ATTRIBUTES).setDiscard(new DiscardAttributeChecker.DiscardAttributeValueChecker(false,false,new ModelNode(true)),CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.UNDEFINED,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(new RejectAttributeChecker.SimpleRejectAttributeChecker(new ModelNode(false)),CacheResourceDefinition.STATISTICS_ENABLED).end();
  cacheContainerBuilder.addChildResource(TransportResourceDefinition.PATH).getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,InfinispanRejectedExpressions_1_3.REJECT_TRANSPORT_ATTRIBUTES).end();
  final ResourceTransformationDescriptionBuilder localCacheBuilder=cacheContainerBuilder.addChildResource(LocalCacheResourceDefinition.WILDCARD_PATH).getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.BATCHING,CacheResourceDefinition.INDEXING,CacheResourceDefinition.JNDI_NAME,CacheResourceDefinition.MODULE,CacheResourceDefinition.START).setDiscard(DiscardAttributeChecker.UNDEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).addRejectCheck(RejectAttributeChecker.DEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).setDiscard(new DiscardAttributeChecker.DiscardAttributeValueChecker(false,false,new ModelNode(true)),CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.UNDEFINED,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(new RejectAttributeChecker.SimpleRejectAttributeChecker(new ModelNode(false)),CacheResourceDefinition.STATISTICS_ENABLED).end();
  registerCacheResourceChildren(localCacheBuilder,false);
  final ResourceTransformationDescriptionBuilder invalidationCacheBuilder=cacheContainerBuilder.addChildResource(InvalidationCacheResourceDefinition.WILDCARD_PATH).getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,ClusteredCacheResourceDefinition.ASYNC_MARSHALLING,CacheResourceDefinition.BATCHING,CacheResourceDefinition.INDEXING,CacheResourceDefinition.JNDI_NAME,ClusteredCacheResourceDefinition.MODE,CacheResourceDefinition.MODULE,ClusteredCacheResourceDefinition.QUEUE_FLUSH_INTERVAL,ClusteredCacheResourceDefinition.QUEUE_SIZE,ClusteredCacheResourceDefinition.REMOTE_TIMEOUT,CacheResourceDefinition.START).setDiscard(DiscardAttributeChecker.UNDEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).addRejectCheck(RejectAttributeChecker.DEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).setDiscard(new DiscardAttributeChecker.DiscardAttributeValueChecker(false,false,new ModelNode(true)),CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.UNDEFINED,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(new RejectAttributeChecker.SimpleRejectAttributeChecker(new ModelNode(false)),CacheResourceDefinition.STATISTICS_ENABLED).end();
  registerCacheResourceChildren(invalidationCacheBuilder,false);
  ResourceTransformationDescriptionBuilder replicatedCacheBuilder=cacheContainerBuilder.addChildResource(ReplicatedCacheResourceDefinition.WILDCARD_PATH);
  replicatedCacheBuilder.getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,ClusteredCacheResourceDefinition.ASYNC_MARSHALLING,CacheResourceDefinition.BATCHING,CacheResourceDefinition.INDEXING,CacheResourceDefinition.JNDI_NAME,ClusteredCacheResourceDefinition.MODE,CacheResourceDefinition.MODULE,ClusteredCacheResourceDefinition.QUEUE_FLUSH_INTERVAL,ClusteredCacheResourceDefinition.QUEUE_SIZE,ClusteredCacheResourceDefinition.REMOTE_TIMEOUT,CacheResourceDefinition.START).setDiscard(DiscardAttributeChecker.UNDEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).addRejectCheck(RejectAttributeChecker.DEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).setDiscard(new DiscardAttributeChecker.DiscardAttributeValueChecker(false,false,new ModelNode(true)),CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.UNDEFINED,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(new RejectAttributeChecker.SimpleRejectAttributeChecker(new ModelNode(false)),CacheResourceDefinition.STATISTICS_ENABLED).end();
  replicatedCacheBuilder.rejectChildResource(BackupSiteResourceDefinition.WILDCARD_PATH);
  replicatedCacheBuilder.rejectChildResource(BackupForResourceDefinition.PATH);
  registerCacheResourceChildren(replicatedCacheBuilder,true);
  ResourceTransformationDescriptionBuilder distributedCacheBuilder=cacheContainerBuilder.addChildResource(DistributedCacheResourceDefinition.WILDCARD_PATH);
  distributedCacheBuilder.getAttributeBuilder().addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,ClusteredCacheResourceDefinition.ASYNC_MARSHALLING,CacheResourceDefinition.BATCHING,CacheResourceDefinition.INDEXING,CacheResourceDefinition.JNDI_NAME,ClusteredCacheResourceDefinition.MODE,CacheResourceDefinition.MODULE,ClusteredCacheResourceDefinition.QUEUE_FLUSH_INTERVAL,ClusteredCacheResourceDefinition.QUEUE_SIZE,ClusteredCacheResourceDefinition.REMOTE_TIMEOUT,CacheResourceDefinition.START,DistributedCacheResourceDefinition.L1_LIFESPAN,DistributedCacheResourceDefinition.OWNERS,DistributedCacheResourceDefinition.VIRTUAL_NODES,DistributedCacheResourceDefinition.SEGMENTS).setDiscard(DiscardAttributeChecker.UNDEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).addRejectCheck(RejectAttributeChecker.DEFINED,CacheResourceDefinition.INDEXING_PROPERTIES).setDiscard(DiscardAttributeChecker.UNDEFINED,DistributedCacheResourceDefinition.SEGMENTS).setValueConverter(new AttributeConverter.DefaultAttributeConverter(){
    @Override protected void convertAttribute(    PathAddress address,    String attributeName,    ModelNode attributeValue,    TransformationContext context){
      if (attributeValue.isDefined()) {
        attributeValue.set(SegmentsAndVirtualNodeConverter.segmentsToVirtualNodes(attributeValue.asString()));
      }
    }
  }
,DistributedCacheResourceDefinition.SEGMENTS).addRename(DistributedCacheResourceDefinition.SEGMENTS,DistributedCacheResourceDefinition.VIRTUAL_NODES.getName()).setDiscard(new DiscardAttributeChecker.DiscardAttributeValueChecker(false,false,new ModelNode(true)),CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.UNDEFINED,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(RejectAttributeChecker.SIMPLE_EXPRESSIONS,CacheResourceDefinition.STATISTICS_ENABLED).addRejectCheck(new RejectAttributeChecker.SimpleRejectAttributeChecker(new ModelNode(false)),CacheResourceDefinition.STATISTICS_ENABLED).end();
  distributedCacheBuilder.rejectChildResource(BackupSiteResourceDefinition.WILDCARD_PATH);
  distributedCacheBuilder.rejectChildResource(BackupForResourceDefinition.PATH);
  registerCacheResourceChildren(distributedCacheBuilder,true);
  TransformationDescription.Tools.register(subsystemBuilder.build(),subsystem,version);
}
