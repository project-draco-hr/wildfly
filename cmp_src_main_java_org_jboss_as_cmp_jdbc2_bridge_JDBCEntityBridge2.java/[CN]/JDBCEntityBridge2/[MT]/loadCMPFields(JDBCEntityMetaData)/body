{
  List cmpFieldsList=new ArrayList(metadata.getCMPFields().size());
  List pkFieldsList=new ArrayList(metadata.getCMPFields().size());
  Iterator iter=metadata.getCMPFields().iterator();
  while (iter.hasNext()) {
    JDBCCMPFieldMetaData cmpFieldMetaData=(JDBCCMPFieldMetaData)iter.next();
    JDBCCMPFieldBridge2 cmpField=addTableField(cmpFieldMetaData);
    if (cmpFieldMetaData.isPrimaryKeyMember()) {
      pkFieldsList.add(cmpField);
    }
 else {
      cmpFieldsList.add(cmpField);
    }
  }
  pkFields=new JDBCCMPFieldBridge2[pkFieldsList.size()];
  for (int i=0; i < pkFieldsList.size(); ++i) {
    pkFields[i]=(JDBCCMPFieldBridge2)pkFieldsList.get(i);
  }
  cmpFields=new JDBCCMPFieldBridge2[metadata.getCMPFields().size() - pkFields.length];
  int cmpFieldIndex=0;
  for (int i=0; i < cmpFieldsList.size(); ++i) {
    cmpFields[cmpFieldIndex++]=(JDBCCMPFieldBridge2)cmpFieldsList.get(i);
  }
}
