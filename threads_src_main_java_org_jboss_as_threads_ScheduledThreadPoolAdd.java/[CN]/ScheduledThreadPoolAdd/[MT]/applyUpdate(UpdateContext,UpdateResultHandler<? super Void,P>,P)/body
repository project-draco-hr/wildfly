{
  final BatchBuilder builder=updateContext.getBatchBuilder();
  final ScaledCount maxThreadsCount=getMaxThreads();
  final int maxThreads=maxThreadsCount.getScaledCount();
  final String name=getName();
  final ServiceName serviceName=ThreadsServices.executorName(name);
  final UnboundedQueueThreadPoolService service=new UnboundedQueueThreadPoolService(maxThreads,getKeepaliveTime());
  final ServiceBuilder<ExecutorService> serviceBuilder=builder.addService(serviceName,service);
  addThreadFactoryDependency(serviceName,serviceBuilder,service.getThreadFactoryInjector(),builder);
}
