{
  if ((jdbmIndexBean == null) || jdbmIndexBean.isDisabled()) {
    return null;
  }
  JdbmIndex<String,Entry> index=new JdbmIndex<String,Entry>();
  index.setAttributeId(jdbmIndexBean.getIndexAttributeId());
  index.setCacheSize(jdbmIndexBean.getIndexCacheSize());
  index.setNumDupLimit(jdbmIndexBean.getIndexNumDupLimit());
  String indexFileName=jdbmIndexBean.getIndexFileName();
  if (indexFileName == null) {
    indexFileName=jdbmIndexBean.getIndexAttributeId();
  }
  SchemaManager schemaManager=directoryService.getSchemaManager();
  try {
    AttributeType indexAT=schemaManager.lookupAttributeTypeRegistry(indexFileName);
    indexFileName=indexAT.getOid();
  }
 catch (  LdapException le) {
  }
  if (jdbmIndexBean.getIndexWorkingDir() != null) {
    index.setWkDirPath(new File(jdbmIndexBean.getIndexWorkingDir()).toURI());
  }
 else {
    index.setWkDirPath(partition.getPartitionPath());
  }
  return index;
}
