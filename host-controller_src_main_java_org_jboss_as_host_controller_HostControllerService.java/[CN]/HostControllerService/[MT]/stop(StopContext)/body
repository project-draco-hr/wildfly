{
  final HostController controller=this.controller;
  final DomainControllerConnection connection=this.connection.getValue();
  connection.unregister();
  this.controller=null;
  final ModelNode rawModel=hostModel.getHostModel();
  if (rawModel.hasDefined(SERVER)) {
    final ModelNode servers=rawModel.get(SERVER).clone();
    for (    final String serverName : servers.keys()) {
      if (servers.get(serverName,START).asBoolean(true)) {
        try {
          controller.stopServer(serverName);
        }
 catch (        Exception e) {
          log.errorf(e,"failed to stop server (%s)",serverName);
        }
      }
    }
  }
}
